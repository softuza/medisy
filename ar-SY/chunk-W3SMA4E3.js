import{a as x}from"./chunk-EI6KO2MZ.js";import{a as Ve}from"./chunk-AIABD6YE.js";import{b as Ue}from"./chunk-VLSORBJL.js";import{a as $e}from"./chunk-XMV3WQ4U.js";import{a as J}from"./chunk-4CCIOANG.js";import{b as q,c as Pe,e as Re,g as ye,i as be,s as ze,t as Le}from"./chunk-DTDLQFEI.js";import{a as G}from"./chunk-LE7PIAIE.js";import{c as V,g as Fe,h as Ie,i as $,j as Y,l as De,m as T,n as Ae}from"./chunk-SN47SBJJ.js";import{a as b,b as z,d as Te,e as L,g as N}from"./chunk-FNLNZMXX.js";import{A as he,C as Oe,D as Ne,a as de,b as pe,h as ce,i as _e,p as Ce,y as Ee,z as ge}from"./chunk-H22FBATM.js";import{d as w,f as oe,g as O,h as D,l as A,m as re,n as P,o as R,p as y,r as ne,s as f}from"./chunk-IUM5Y4DP.js";import{a as ve}from"./chunk-V7FSE2VH.js";import{a as c}from"./chunk-UAYSNPL7.js";import{b as U}from"./chunk-2H6GRCHT.js";import"./chunk-HUJ4SFSJ.js";import{e as ae,f as ue,g as Se,h as Me}from"./chunk-7TGQVE3C.js";import{i as H}from"./chunk-HXVM5UCI.js";import"./chunk-QCDHUYXG.js";import"./chunk-QWTR64PL.js";import{Ka as le,Pa as me,Ra as se,Ua as fe}from"./chunk-53RWJDYX.js";import{Bb as l,Cb as m,Db as p,L as u,Nb as C,Pb as E,Rb as X,Wb as I,Xb as k,Zb as g,a as K,ac as h,b as Q,cb as n,da as W,db as d,kb as M,la as _,ma as Z,nb as a,tb as v,ub as S,wb as ee,xb as te,yb as ie}from"./chunk-M2QTEBXZ.js";function we(r,t){if(r&1&&(l(0,"mat-label"),I(1),m()),r&2){let F=X();n(1),k(F.label);}}function He(r,t){r&1&&(l(0,"mat-option"),I(1,"-"),m());}function qe(r,t){if(r&1&&(l(0,"mat-option",4),I(1),m()),r&2){let F=t.$implicit,i=X();a("value",i.getOptionValue(F)),n(1),k(i.getOptionContent(F));}}function Je(r,t){r&1&&(l(0,"mat-error"),C(1,5),m());}function Ke(r,t){r&1&&(l(0,"mat-error"),C(1,6),m());}function Qe(r,t){r&1&&(l(0,"mat-error"),C(1,7),m());}function We(r,t){r&1&&p(0,"mat-progress-bar",3);}var j=(()=>{let t=class t extends Ce{constructor(i,o){super(i),this.ngControl=i,this.mlabService=o,this.label=ve.unit;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.units.get(Q(K({},Me.unpaged()),{sortBy:"name"})).pipe(u(1),V(this.indicator)).subscribe(i=>{this.options.push(...i.items),this.totalPages=i.totalPages;});}};t.ɵfac=function(o){return new(o||t)(d(oe,10),d(c));},t.ɵcmp=_({type:t,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[g([c]),M,h],decls:11,vars:10,consts:()=>{let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let o;o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u064A\u0633 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644";let e;return e="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],i,o,e];},template:function(o,e){o&1&&(l(0,"div",0)(1,"mat-form-field",1),v(2,we,2,1,"mat-label"),l(3,"mat-select",2),E("szScrolled",function(){return e.scroll();}),v(4,He,2,0,"mat-option"),te(5,qe,2,2,"mat-option",4,ee),m(),v(7,Je,2,0,"mat-error")(8,Ke,2,0,"mat-error")(9,Qe,2,0,"mat-error"),m(),v(10,We,1,0,"mat-progress-bar",3),m()),o&2&&(n(2),S(2,e.label?2:-1),n(1),a("formControl",e.control)("multiple",e.multiple)("placeholder",e.placeholder)("szScrollIgnored",e.indicator()),n(1),S(4,e.emptyOption?4:-1),ie(5,e.options),n(3),S(7,e.control.hasError("required")?7:-1),n(1),S(8,e.control.hasError("min")?8:-1),n(1),S(9,e.control.hasError("max")?9:-1),n(1),S(10,e.indicator()?10:-1));},dependencies:[f,O,re,he,ce,de,pe,ge,le,Se,ue,Ue],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let r=t;return r;})();var Be=(()=>{let t=class t extends Fe{constructor(i,o,e){super(o),this.fb=i,this.dialog=o,this.data=e,this.comparisonOperators=Object.values($e),this.form=i.group({testClassId:[e.testClassId],unitId:[e.unitId],includeLaboratoryIds:[e.includeLaboratoryIds]});}submit(){this.IsValid()&&this.dialog?.close(this.form.value);}};t.ɵfac=function(o){return new(o||t)(d(y),d(b),d(z));},t.ɵcmp=_({type:t,selectors:[["medisy-reference-values-filter"]],standalone:!0,features:[g([]),M,h],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(o,e){o&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),m()(),p(6,"sz-ui-dialog-actions",5)),o&2&&(a("header",e.header),n(2),a("formGroup",e.form),n(1),a("emptyOption",!0),n(1),a("emptyOption",!0),n(1),a("multiple",!0),n(1),a("actions",e.actions));},dependencies:[f,A,O,D,P,R,N,L,T,$,Y,x,j,Ve],encapsulation:2});let r=t;return r;})();var je=(()=>{let t=class t extends Ie{constructor(i,o,e,s){super(e),this.mlabService=i,this.fb=o,this.dialog=e,this.data=s,this.form=o.group({description:[s?.description,[w.maxLength(4096)]],testClassId:[s?.testClassId,[w.required]],unitId:[s?.unitId,[]],multiplier:[s?.multiplier,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceValues.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceValues.create(this.form.value)));}};t.ɵfac=function(o){return new(o||t)(d(c),d(y),d(b),d(z));},t.ɵcmp=_({type:t,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[g([]),M,h],decls:8,vars:3,consts:()=>{let i;i="\u0627\u0644\u0648\u0635\u0641";let o;return o="\u0645\u0636\u0627\u0639\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",i],["formControlName","unitId"],["formControlName","multiplier","label",o],["formControlName","testClassId"],[3,"actions"]];},template:function(o,e){o&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),m()(),p(7,"sz-ui-dialog-actions",6)),o&2&&(a("header",e.header),n(2),a("formGroup",e.form),n(5),a("actions",e.actions));},dependencies:[f,A,O,D,P,R,N,L,_e,be,T,$,Y,Ne,Ee,Oe,j,x],encapsulation:2});let r=t;return r;})();var Xe=(()=>{let t=class t{constructor(i,o){this.dialog=i,this.mlabService=o,this.title=G.referenceValues,this.dataSource=new Re(),this.dataSource.addRows(Pe.default([q.hyperlink("testClass",G.testClass,e=>e.id,e=>e.testClass.name),q.text("unit",G.unit,e=>e.multiplier?`10^${e.multiplier.toExponential(0).split("e").map(s=>Number(s))[1]}/${e.unit?.abbreviation}`:e.unit?.abbreviation),J.createdAt(),J.menu([H.edit(e=>this.openSaveComponent(e)),H.delete(e=>this.openReferenceValueDeleteComponent(e))])])),this.get();}openSaveComponent(i){this.dialog.open(je,{data:i}).afterClosed().pipe(u(1)).subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openFilterComponent(){this.dialog.open(Be,{data:this.dataSource.filter}).afterClosed().pipe(u(1)).subscribe(i=>{this.dataSource.updateFilter(i),this.get();});}openReferenceValueDeleteComponent(i){this.dialog.open(De,{data:Ae.delete(this.mlabService.referenceValues.delete(i.id),i)}).afterClosed().pipe(u(1)).subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.referenceValues.get(this.dataSource.buildRequest()).pipe(V(this.dataSource.indicator),u(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};t.ɵfac=function(o){return new(o||t)(d(Te),d(c));},t.ɵcmp=_({type:t,selectors:[["medisy-laboratory-reference-values"]],decls:6,vars:4,consts:()=>{let i;return i="\u0625\u0636\u0627\u0641\u0629",[[3,"title"],[3,"filter","search","filterClicked"],["mat-flat-button","","color","primary","start","",3,"click"],i,[3,"stateEnabled","dataSource","update"]];},template:function(o,e){o&1&&(p(0,"sz-ui-header-info",0),l(1,"sz-ui-table-filter",1),E("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),l(2,"button",2),E("click",function(){return e.openSaveComponent();}),l(3,"span"),C(4,3),m()()(),l(5,"sz-ui-table",4),E("update",function(){return e.get();}),m()),o&2&&(a("title",e.title),n(1),a("filter",e.dataSource.filter),n(4),a("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[me,U,ze,ye],encapsulation:2});let r=t;return r;})();var ke=[{path:"",component:Xe}];var hi=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=Z({type:t}),t.ɵinj=W({providers:[c],imports:[ne,f,ae.forChild(ke),N,fe,se,U,Le,T]});let r=t;return r;})();export{hi as ReferenceValuesModule};/**i18n:57d51d98a1caf33655ef4bd810bc01e640b40122eced811536cfa6d9191b03b1*/