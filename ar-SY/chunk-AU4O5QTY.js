import{c as Ce}from"./chunk-4X3EEI6G.js";import{a as ie}from"./chunk-2H6XLBVO.js";import{a as h}from"./chunk-WO6X2WJ6.js";import{a as m,b as K,d as W,e as Z,j as ee,k as te}from"./chunk-5PCBRLS6.js";import"./chunk-JXJYDBQT.js";import"./chunk-H3FOOGF5.js";import"./chunk-7GEYLSOC.js";import{a as u}from"./chunk-BC6TH3PO.js";import"./chunk-UYYWHWBI.js";import{e as k,f as q,g as H,i as Q,j as v,k as J}from"./chunk-5NWVIDQT.js";import{a as x}from"./chunk-NXQ5VREG.js";import{h as T,j as X}from"./chunk-HWSLRHWT.js";import{a as Y,b as $,d as C,e as G,g as E}from"./chunk-Z2LVGH3F.js";import{c as _e,q as ye,r as w,s as Me}from"./chunk-ZW4ISBNU.js";import"./chunk-WABYONCF.js";import"./chunk-KCMCGJDS.js";import"./chunk-ZSZINKJW.js";import{c as j}from"./chunk-NE5STG6Q.js";import"./chunk-LGG5C546.js";import{d as b,f as z,g as L,l as P,n as B,q as F,r as U,u as V}from"./chunk-WH3JX6YX.js";import"./chunk-HWVQOC2X.js";import{a as y,c as fe,e as M}from"./chunk-LCFIH6IT.js";import"./chunk-6BPUQMXP.js";import{ia as Te,la as g}from"./chunk-CKMIAYXP.js";import"./chunk-YNHLE3XH.js";import{Eb as pe,Fa as A,Jb as l,Kb as c,Lb as d,Wb as D,Yb as me,bb as p,cb as s,ea as ue,hc as R,ja as O,jc as Se,na as S,nc as _,oa as ce,oc as f,qb as N,vb as se,zb as a}from"./chunk-ID6V6OOS.js";import"./chunk-YPLVL3HC.js";var Ee=(()=>{let i=class i extends k{constructor(t,e,o,n){super(o),this.mlabService=t,this.fb=e,this.dialog=o,this.data=n,this.form=e.group({nameEn:[n.testTypeResultOption?.nameEn,[b.required]],description:[n.testTypeResultOption?.description,[]],abbreviation:[n.testTypeResultOption?.abbreviation,[]],nameAr:[n.testTypeResultOption?.nameAr,[]]});}submit(){this.IsValid()&&(this.data.testTypeResultOption?this.save(this.mlabService.testTypes.resultOptions.update(this.data.testTypeId,this.data.testTypeResultOption?.id,this.form.value)):this.save(this.mlabService.testTypes.resultOptions.create(this.data.testTypeId,this.form.value)));}};i.ɵfac=function(e){return new(e||i)(s(u),s(U),s(Y),s($));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-test-type-result-options-save"]],standalone:!0,features:[_([]),N,f],decls:8,vars:5,consts:()=>{let t;t="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629";let e;e="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629";let o;o="\u0627\u0644\u0648\u0635\u0641";let n;return n="\u0623\u062E\u062A\u0635\u0627\u0631",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",t],["formControlName","nameAr","label",e],["formControlName","description","label",o],["formControlName","abbreviation","label",n],[3,"actions"]];},template:function(e,o){e&1&&(d(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),d(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-input",5),c()(),d(7,"sz-ui-dialog-actions",6)),e&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),p(2),a("formGroup",o.form),p(5),a("actions",o.actions));},dependencies:[V,P,z,L,B,F,E,G,w,v,q,H,_e],encapsulation:2});let r=i;return r;})();var oe=(()=>{let i=class i{constructor(t,e,o){this.dialog=t,this.mlabService=e,this.route=o,this.dataSource=new W(),this.testTypeId=A.required(),this.card={title:j.result_options,menu:X.more([T.add(()=>this.openSaveComponent())])},this.dataSource.columnDefs.push(m.uuid("id"),m.string("nameEn").setStacked(m.string("nameAr").setValueClassFontSmall()),m.string("abbreviation"),m.date("createdAt").setVisible(!1),m.date("updatedAt").setVisible(!1),K.menu([T.edit(n=>this.openSaveComponent(n)),T.delete(n=>this.openTestTypeResultOptionDeleteComponent(n))]));}ngOnInit(){this.get();}openSaveComponent(t){this.dialog.open(Ee,{data:{testTypeId:this.testTypeId(),testTypeResultOption:t}}).afterClosed().subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestTypeResultOptionDeleteComponent(t){this.dialog.open(Q,{data:J.delete(this.mlabService.testTypes.resultOptions.delete(t.testTypeId,t.id),t)}).afterClosed().subscribe(e=>{this.dataSource.delete(e);});}updateItem(t){this.mlabService.testTypes.resultOptions.update(t.testTypeId,t.id,t).subscribe(e=>{this.dataSource.update(e);});}get(){this.mlabService.testTypes.resultOptions.get(this.testTypeId(),this.dataSource.getQuery()).pipe(Z(this.dataSource.state)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};i.ɵfac=function(e){return new(e||i)(s(C),s(u),s(y));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-test-type-result-options"]],inputs:{testTypeId:[1,"testTypeId"]},standalone:!0,features:[f],decls:2,vars:3,consts:[[3,"card"],["content","",3,"update","paginationEnabled","dataSource"]],template:function(e,o){e&1&&(l(0,"sz-ui-card",0)(1,"sz-ui-table",1),D("update",function(){return o.get();}),c()()),e&2&&(a("card",o.card),p(),a("paginationEnabled",!1)("dataSource",o.dataSource));},dependencies:[M,g,te,ee,h],encapsulation:2});let r=i;return r;})();var ge=(()=>{let i=class i extends k{constructor(t,e,o,n){super(o),this.mlabService=t,this.fb=e,this.dialog=o,this.data=n,this.units=this.mlabService.units.getAll({orderBy:["name"]}),this.form=e.group({unitId:[n.testTypeUnit?.unitId,[b.required]],isDefault:[n.testTypeUnit?.isDefault??!1,[b.required]]});}submit(){this.IsValid()&&(this.data.testTypeUnit?this.save(this.mlabService.testTypes.units.update(this.data.testTypeId,this.data.testTypeUnit?.id,this.form.value)):this.save(this.mlabService.testTypes.units.create(this.data.testTypeId,this.form.value)));}};i.ɵfac=function(e){return new(e||i)(s(u),s(U),s(Y),s($));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-test-type-units-save"]],standalone:!0,features:[_([]),N,f],decls:7,vars:6,consts:()=>{let t;return t="\u0648\u0627\u062D\u062F\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","unitId","label",t,3,"source"],["formControlName","isDefault"],[3,"actions"]];},template:function(e,o){e&1&&(d(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),d(3,"sz-ui-form-field-select",2),l(4,"mat-checkbox",3),R(5,"Default"),c()()(),d(6,"sz-ui-dialog-actions",4)),e&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),p(2),a("formGroup",o.form),p(),a("source",o.units),p(3),a("actions",o.actions));},dependencies:[V,P,z,L,B,F,E,G,w,ye,v,q,H,Me],encapsulation:2});let r=i;return r;})();var re=(()=>{let i=class i{constructor(t,e,o){this.dialog=t,this.mlabService=e,this.route=o,this.dataSource=new W(),this.testTypeId=A.required(),this.card={title:j.units,menu:X.more([T.add(()=>this.openSaveComponent())])},this.dataSource.columnDefs.push(m.uuid("id"),m.uuid("unitId"),m.string("unit.name"),m.date("createdAt").setVisible(!1),m.date("updatedAt").setVisible(!1),K.menu([T.edit(n=>this.openSaveComponent(n)),T.delete(n=>this.openTestTypeUnitDeleteComponent(n))]));}ngOnInit(){this.get();}openSaveComponent(t){this.dialog.open(ge,{data:{testTypeId:this.testTypeId(),testTypeUnit:t}}).afterClosed().subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestTypeUnitDeleteComponent(t){this.dialog.open(Q,{data:J.delete(this.mlabService.testTypes.units.delete(t.testTypeId,t.id),t)}).afterClosed().subscribe(e=>{this.dataSource.delete(e);});}updateItem(t){this.mlabService.testTypes.units.update(t.testTypeId,t.id,t).subscribe(e=>{this.dataSource.update(e);});}get(){this.mlabService.testTypes.units.get(this.testTypeId(),this.dataSource.getQuery()).pipe(Z(this.dataSource.state)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};i.ɵfac=function(e){return new(e||i)(s(C),s(u),s(y));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-test-type-units"]],inputs:{testTypeId:[1,"testTypeId"]},standalone:!0,features:[f],decls:2,vars:3,consts:[[3,"card"],["content","",3,"update","paginationEnabled","dataSource"]],template:function(e,o){e&1&&(l(0,"sz-ui-card",0)(1,"sz-ui-table",1),D("update",function(){return o.get();}),c()()),e&2&&(a("card",o.card),p(),a("paginationEnabled",!1)("dataSource",o.dataSource));},dependencies:[M,g,te,ee,h],encapsulation:2});let r=i;return r;})();function ze(r,i){if(r&1&&(l(0,"p"),R(1),c()),r&2){let ne=me();p(),Se(" ",ne.testType.description,`
`);}}function Le(r,i){if(r&1&&d(0,"sz-medisy-laboratory-test-type-result-options",2),r&2){let ne=me();a("testTypeId",ne.testType.id);}}var he=(()=>{let i=class i{constructor(){this.dialog=O(C),this.mlabService=O(u),this.route=O(y),this.router=O(fe),this.testType=this.route.snapshot.data.testType,this.appBarConfig={title:this.testType.nameEn,backEnabled:!0};}};i.ɵfac=function(e){return new(e||i)();},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-test-type"]],features:[_([])],decls:6,vars:5,consts:[[3,"config"],[1,"tw-grid","lg:tw-grid-cols-2","tw-gap-2","tw-mb-2"],[3,"testTypeId"]],template:function(e,o){e&1&&(d(0,"sz-ui-app-bar",0),se(1,ze,2,1,"p"),l(2,"div",1),d(3,"sz-medisy-laboratory-test-type-specimen-types",2)(4,"sz-medisy-laboratory-test-type-units",2),se(5,Le,1,1,"sz-medisy-laboratory-test-type-result-options",2),c()),e&2&&(a("config",o.appBarConfig),p(),pe(o.testType.description?1:-1),p(2),a("testTypeId",o.testType.id),p(),a("testTypeId",o.testType.id),p(),pe(o.testType.hasResultOptions?5:-1));},dependencies:[x,ie,re,oe],encapsulation:2});let r=i;return r;})();var ve=[{path:"",component:he},{path:"specimen-types",loadComponent:()=>import("./chunk-7G6YFCEL.js").then(r=>r.TestTypeSpecimenTypesComponent)}];var oi=(()=>{let i=class i{};i.ɵfac=function(e){return new(e||i)();},i.ɵmod=ce({type:i}),i.ɵinj=ue({providers:[u],imports:[M.forChild(ve),E,Te,g,Ce,x,v,h,ie,re,oe]});let r=i;return r;})();export{oi as TestTypeModule};/**i18n:4821e1b9962cdddbef9c2ff89937dbb197b2343c5ff627ac1e6724c8725e235e*/