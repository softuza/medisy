import{a as Se,b as Me,c as ue}from"./chunk-23OOMF5X.js";import{a as z,b as me}from"./chunk-HFYY4TZJ.js";import{a as q,b as J,c as K,d as Q,e as V,f as W,g as Z,h as ee}from"./chunk-OKU4SN6A.js";import{a as ce}from"./chunk-NFR6WWHE.js";import{a as _}from"./chunk-CRATQ45Z.js";import{a as E}from"./chunk-C44WSZ5E.js";import{d as se,g as ae}from"./chunk-WBZAM75Y.js";import{a as ne,b as re}from"./chunk-6SRMRYZC.js";import{a as g}from"./chunk-57FWGG3J.js";import{a as L}from"./chunk-JQ3GAVZW.js";import{f as D}from"./chunk-ACGKKLNQ.js";import"./chunk-SUXNJZRF.js";import"./chunk-ISAWOBMZ.js";import{b as le,d as de}from"./chunk-L6BMLV26.js";import{a as v,b as x,c as _e}from"./chunk-5ODKHLUD.js";import"./chunk-LOBLBQWK.js";import{b as pe}from"./chunk-ER63VEFB.js";import"./chunk-GTAADJAG.js";import{t as k,v as R}from"./chunk-QNNLOUIR.js";import{a as d}from"./chunk-A375HXIX.js";import"./chunk-G5MYBKYL.js";import{a as T}from"./chunk-NAIGIBUH.js";import{a as h}from"./chunk-CBGBJVBN.js";import{D as X,F,H as w,Pa as te,Qa as ie,Ta as oe,l as U}from"./chunk-F5GW25TI.js";import{Ab as p,Kb as y,L as B,Ob as P,Tb as l,Ub as u,Vb as $,Wb as O,Zb as H,_a as I,bc as C,cb as a,cc as A,da as j,db as m,la as N,ma as G,nb as Y,tb as f,ub as M,yb as s,zb as r}from"./chunk-PWEA5SW5.js";function Oe(e,o){if(e&1&&(s(0,"p"),l(1),C(2,"personName"),r()),e&2){let c=P();a(1),$("",A(2,1,c.person==null?null:c.person.father)," ");}}function Re(e,o){if(e&1&&(s(0,"p"),l(1),C(2,"personName"),r()),e&2){let c=P();a(1),$("",A(2,1,c.person==null?null:c.person.mother)," ");}}function Te(e,o){e&1&&(s(0,"mat-card-footer"),p(1,"mat-progress-bar",5),r());}var b=(()=>{let o=class o{set personId(n){this._personId=n,this.getPerson(n);}constructor(n,t,i,S){this.mlabService=n,this.mpplService=t,this.typeI18nPipe=i,this.personNamePipe=S,this.indicator=I(!1);}getPerson(n){this.mpplService.persons.getById(n).pipe(B(1),pe(this.indicator)).subscribe(t=>{this.person=t;});}};o.ɵfac=function(t){return new(t||o)(m(d),m(E),m(D),m(_));},o.ɵcmp=N({type:o,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[O([D]),H],decls:20,vars:9,consts:()=>{let n;n="\u0627\u0644\u0645\u0631\u064A\u0636";let t;t="\u0627\u0644\u0645\u0632\u064A\u062F";let i;return i="\u062C\u062F\u064A\u062F",[[1,"example-card"],n,["mat-button","","route","./"],t,i,["mode","indeterminate"]];},template:function(t,i){t&1&&(s(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),y(3,1),r(),s(4,"mat-card-title"),l(5),C(6,"personName"),r()(),s(7,"mat-card-content")(8,"p"),l(9),C(10,"personAge"),r(),f(11,Oe,3,3,"p")(12,Re,3,3,"p"),p(13,"mat-divider"),r(),s(14,"mat-card-actions")(15,"button",2),y(16,3),r(),s(17,"button",2),y(18,4),r()(),f(19,Te,2,0,"mat-card-footer"),r()),t&2&&(a(5),u(A(6,5,i.person)),a(4),u(A(10,7,i.person==null?null:i.person.birthDate)),a(2),M(11,i.person!=null&&i.person.father?11:-1),a(1),M(12,i.person!=null&&i.person.mother?12:-1),a(7),M(19,i.indicator()?19:-1));},dependencies:[ee,q,V,K,Z,W,Q,J,re,ne,ie,te,R,k,_,ce],encapsulation:2});let e=o;return e;})();function ve(e,o){if(e&1&&p(0,"medisy-people-persons-common-person-card",5),e&2){let c=P();Y("personId",c.analysis.personId);}}var fe=(()=>{let o=class o{constructor(n,t,i,S,Ce,Ae){this.dialog=n,this.route=t,this.router=i,this.mlabService=S,this.mpplService=Ce,this.personNamePipe=Ae,this.alert$=I(void 0),this.testsDataSource=new le(T.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=_e.more([x.edit(()=>this.openEditComponent),x.print(()=>this.openEditComponent)]),this.analysis=this.route.snapshot.data.analysis,this.buildTiles();}buildTiles(){let n={icon:"science",subtitle:"\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",type:z.Counter,clickFn:()=>this.router.navigate(["tests"],{relativeTo:this.route})},t={icon:"label",subtitle:"\u0627\u0644\u0639\u064A\u0646\u0627\u062A",type:z.Counter,clickFn:()=>this.router.navigate(["specimens"],{relativeTo:this.route})};this.mlabService.analyses.tests.count(this.analysis.id,T.count()).subscribe(i=>{n.title=i;}),this.mlabService.analyses.specimens.count(this.analysis.id,T.count()).subscribe(i=>{t.title=i;}),this.tiles.push(n),this.tiles.push(t);}openEditComponent(){}};o.ɵfac=function(t){return new(t||o)(m(se),m(X),m(F),m(d),m(E),m(_));},o.ɵcmp=N({type:o,selectors:[["medisy-laboratory-analysis"]],features:[O([d,E,_])],decls:15,vars:4,consts:()=>{let n;n="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let t;return t="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card","tw-my-4"],[3,"personId"],["mat-stretch-tabs","false"],["label",n],["label",t]];},template:function(t,i){t&1&&(s(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),l(3),r(),s(4,"span",2),l(5),r()(),p(6,"sz-ui-menu",3),r(),s(7,"div",4),f(8,ve,1,1,"medisy-people-persons-common-person-card",5),r(),s(9,"div")(10,"mat-tab-group",6)(11,"mat-tab",7),p(12,"medisy-laboratory-analysis-tests"),r(),s(13,"mat-tab",8),p(14,"medisy-laboratory-analysis-specimens"),r()()()),t&2&&(a(3),u(i.analysis.code),a(2),u(i.analysis.note),a(1),Y("menu",i.analysisMenu),a(2),M(8,i.analysis.personId?8:-1));},dependencies:[Se,Me,h,v,g,L,b],encapsulation:2});let e=o;return e;})();var Pe=[{path:"",component:fe},{path:"tests",loadComponent:()=>import("./chunk-NQKUKZU2.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-BYPHOUYM.js").then(e=>e.AnalysisSpecimensComponent)}];var $t=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=G({type:o}),o.ɵinj=j({providers:[d],imports:[U,w.forChild(Pe),ae,oe,R,de,ue,h,me,v,g,L,b]});let e=o;return e;})();export{$t as AnalysisModule};/**i18n:1d16e7d3b6b09b5ca5f11aee33f3c6ee9a8e446806802ef706aaf87e85c9b2b7*/