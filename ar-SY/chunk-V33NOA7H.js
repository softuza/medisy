import{a as W}from"./chunk-UIMMNAOU.js";import{a as p}from"./chunk-XASXQ6CO.js";import{a as m,b as oe,d as ie,e as re,g as ne,j as ae,k as se}from"./chunk-SCEYJWUH.js";import"./chunk-TQMMS6EB.js";import"./chunk-TDPMUOHH.js";import"./chunk-EIEESADP.js";import"./chunk-XAJI6S7M.js";import{e as Y,f as Z,g as x,i as ee,j as E,k as te}from"./chunk-23TTDEMB.js";import{a as T}from"./chunk-CBX6HOLO.js";import{h as g}from"./chunk-N5GRIQDY.js";import{a as B,b as G,d as Q,e as q,g as N}from"./chunk-DIXRY2BM.js";import"./chunk-SH6LLNPF.js";import{A as K,e as k,v as H,z as J}from"./chunk-Z5BIE7AQ.js";import"./chunk-Q6LA27NV.js";import"./chunk-TKDGFNHB.js";import{c as w}from"./chunk-3KNY5WBW.js";import"./chunk-4IQAUZQG.js";import{d as O,f as v,g as z,l as D,n as A,q as P,r as U,u as $}from"./chunk-CBNQJNHR.js";import"./chunk-TW7AXWBO.js";import{c as y,e as F}from"./chunk-3IXDZKQC.js";import"./chunk-UJD4II27.js";import{ia as V,ja as j,la as X}from"./chunk-YM6Z3W7O.js";import"./chunk-G4CXIA4B.js";import{Jb as s,Kb as _,Lb as S,Vb as R,Wb as f,bb as l,cb as a,ea as I,ja as d,na as c,nc as C,oa as h,oc as b,qb as L,zb as n}from"./chunk-2CGEOOG5.js";import"./chunk-FJU4DKT4.js";var le=(()=>{let i=class i extends Y{constructor(o,t,e){super(t),this.fb=o,this.dialog=t,this.data=e,this.cstnService=d(p),this.form=o.group({name:[e?.name,[O.required,O.minLength(1)]],description:[e?.description,[]],plateNumber:[e?.plateNumber,[]],serialNumber:[e?.serialNumber,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.cstnService.equipment.update(this.data.id,this.form.value)):this.save(this.cstnService.equipment.create(this.form.value)));}};i.ɵfac=function(t){return new(t||i)(a(U),a(B),a(G));},i.ɵcmp=c({type:i,selectors:[["sz-constr-construction-projects-save"]],standalone:!0,features:[C([]),L,b],decls:8,vars:5,consts:()=>{let o;o="\u0627\u0644\u0627\u0633\u0645";let t;t="\u0627\u0644\u0648\u0635\u0641";let e;e="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062A\u0633\u0644\u0633\u0644\u064A";let u;return u="\u0631\u0642\u0645 \u0627\u0644\u0644\u0648\u062D\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","description","label",t],["formControlName","serialNumber","label",e],["formControlName","plateNumber","label",u],[3,"actions"]];},template:function(t,e){t&1&&(S(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),S(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-input",5),_()(),S(7,"sz-ui-dialog-actions",6)),t&2&&(n("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),l(2),n("formGroup",e.form),l(5),n("actions",e.actions));},dependencies:[$,D,v,z,A,P,N,q,H,E,Z,x,K,k,J],encapsulation:2});let r=i;return r;})();var Se=(()=>{let i=class i{constructor(o,t){this.dialog=o,this.router=t,this.cstnService=d(p),this.title=w.equipment,this.dataSource=new ie("name"),this.dataSource.columnDefs.push(m.uuid("id"),m.hyperlink("name",e=>`${W.EquipmentList}/${e.id}`).setHeaderSortable(!0),m.string("serialNumber").setResponsive(!0),m.string("plateNumber"),m.date("createdAt").setVisible(!1),m.date("updatedAt").setVisible(!1),oe.menu([g.edit(e=>this.openSaveComponent(e)),g.delete(e=>this.openEquipmentDeleteComponent(e))])),this.get();}openSaveComponent(o){this.dialog.open(le,{data:o}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openEquipmentDeleteComponent(o){this.dialog.open(ee,{data:te.delete(this.cstnService.equipment.delete(o.id),o)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.cstnService.equipment.get(this.dataSource.getQuery()).pipe(re(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)(a(Q),a(y));},i.ɵcmp=c({type:i,selectors:[["sz-constr-construction-equipment-list"]],features:[C([])],decls:6,vars:3,consts:()=>{let o;return o="\u0625\u0636\u0627\u0641\u0629",[o,[3,"title"],[3,"changed","dataSource"],["title","","mat-flat-button","","color","primary","start","",3,"click"],[3,"update","dataSource"]];},template:function(t,e){t&1&&(S(0,"sz-ui-app-bar",1),s(1,"sz-ui-table-search-filter",2),f("changed",function(){return e.get();}),s(2,"button",3),f("click",function(){return e.openSaveComponent();}),s(3,"span"),R(4,0),_()()(),s(5,"sz-ui-table",4),f("update",function(){return e.get();}),_()),t&2&&(n("title",e.title),l(),n("dataSource",e.dataSource),l(4),n("dataSource",e.dataSource));},dependencies:[j,ae,ne,T],encapsulation:2});let r=i;return r;})();var ot=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=h({type:i}),i.ɵinj=I({providers:[p],imports:[F.forChild([{path:"",component:Se}]),N,V,X,se,E,T]});let r=i;return r;})();export{ot as EquipmentListModule};/**i18n:74c2b26e2511915b63b53dced5a329acbedd3101dfbc00b668fe6d77d7375591*/