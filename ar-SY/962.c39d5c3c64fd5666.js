"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[962],{7962:(F,E,e)=>{e.r(E),e.d(E,{ReportsModule:()=>Y});var f=e(6814),m=e(2296),i=e(7700),h=e(617),P=e(8109),R=e(6762),t=e(5879),T=e(9862);let c=(()=>{class a{constructor(s){this.http=s,this.basePath="softuza-reporting",this.reports=new R._(this.http,`${this.basePath}/v1/reports`)}static#t=this.\u0275fac=function(o){return new(o||a)(t.LFG(T.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac})}return a})();var O=e(758),g=e(5041),d=e(3562),p=e(8262),v=e(7076),S=e(9899),M=e(9598),N=e(8721),u=e(8180),r=e(6223),A=e(9157),C=e(4104),I=e(5781),z=e(4622),_=e(6091),D=e(5974),U=e(8873);let Z=(()=>{class a extends S.Ku{constructor(s,o,n,l){super(n),this.srptService=s,this.fb=o,this.dialog=n,this.data=l,this.form=o.group({name:[l?.name,[r.kI.required]],description:[l?.description,[r.kI.maxLength(4096)]]})}submit(){this.IsValid()&&this.save(this.data?this.srptService.reports.update(this.data.id,this.form.value):this.srptService.reports.create(this.form.value))}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(c),t.Y36(r.qu),t.Y36(i.so),t.Y36(i.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["softuza-reportins-reports-save"]],standalone:!0,features:[t._Bn([]),t.qOj,t.jDz],decls:6,vars:3,consts:function(){let s,o;return s="\u0627\u0644\u0627\u0633\u0645",o="\u0627\u0644\u0648\u0635\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",s],["formControlName","description","label",o],[3,"actions"]]},template:function(o,n){1&o&&(t._UZ(0,"sz-ui-dialog-header",0),t.TgZ(1,"mat-dialog-content")(2,"form",1),t._UZ(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),t.qZA()(),t._UZ(5,"sz-ui-dialog-actions",4)),2&o&&(t.Q6J("header",n.header),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(3),t.Q6J("actions",n.actions))},dependencies:[f.ez,r.UX,r._Y,r.JJ,r.JL,r.sg,r.u,i.Is,i.xY,A.lN,C.Nh,S.su,z.Y,_.t,I.g2,D.g,U.L],encapsulation:2})}return a})();var $=e(8359),L=e(3144),G=e(2516);const y=[{path:"",component:(()=>{class a{constructor(s,o){this.dialog=s,this.srptService=o,this.dataSource=new d.b2(M.J.paged()),this.dataSource.addRows([d.zP.default([p.h.nameText(),p.h.createdAt(),p.h.menu([d.od.edit(n=>this.openSaveComponent(n)),d.od.delete(n=>this.openReportDeleteComponent(n))])])]),this.get()}openSaveComponent(s){this.dialog.open(Z,{data:s}).afterClosed().pipe((0,u.q)(1)).subscribe(n=>{this.dataSource.updateOrPushItem(n)})}openReportDeleteComponent(s){this.dialog.open(S.fN,{data:S.cb.delete(this.srptService.reports.delete(s.id),s)}).afterClosed().pipe((0,u.q)(1)).subscribe(n=>{this.dataSource.delete(n)})}get(){this.srptService.reports.get(this.dataSource.filterModel).pipe((0,N.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(s=>{this.dataSource.set(s.items,s.count)})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(i.uw),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["softuza-reporting-reports"]],features:[t._Bn([v.y])],decls:8,vars:4,consts:function(){let s,o;return s="\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631",o="\u0625\u0636\u0627\u0641\u0629",[["start","",1,"sz-h5"],s,[3,"dataSource","search"],["mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(t.TgZ(0,"sz-ui-header-basic")(1,"h5",0),t.SDv(2,1),t.qZA()(),t.TgZ(3,"sz-ui-table-filter",2),t.NdJ("search",function(){return n.get()}),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.openSaveComponent()}),t.TgZ(5,"span"),t.SDv(6,4),t.qZA()()(),t.TgZ(7,"sz-ui-table",5),t.NdJ("update",function(){return n.get()}),t.qZA()),2&o&&(t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(4),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[m.lW,$.K,L.f,G.z],encapsulation:2})}return a})()}];let Y=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({providers:[c],imports:[f.ez,P.Bz.forChild(y),i.Is,m.ot,d.Vn,O.E3,g.n,h.Ps]})}return a})()}}]);