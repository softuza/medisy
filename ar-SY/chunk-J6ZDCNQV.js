import{a as le,b as C}from"./chunk-73WTHVRV.js";import{a as _e,b as Me}from"./chunk-A63C6SK2.js";import{a as Se}from"./chunk-AQJOU5HG.js";import{a as ce}from"./chunk-UR62DX7K.js";import{a as M}from"./chunk-GTRHAZO2.js";import"./chunk-SKV2MUIB.js";import"./chunk-PPO5LMMV.js";import"./chunk-D66MIGT5.js";import{h as Q}from"./chunk-I7NN55R5.js";import{h as de,i as ue,j as fe,m as P}from"./chunk-UJAW327Y.js";import{a as ie,b as re,d as ne,e as ae,g as S}from"./chunk-JW5GSDNP.js";import{E as te,y as ee,z as oe}from"./chunk-ADGNUUMA.js";import{d as g,g as j,h as G,l as B,n as x,o as U,p as X,r as q,s as w}from"./chunk-DNMCT3KT.js";import{b as E,c as p,d as pe}from"./chunk-ZVQOD7OG.js";import{d as se}from"./chunk-XDA5TPS5.js";import"./chunk-64EDSMYL.js";import"./chunk-FOMYF5QC.js";import{a as _}from"./chunk-PVY3QENI.js";import{a as h}from"./chunk-CSFT2WH3.js";import"./chunk-JJ7KQT5E.js";import{a as me}from"./chunk-HXOIERNB.js";import{a as k,c as H,e as J}from"./chunk-KFH6QGXF.js";import{b as W}from"./chunk-MOVIZYKO.js";import{c as K}from"./chunk-M4TKXCQI.js";import{Ra as Z}from"./chunk-IPZKDZL6.js";import{Bb as u,Cb as s,Db as m,L as I,Wb as L,Xb as $,Zb as c,a as N,ac as b,b as D,cb as d,da as z,db as a,ec as V,fc as Y,kb as A,la as f,ma as O,nb as l,v as y,wb as T,xb as F,yb as R}from"./chunk-3QIFGVJ6.js";var Ce=(()=>{let o=class o extends de{constructor(i,t,r,n){super(r),this.mpplService=i,this.fb=t,this.dialog=r,this.data=n,this.form=t.group({sex:[n.sex,[g.required]],languageId:[n.languageId,[g.required]],title:[n.title,[]],ssn:[n.ssn,[]],nationalityId:[n.nationalityId,[]],birthDate:[n.birthDate,[]]});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,this.form.value));}};o.ɵfac=function(t){return new(t||o)(a(M),a(X),a(ie),a(re));},o.ɵcmp=f({type:o,selectors:[["medisy-people-person-save"]],standalone:!0,features:[c([]),A,b],decls:12,vars:3,consts:()=>{let i;i="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let t;t="\u0627\u0644\u0644\u0642\u0628";let r;return r="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",i],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",t],["formControlName","birthDate","label",r],[3,"actions"]];},template:function(t,r){t&1&&(m(0,"sz-ui-dialog-header",0),u(1,"mat-dialog-content")(2,"form",1)(3,"div",2),m(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),s(),m(6,"medisy-form-field-language",5),u(7,"div",2),m(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),s(),m(10,"sz-ui-form-field-date",8),s()(),m(11,"sz-ui-dialog-actions",9)),t&2&&(l("header",r.header),d(2),l("formGroup",r.form),d(9),l("actions",r.actions));},dependencies:[w,B,j,G,x,U,P,ue,fe,te,oe,S,ae,_e,ee,Me,Se],encapsulation:2});let e=o;return e;})();function Ne(e,o){if(e&1&&m(0,"sz-ui-card",3),e&2){let ge=o.$implicit;l("card",ge);}}var he=(()=>{let o=class o{constructor(i,t,r,n){this.dialog=i,this.mlabService=t,this.route=r,this.router=n,this.items=[],this.personMenu=pe.more([p.edit(()=>this.openSaveComponent()),p.divider(),p.default("\u0627\u0644\u0627\u0633\u0645\u0627\u0621","info",()=>this.navigate("names")),p.default("\u0627\u0644\u0647\u0648\u0627\u062A\u0641","phone",()=>this.navigate("phones")),p.default("\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A","alternate_email",()=>this.navigate("emails")),p.default("\u0627\u0644\u0639\u0646\u0627\u0648\u064A\u0646","home",()=>this.navigate("addresses")),p.default("\u0627\u0644\u0648\u062B\u0627\u0626\u0642","badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let v={title:0,type:le.Counter,icon:"science",subtitle:"\u0627\u0644\u062A\u062D\u0627\u0644\u064A\u0644",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(v),this.getAnalysisCount(v);}navigate(i){this.router.navigate([i],{relativeTo:this.route});}getAnalysisCount(i){this.mlabService.analyses.get(D(N({},me.count()),{personIds:[this.person.id]})).pipe(y(t=>t.count)).subscribe(t=>{i.title=t;});}openSaveComponent(){this.dialog.open(Ce,{data:this.person}).afterClosed().pipe(I(1)).subscribe(i=>{i&&(this.person=i);});}};o.ɵfac=function(t){return new(t||o)(a(ne),a(_),a(k),a(H));},o.ɵcmp=f({type:o,selectors:[["medisy-peopel-person"]],features:[c([_])],decls:8,vars:4,consts:[["start","",1,"sz-h5"],["end","",3,"menu"],[1,"sz-grid-card"],[3,"card"]],template:function(t,r){t&1&&(u(0,"sz-ui-header-basic")(1,"h5",0),L(2),V(3,"personName"),s(),m(4,"sz-ui-menu",1),s(),u(5,"div",2),F(6,Ne,1,1,"sz-ui-card",3,T),s()),t&2&&(d(2),$(Y(3,2,r.person)),d(2),l("menu",r.personMenu),R(6,r.items));},dependencies:[C,h,E,ce],encapsulation:2});let e=o;return e;})();var Pe=[{path:"",component:he},{path:"names",loadComponent:()=>import("./chunk-HVMCTFS6.js").then(e=>e.PersonNamesComponent)},{path:"phones",loadComponent:()=>import("./chunk-XKC4LEDO.js").then(e=>e.PersonPhonesComponent)},{path:"emails",loadComponent:()=>import("./chunk-PS7HWBTT.js").then(e=>e.PersonEmailsComponent)},{path:"documents",loadComponent:()=>import("./chunk-6QDPXWEV.js").then(e=>e.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>import("./chunk-ZC6RW4BW.js").then(e=>e.PersonAddressesComponent)}];var vo=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=O({type:o}),o.ɵinj=z({providers:[M],imports:[q,J.forChild(Pe),Q,Z,C,P,h,se,W,S,K,E]});let e=o;return e;})();export{vo as PersonModule};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/