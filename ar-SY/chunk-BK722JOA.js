import"./chunk-72FI7SJ4.js";import{c as ae}from"./chunk-AMLCZP5B.js";import{a as I}from"./chunk-MHHN2GZW.js";import{a as S,b as te,d as oe,e as ie,j as re,k as se}from"./chunk-OXNI3R2W.js";import"./chunk-57MK3MCC.js";import"./chunk-RANL45GR.js";import"./chunk-SFEE7L6S.js";import{a as m}from"./chunk-3HAKDFMA.js";import"./chunk-JJYQDYNW.js";import"./chunk-GCHJ7W3W.js";import{e as J,f as K,g as W,i as Z,j as G,k as ee}from"./chunk-6HIEJ57F.js";import{a as C}from"./chunk-DPGFXQMX.js";import{h as b,j as x}from"./chunk-7T3MPUQD.js";import{a as $,b as k,d as v,e as q,g}from"./chunk-CYOCH3CE.js";import"./chunk-Q3MXFXKP.js";import{v as H,x as Q}from"./chunk-QKXMHSCW.js";import"./chunk-LPD4JHC6.js";import"./chunk-EU6EN4RU.js";import{c as X}from"./chunk-SD2GIAU7.js";import"./chunk-QBVRT5EG.js";import{d as F,f as R,g as L,l as j,n as B,q as P,r as w,u as V}from"./chunk-L5ME2H6Y.js";import"./chunk-E5LY2UIH.js";import{a as T,c as Y,e as h}from"./chunk-OU5TKGLO.js";import"./chunk-JIFD7XOW.js";import{ia as U,la as M}from"./chunk-NIXMLTIK.js";import"./chunk-IMTADF7I.js";import{Fa as A,Jb as l,Kb as c,Lb as d,Wb as N,bb as p,cb as s,ea as D,na as u,nc as y,oa as E,oc as f,qb as O,zb as a}from"./chunk-XBY5TSK6.js";import"./chunk-VWKXNZKE.js";var me=(()=>{let t=class t extends J{constructor(o,e,i,n){super(i),this.mlabService=o,this.fb=e,this.dialog=i,this.data=n,this.testTypes=this.mlabService.testTypes.getAll({orderBy:["nameEn"]}),this.form=e.group({testTypeId:[n.testGroupTestType?.testTypeId,[F.required]]});}submit(){this.IsValid()&&(this.data.testGroupTestType?this.save(this.mlabService.testGroups.testTypes.update(this.data.testGroupId,this.data.testGroupTestType?.id,this.form.value)):this.save(this.mlabService.testGroups.testTypes.create(this.data.testGroupId,this.form.value)));}};t.ɵfac=function(e){return new(e||t)(s(m),s(w),s($),s(k));},t.ɵcmp=u({type:t,selectors:[["sz-medisy-laboratory-test-group-test-types-save"]],standalone:!0,features:[y([]),O,f],decls:5,vars:6,consts:()=>{let o;return o="\u0627\u0644\u0646\u0645\u0637",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","testTypeId","label",o,3,"source"],[3,"actions"]];},template:function(e,i){e&1&&(d(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),d(3,"sz-ui-form-field-select",2),c()(),d(4,"sz-ui-dialog-actions",3)),e&2&&(a("title",i.title)("subtitle",i.subtitle)("alert",i.alert()),p(2),a("formGroup",i.form),p(),a("source",i.testTypes),p(),a("actions",i.actions));},dependencies:[V,j,R,L,B,P,g,q,H,G,K,W,Q],encapsulation:2});let r=t;return r;})();var de=(()=>{let t=class t{constructor(o,e,i){this.dialog=o,this.mlabService=e,this.route=i,this.dataSource=new oe(),this.testGroupId=A.required(),this.card={title:X.test_types,menu:x.more([b.add(()=>this.openSaveComponent())])},this.dataSource.columnDefs.push(S.uuid("id"),S.string("testType.nameEn"),S.date("createdAt").setVisible(!1),S.date("updatedAt").setVisible(!1),te.menu([b.edit(n=>this.openSaveComponent(n)),b.delete(n=>this.openTestTypeSpecimenTypeDeleteComponent(n))]));}ngOnInit(){this.get();}openSaveComponent(o){this.dialog.open(me,{data:{testGroupId:this.testGroupId(),testGroupTestType:o}}).afterClosed().subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestTypeSpecimenTypeDeleteComponent(o){this.dialog.open(Z,{data:ee.delete(this.mlabService.testGroups.testTypes.delete(o.testGroupId,o.id),o)}).afterClosed().subscribe(e=>{this.dataSource.delete(e);});}updateItem(o){this.mlabService.testGroups.testTypes.update(o.testTypeId,o.id,o).subscribe(e=>{this.dataSource.update(e);});}get(){this.mlabService.testGroups.testTypes.get(this.testGroupId(),this.dataSource.getQuery()).pipe(ie(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};t.ɵfac=function(e){return new(e||t)(s(v),s(m),s(T));},t.ɵcmp=u({type:t,selectors:[["sz-medisy-laboratory-test-group-test-types"]],inputs:{testGroupId:[1,"testGroupId"]},standalone:!0,features:[f],decls:2,vars:3,consts:[[3,"card"],["content","",3,"update","paginationEnabled","dataSource"]],template:function(e,i){e&1&&(l(0,"sz-ui-card",0)(1,"sz-ui-table",1),N("update",function(){return i.get();}),c()()),e&2&&(a("card",i.card),p(),a("paginationEnabled",!1)("dataSource",i.dataSource));},dependencies:[h,M,se,re,I],encapsulation:2});let r=t;return r;})();var z=(()=>{let t=class t{constructor(o,e,i,n){this.dialog=o,this.mlabService=e,this.route=i,this.router=n,this.tiles=[],this.testGroup=this.route.snapshot.data.testGroup;}};t.ɵfac=function(e){return new(e||t)(s(v),s(m),s(T),s(Y));},t.ɵcmp=u({type:t,selectors:[["sz-medisy-laboratory-test-group"]],standalone:!0,features:[y([]),f],decls:3,vars:4,consts:[[3,"title","subtitle","backEnabled"],[1,"tw-grid","lg:tw-grid-cols-2","tw-gap-2","tw-mb-2"],[3,"testGroupId"]],template:function(e,i){e&1&&(d(0,"sz-ui-app-bar",0),l(1,"div",1),d(2,"sz-medisy-laboratory-test-group-test-types",2),c()),e&2&&(a("title",i.testGroup.name)("subtitle",i.testGroup.description)("backEnabled",!0),p(2),a("testGroupId",i.testGroup.id));},dependencies:[ae,C,de],encapsulation:2});let r=t;return r;})();var ue=[{path:"",component:z},{path:"specimen-types",loadComponent:()=>import("./chunk-ZL7WF64U.js").then(r=>r.TestGroupSpecimenTypesComponent)}];var dt=(()=>{let t=class t{};t.ɵfac=function(e){return new(e||t)();},t.ɵmod=E({type:t}),t.ɵinj=D({providers:[m],imports:[h.forChild(ue),g,U,M,C,G,I,z]});let r=t;return r;})();export{dt as TestGroupModule};/**i18n:2203e027d52d3f0736b00c23c47b63f6931e6ad93b70d88f30a525b6a40c92e8*/