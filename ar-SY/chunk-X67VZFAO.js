import{a as je,b as Ue,c as Xe}from"./chunk-YBGEX7AS.js";import{a as z}from"./chunk-5GL5FH5X.js";import{b as Te}from"./chunk-XZNQVZLE.js";import{b as ge,d as F}from"./chunk-MMRGJXMV.js";import{a as Fe}from"./chunk-KZQP3VMU.js";import{a as A}from"./chunk-UR62DX7K.js";import{a as b}from"./chunk-L3MA6WSX.js";import{a as Y}from"./chunk-PGHQ7W4Q.js";import"./chunk-ESSVKAV5.js";import{a as Be,b as Ge,g as h}from"./chunk-ZUTEIW3L.js";import"./chunk-PPO5LMMV.js";import"./chunk-6VMEWVPH.js";import{a as ae,b as se,c as me,d as pe,e as le,f as de,g as ce,h as _e}from"./chunk-JI5I5E7Z.js";import"./chunk-7NNCRG62.js";import"./chunk-NOAPOEUB.js";import{b as ze,d as $e,n as xe}from"./chunk-FYVWUY5J.js";import"./chunk-BDKYF43S.js";import{c as Oe,h as Re,i as be,j as Le,m as Ye}from"./chunk-JUKWJGHA.js";import{a as Ae,b as he,d as Ie,e as ye,g as R}from"./chunk-LR6DSKQQ.js";import{E as Ee,z as Pe}from"./chunk-CJ3L35E7.js";import{g as Q,h as J,l as K,n as W,o as Z,p as ee,s as te}from"./chunk-FZFNR6NR.js";import"./chunk-5MX2FBOB.js";import{a as c}from"./chunk-X3ZOFRYL.js";import{b as L}from"./chunk-V2YTYBA6.js";import{a as ve}from"./chunk-AQB7U7BU.js";import{a as ie,c as oe,d as ne,e as T,f as Me,g as Ce}from"./chunk-4G55JY3H.js";import{f as Ne,i as f,j as De}from"./chunk-5QJH45WQ.js";import{a as ue,b as Se}from"./chunk-AWHXYS7Y.js";import"./chunk-EBVBFE7W.js";import{Pa as re,Ra as O,Ua as fe,o as q}from"./chunk-W55BWEJG.js";import{Ab as V,Bb as r,Cb as a,Db as p,L as y,Nb as x,Rb as C,Wb as S,Xb as P,Zb as E,_a as v,a as G,ac as g,b as j,cb as s,cc as k,da as U,db as m,ec as N,fc as D,kb as H,la as M,ma as X,nb as d,tb as u,ub as _,zb as w}from"./chunk-3QIFGVJ6.js";function qe(e,o){if(e&1&&(r(0,"mat-card-subtitle"),S(1),a()),e&2){let l=C();s(1),P(l.person==null?null:l.person.title);}}function Qe(e,o){e&1&&(r(0,"mat-card-subtitle"),x(1,4),a());}function Je(e,o){if(e&1&&(r(0,"span"),S(1),N(2,"typeI18n"),a()),e&2){let l=C();s(1),P(D(2,1,l.person==null?null:l.person.sex));}}function Ke(e,o){e&1&&(r(0,"span"),S(1," - "),a());}function We(e,o){if(e&1&&(r(0,"span"),S(1),N(2,"personAge"),a()),e&2){let l=C();s(1),P(D(2,1,l.person==null?null:l.person.birthDate));}}function Ze(e,o){e&1&&(r(0,"mat-card-footer"),p(1,"mat-progress-bar",5),a());}var et=e=>[e],$=(()=>{let o=class o{set personId(n){this._personId=n,this.getPerson(n);}get personId(){return this._personId;}constructor(n,i,t){this.mpplService=n,this.typeI18nPipe=i,this.personNamePipe=t,this.indicator=v(!1),this.attributes={items:[]};}addAttributes(n){if(n.phones&&n.phones.length>0){let i=n.phones.find(t=>t.phoneType===Ge.Mobile)?.value;i&&this.attributes.items.push(F.text(i,"phone"));}if(n.emails&&n.emails.length>0){let i=n.emails.find(t=>t.emailType===Be.Private)?.value;i&&this.attributes.items.push(F.text(i,"email"));}}getPerson(n){this.mpplService.persons.getById(n).pipe(y(1),Oe(this.indicator)).subscribe(i=>{this.person=i,this.addAttributes(i);});}};o.ɵfac=function(i){return new(i||o)(m(b),m(h),m(A));},o.ɵcmp=M({type:o,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[E([h]),g],decls:22,vars:13,consts:()=>{let n;n="\u0627\u0644\u0645\u0632\u064A\u062F";let i;return i="\u0627\u0644\u0645\u0631\u064A\u0636",[[1,"example-card"],[3,"list"],["mat-button","",3,"routerLink"],n,i,["mode","indeterminate"]];},template:function(i,t){i&1&&(r(0,"mat-card",0)(1,"mat-card-header"),u(2,qe,2,1,"mat-card-subtitle")(3,Qe,2,0),r(4,"mat-card-title"),S(5),N(6,"personName"),a(),r(7,"mat-card-subtitle"),u(8,Je,3,3,"span")(9,Ke,2,0,"span")(10,We,3,3,"span"),a()(),r(11,"mat-card-content")(12,"p"),S(13),a()(),r(14,"mat-card-content"),p(15,"sz-ui-list-compact",1),a(),r(16,"mat-card-content"),p(17,"mat-divider"),a(),r(18,"mat-card-actions")(19,"button",2),x(20,3),a()(),u(21,Ze,2,0,"mat-card-footer"),a()),i&2&&(s(2),_(2,t.person!=null&&t.person.title?2:3),s(3),P(D(6,9,t.person)),s(3),_(8,t.person!=null&&t.person.sex?8:-1),s(1),_(9,t.person!=null&&t.person.sex&&t.person!=null&&t.person.birthDate?9:-1),s(1),_(10,t.person!=null&&t.person.birthDate?10:-1),s(3),P(t.person==null?null:t.person.note),s(2),d("list",t.attributes),s(4),d("routerLink",k(11,et,"/mppl/persons/"+t.personId)),s(2),_(21,t.indicator()?21:-1));},dependencies:[T,ne,_e,ae,le,me,ce,de,pe,se,ge,Ce,Me,Se,ue,O,re,xe,h,A,Fe],encapsulation:2});let e=o;return e;})();var He=(()=>{let o=class o extends Re{constructor(n,i,t,I){super(t),this.mlabService=n,this.fb=i,this.dialog=t,this.data=I,this.form=i.group({note:[I?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,j(G({},this.data),{note:this.form.value.note})));}};o.ɵfac=function(i){return new(i||o)(m(c),m(ee),m(Ae),m(he));},o.ɵcmp=M({type:o,selectors:[["medisy-analysis-save"]],standalone:!0,features:[E([c]),H,g],decls:5,vars:3,consts:()=>{let n;return n="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",n],[3,"actions"]];},template:function(i,t){i&1&&(p(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2),a()(),p(4,"sz-ui-dialog-actions",3)),i&2&&(d("header",t.header),s(2),d("formGroup",t.form),s(2),d("actions",t.actions));},dependencies:[te,K,Q,J,W,Z,R,ye,Ye,be,Le,Ee,Pe],encapsulation:2});let e=o;return e;})();var nt=()=>[z];function rt(e,o){if(e&1&&p(0,"medisy-people-persons-common-person-card",2),e&2){let l=C();d("personId",l.analysis.personId);}}function at(e,o){e&1&&p(0,"medisy-laboratory-analysis-specimens");}var we=(()=>{let o=class o{constructor(n,i,t,I){this.dialog=n,this.route=i,this.router=t,this.mlabService=I,this.alert$=v(void 0),this.testsDataSource=new ze(ve.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=De.more([f.edit(()=>this.openSaveComponent()),f.divider(),f.print(()=>this.opendPrintComponent),f.default("\u0646\u0634\u0631","publish",this.openPublishComponent),f.divider(),f.default("\u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u062C\u0627\u0628\u0629 \u0627\u0644\u0633\u0631\u064A\u0639\u0629","qr_code",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(He,{data:this.analysis}).afterClosed().pipe(y(1)).subscribe(n=>{n&&(this.analysis=n);});}opendPrintComponent(){}openPublishComponent(){}};o.ɵfac=function(i){return new(i||o)(m(Ie),m(ie),m(oe),m(c));},o.ɵcmp=M({type:o,selectors:[["medisy-laboratory-analysis"]],features:[E([c,b,A])],decls:10,vars:4,consts:()=>{let n;n="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let i;return i="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[[3,"title","subTitle","menu"],[1,"sz-grid-card","tw-my-4"],[3,"personId"],["mat-stretch-tabs","false"],["label",n],["label",i]];},template:function(i,t){i&1&&(p(0,"sz-ui-header-info",0),r(1,"div",1),u(2,rt,1,1,"medisy-people-persons-common-person-card",2),a(),r(3,"mat-tab-group",3)(4,"mat-tab",4),p(5,"medisy-laboratory-analysis-tests"),a(),r(6,"mat-tab",5),u(7,at,1,0),w(8,7,nt),V(),a()()),i&2&&(d("title",t.analysis.code)("subTitle",t.analysis.note)("menu",t.analysisMenu),s(2),_(2,t.analysis.personId?2:-1));},dependencies:[je,Ue,L,Y,$],encapsulation:2});let e=o;return e;})();var Ve=[{path:"",component:we},{path:"tests",loadComponent:()=>import("./chunk-OTTKXKAI.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-I2TCTDMD.js").then(e=>e.AnalysisSpecimensComponent)}];var Di=(()=>{let o=class o{};o.ɵfac=function(i){return new(i||o)();},o.ɵmod=X({type:o}),o.ɵinj=U({providers:[c],imports:[q,T.forChild(Ve),R,fe,O,$e,Xe,L,Te,Ne,Y,z,$]});let e=o;return e;})();export{Di as AnalysisModule};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/