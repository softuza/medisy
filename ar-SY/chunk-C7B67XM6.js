import{a as me}from"./chunk-RYWTFX43.js";import"./chunk-BAVP4TXU.js";import{a as E}from"./chunk-AGIV3H7X.js";import{b as U,c as ie,e as re,g as ae,s as ne,t as se}from"./chunk-VUMSGYE7.js";import{c as W,g as Z,h as ee,i as L,j as F,l as te,m as f,n as oe}from"./chunk-U2NFSQQN.js";import{a as R,b as I,d as Q,e as y,g as c}from"./chunk-RY32KYW7.js";import{C as J,D as K,y as x}from"./chunk-DXSUKRZ3.js";import{d as A,g as O,h as P,l as h,n as v,o as D,p as b,s as N}from"./chunk-4NL6MOY5.js";import{a as z}from"./chunk-FW7JEP5X.js";import{a as d}from"./chunk-PYG3YJ62.js";import{b as G}from"./chunk-5W7PZILH.js";import"./chunk-XP7I6OF6.js";import{e as X}from"./chunk-IF5LYGUI.js";import{i as $}from"./chunk-3LHHJK2J.js";import"./chunk-QFXGLSXE.js";import"./chunk-MZZLEOGC.js";import{Pa as w,Ra as H,Ua as q}from"./chunk-HMJ5RFBC.js";import{Bb as p,Cb as u,Db as l,L as M,Nb as k,Pb as T,Zb as S,ac as g,cb as m,da as B,db as s,kb as C,la as _,ma as j,nb as n}from"./chunk-VTJ4Z7TN.js";var pe=(()=>{let i=class i extends Z{constructor(o,t,e){super(t),this.fb=o,this.dialog=t,this.data=e,this.form=o.group({includeLaboratoryIds:[e.includeLaboratoryIds]});}submit(){this.IsValid()&&this.dialog?.close(this.form.value);}};i.ɵfac=function(t){return new(t||i)(s(b),s(R),s(I));},i.ɵcmp=_({type:i,selectors:[["medisy-test-groups-filter"]],standalone:!0,features:[S([]),C,g],decls:5,vars:4,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(t,e){t&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),l(3,"medisy-form-field-laboratory",2),u()(),l(4,"sz-ui-dialog-actions",3)),t&2&&(n("header",e.header),m(2),n("formGroup",e.form),m(1),n("multiple",!0),m(1),n("actions",e.actions));},dependencies:[N,h,O,P,v,D,c,y,f,L,F,me],encapsulation:2});let r=i;return r;})();var de=(()=>{let i=class i extends ee{constructor(o,t,e,a){super(e),this.mlabService=o,this.fb=t,this.dialog=e,this.data=a,this.form=t.group({name:[a?.name,[A.required,A.minLength(1)]],abbreviation:[a?.abbreviation,[]],description:[a?.description,[]],purpose:[a?.purpose,[]],isFavorite:[a?.isFavorite??!1,[A.required]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.testGroups.create(this.form.value)));}};i.ɵfac=function(t){return new(t||i)(s(d),s(b),s(R),s(I));},i.ɵcmp=_({type:i,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[S([]),C,g],decls:8,vars:3,consts:()=>{let o;o="\u0627\u0644\u0627\u0633\u0645";let t;t="\u0623\u062E\u062A\u0635\u0627\u0631";let e;e="\u0627\u0644\u0648\u0635\u0641";let a;return a="\u0627\u0644\u063A\u0627\u064A\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","abbreviation","label",t],["formControlName","description","label",e],["formControlName","purpose","label",a],[3,"actions"]];},template:function(t,e){t&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),l(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-textarea",4)(6,"sz-ui-form-field-textarea",5),u()(),l(7,"sz-ui-dialog-actions",6)),t&2&&(n("header",e.header),m(2),n("formGroup",e.form),m(5),n("actions",e.actions));},dependencies:[N,h,O,P,v,D,c,y,f,L,F,K,x,J],encapsulation:2});let r=i;return r;})();var ue=(()=>{let i=class i{constructor(o,t){this.dialog=o,this.mlabService=t,this.title=z.testGroups,this.dataSource=new re(),this.dataSource.addRows(ie.default([E.code().makeCompact(),E.nameHyperlink(e=>e.id,e=>e.name),U.text("abbreviation",z.abbreviation),E.createdAt(),U.checkbox("isFavorite",z.favorite,(e,a)=>{e.isFavorite=a,this.updateItem(e);}),E.menu([$.edit(e=>this.openSaveComponent(e)),$.delete(e=>this.openTestGroupDeleteComponent(e))])])),this.get();}openFilterComponent(){this.dialog.open(pe,{data:this.dataSource.filter}).afterClosed().pipe(M(1)).subscribe(o=>{o&&(this.dataSource.updateFilter(o),this.get());});}openSaveComponent(o){this.dialog.open(de,{data:o}).afterClosed().pipe(M(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestGroupDeleteComponent(o){this.dialog.open(te,{data:oe.delete(this.mlabService.testGroups.delete(o.id),o)}).afterClosed().pipe(M(1)).subscribe(t=>{this.dataSource.delete(t);});}updateItem(o){this.mlabService.testGroups.update(o.id,o).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testGroups.get(this.dataSource.buildRequest()).pipe(W(this.dataSource.indicator),M(1)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)(s(Q),s(d));},i.ɵcmp=_({type:i,selectors:[["medisy-laboratory-test-groups"]],features:[S([d])],decls:6,vars:4,consts:()=>{let o;return o="\u0625\u0636\u0627\u0641\u0629",[[3,"title"],[3,"filter","search","filterClicked"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"stateEnabled","dataSource","update"]];},template:function(t,e){t&1&&(l(0,"sz-ui-header-info",0),p(1,"sz-ui-table-filter",1),T("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),p(2,"button",2),T("click",function(){return e.openSaveComponent();}),p(3,"span"),k(4,3),u()()(),p(5,"sz-ui-table",4),T("update",function(){return e.get();}),u()),t&2&&(n("title",e.title),m(1),n("filter",e.dataSource.filter),m(4),n("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[w,ne,ae,G],encapsulation:2});let r=i;return r;})();var _e=[{path:"",component:ue}];var ut=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=j({type:i}),i.ɵinj=B({providers:[d],imports:[X.forChild(_e),c,q,H,se,f,G]});let r=i;return r;})();export{ut as TestGroupsModule};/**i18n:58cd3b8848ac5782a36a96a60f590b5398c328b80f04dbb1677d4c0de37b393f*/