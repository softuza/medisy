import{a as p}from"./chunk-ZP2645ZQ.js";import{a as f,d as Y,f as Z,i as x,j as ee}from"./chunk-FLV77ZNO.js";import"./chunk-PKQHZDC2.js";import"./chunk-U6RDA7WY.js";import"./chunk-2YL7Y4RT.js";import"./chunk-2VKSNU5B.js";import{e as Q,f as J,g as K,j as W}from"./chunk-7KMAVOQS.js";import{a as C}from"./chunk-U4HE3C36.js";import"./chunk-FFEI4TJI.js";import{a as $,d as B,e as j,g as M}from"./chunk-LWEVHPML.js";import"./chunk-Q5E2X3ET.js";import{q,t as H}from"./chunk-DRKBOSD5.js";import{c as k}from"./chunk-RKXQ3MXD.js";import"./chunk-P4AS2ZYY.js";import"./chunk-SENF3LXQ.js";import{c as g,d as w}from"./chunk-4RWLRMTW.js";import{i as V}from"./chunk-NVBE6OT4.js";import{d as T,f as z,g as y,k as A,m as b,p as D,q as F,t as G}from"./chunk-QUQXR4SD.js";import"./chunk-PJX2DRWP.js";import{c as R,e as L}from"./chunk-ICYZO3QS.js";import"./chunk-MGIROLGZ.js";import{ha as P,ia as U,ka as X}from"./chunk-4AFHRSCT.js";import"./chunk-O3HRBZQI.js";import{Db as n,Nb as m,Ob as u,Pb as c,Zb as v,_b as S,hb as a,ib as s,ka as N,pc as _,qc as O,ua as d,ub as I,va as h}from"./chunk-UVDYGJ6P.js";var E=function(r){return r.Email="Email",r.Sms="Sms",r.Push="Push",r;}(E||{});var ie=(()=>{let e=class e extends Q{constructor(o,i,t){super(t),this.sntiService=o,this.fb=i,this.dialog=t,this.notificaitons=this.sntiService.notifications.getAll({orderBy:["name"]}),this.notificationTypes=Object.keys(E).map(l=>E[l]),this.form=i.group({notificationId:[null,[T.required]],notificationTypes:[null,[]],recipients:[[{identifier:"7e88a4f5-a2bb-48e6-8b84-823fb3fd3c86"}],[T.required]]});}submit(){this.IsValid()&&this.save(this.sntiService.messages.create(this.form.value));}};e.ɵfac=function(i){return new(i||e)(s(p),s(F),s($));},e.ɵcmp=d({type:e,selectors:[["sz-mgmt-notification-messages-create"]],standalone:!0,features:[_([]),I,O],decls:6,vars:9,consts:()=>{let o;o="Notification";let i;return i="\u0627\u0644\u0623\u0646\u0645\u0627\u0637",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","notificationId","label",o,3,"source"],["formControlName","notificationTypes","label",i,3,"source","localizedValue","multiple"],[3,"actions"]];},template:function(i,t){i&1&&(c(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),c(3,"sz-ui-form-field-select",2)(4,"sz-ui-form-field-select",3),u()(),c(5,"sz-ui-dialog-actions",4)),i&2&&(n("title",t.title)("subtitle",t.subtitle)("alert",t.alert()),a(2),n("formGroup",t.form),a(),n("source",t.notificaitons),a(),n("source",t.notificationTypes)("localizedValue",!0)("multiple",!0),a(),n("actions",t.actions));},dependencies:[G,A,z,y,b,D,M,j,V,W,J,K,H,q],encapsulation:2});let r=e;return r;})();var oe=(()=>{let e=class e{constructor(o,i,t){this.dialog=o,this.sntiService=i,this.router=t,this.title=g.messages,this.dataSource=new Y(["-createdAt"]),this.dataSource.columnDefs.push(f.uuid("id"),f.date("createdAt").setStacked(f.enum("notificationType").setName(g.type).setValueGetter(l=>w(l.notificationType)).setValueClassFontSmall()),f.number("recipientsCount").setName(g.recipients)),this.get();}openCreateComponent(){this.dialog.open(ie).afterClosed().subscribe(o=>{});}get(){this.sntiService.messages.get(this.dataSource.getQuery()).pipe(k(this.dataSource.indicator)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};e.ɵfac=function(i){return new(i||e)(s(B),s(p),s(R));},e.ɵcmp=d({type:e,selectors:[["sz-mgmt-notification-messages"]],features:[_([])],decls:6,vars:4,consts:()=>{let o;return o="\u0625\u0636\u0627\u0641\u0629",[o,[3,"title"],[3,"changed","dataSource"],["mat-flat-button","","color","primary","start","",3,"click"],[3,"update","stateEnabled","dataSource"]];},template:function(i,t){i&1&&(c(0,"sz-ui-app-bar",1),m(1,"sz-ui-table-search-filter",2),S("changed",function(){return t.get();}),m(2,"button",3),S("click",function(){return t.openCreateComponent();}),m(3,"span"),v(4,0),u()()(),m(5,"sz-ui-table",4),S("update",function(){return t.get();}),u()),i&2&&(n("title",t.title),a(),n("dataSource",t.dataSource),a(4),n("stateEnabled",!0)("dataSource",t.dataSource));},dependencies:[U,x,Z,C],encapsulation:2});let r=e;return r;})();var ke=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵmod=h({type:e}),e.ɵinj=N({providers:[p],imports:[L.forChild([{path:"",component:oe}]),M,X,ee,C,P]});let r=e;return r;})();export{ke as MessagesModule};/**i18n:7992b670fa912c61e7fcc3b33bbd0ab051bcb5cc240f907263ef623fbdc93e3b*/