import{a as Y,b as B,c as V}from"./chunk-YXSUZKKK.js";import{h as $}from"./chunk-JIYGV4IV.js";import{b as Ge}from"./chunk-FXTW2TJ3.js";import{a as _}from"./chunk-LDBLW2WO.js";import{a as w}from"./chunk-YXXKHXLR.js";import{c as O,h as Ne,i as ze,j as be,l as Ae,m as Re,n as Le}from"./chunk-L4BG3HL5.js";import{b as H}from"./chunk-4I5KZJNP.js";import{d as j}from"./chunk-VZE6QZJH.js";import{a as De,b as Fe,d as F,e as Oe,g as Ie}from"./chunk-VQ3CVIXE.js";import{A as Pe,a as _e,b as Se,g as he,o as ge,v as ve,w as Te,x as Ee,z as ye}from"./chunk-75XLR4TY.js";import{A as D,J as Ce,d as k,e as ae,f as L,g as se,k as le,l as me,m as pe,p as ce,q as de,t as G,w as y,y as ue,z as Me}from"./chunk-VZUJMTKN.js";import{i as v,j as q}from"./chunk-HRBP5HZA.js";import{q as x}from"./chunk-OHNFTK26.js";import{Ja as P,r as ne,ya as fe}from"./chunk-TT7ZQ2V6.js";import{Bb as I,Cb as N,Db as z,Eb as m,Fb as l,Gb as c,M as W,Qb as A,Sb as re,Ub as g,a as Q,bb as b,da as Z,dc as R,ea as ee,ec as X,fb as n,gb as a,gc as E,ja as te,jc as f,na as u,nb as M,oa as ie,pa as oe,qb as C,ub as s,zb as h}from"./chunk-CQJO6ZYU.js";var d=(()=>{let e=class e{constructor(i){this.http=i,this.basePath="softuza-portal",this.tiles=new j(this.http,`${this.basePath}/v1/tiles`),this.tileGroups=new j(this.http,`${this.basePath}/v1/tile-groups`),this.tileTypes=new j(this.http,`${this.basePath}/v1/tile-types`);}};e.ɵfac=function(o){return new(o||e)(te(ne));},e.ɵprov=Z({token:e,factory:e.ɵfac});let t=e;return t;})();var U=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵdir=oe({type:e,inputs:{id:"id"}});let t=e;return t;})();var xe=(()=>{let e=class e extends U{constructor(i,o,r){super(),this.mlabService=i,this.dialog=o,this.router=r,this.card={icon:"science",subtitle:_.analyses,clickFn:()=>this.navigate("/mlab/analyses"),actions:[V.action(_.add,()=>this.navigate("/mlab/analyses/create"))]},this.value=null,this.indicator=b(!1),this.get();}get(){this.mlabService.analyses.count({filters:[]}).pipe(O(this.indicator)).subscribe(i=>{this.value=i;});}navigate(i){this.router.navigate([i]);}};e.ɵfac=function(o){return new(o||e)(a(w),a(F),a(y));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-analyses-count"]],standalone:!0,features:[M,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(o,r){o&1&&(m(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),o&2&&(s("card",r.card)("indicator",r.indicator),n(),s("value",r.value));},dependencies:[$,P,x,D,B,Y],encapsulation:2});let t=e;return t;})();var je=(()=>{let e=class e extends U{constructor(i,o,r){super(),this.mlabService=i,this.dialog=o,this.router=r,this.card={icon:"label",subtitle:_.specimens,clickFn:()=>this.navigate("/mlab/specimens"),actions:[V.action(_.show,()=>this.navigate("/mlab/specimens"))]},this.value=null,this.indicator=b(!1),this.get();}get(){this.mlabService.specimens.count({filters:[]}).pipe(O(this.indicator)).subscribe(i=>{this.value=i;});}navigate(i){this.router.navigate([i]);}};e.ɵfac=function(o){return new(o||e)(a(w),a(F),a(y));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-specimens-count"]],standalone:!0,features:[M,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(o,r){o&1&&(m(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),o&2&&(s("card",r.card)("indicator",r.indicator),n(),s("value",r.value));},dependencies:[$,P,x,D,B,Y],encapsulation:2});let t=e;return t;})();function Xe(t,e){if(t&1&&(m(0,"mat-label"),R(1),l()),t&2){let p=g();n(),X(p.label);}}function ke(t,e){t&1&&(m(0,"mat-option"),R(1,"-"),l());}function qe(t,e){if(t&1&&(m(0,"mat-option",4),R(1),l()),t&2){let p=e.$implicit,i=g();s("value",i.getOptionValue(p)),n(),X(i.getOptionContent(p));}}function Je(t,e){t&1&&(m(0,"mat-error"),A(1,5),l());}function Ke(t,e){t&1&&(m(0,"mat-error"),A(1,6),l());}function Qe(t,e){t&1&&(m(0,"mat-error"),A(1,7),l());}function We(t,e){t&1&&c(0,"mat-progress-bar",3);}var we=(()=>{let e=class e extends ge{constructor(i,o){super(i),this.ngControl=i,this.sprtService=o,this.label=_.abbreviation;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.sprtService.tileTypes.getAll(null,["name"]).pipe(W(1)).pipe(O(this.indicator)).subscribe(i=>{this.options.push(...i.items),this.totalPages=i.totalPages;});}};e.ɵfac=function(o){return new(o||e)(a(ae,10),a(d));},e.ɵcmp=u({type:e,selectors:[["medisy-form-field-tile-type"]],standalone:!0,features:[E([d]),M,f],decls:11,vars:10,consts:()=>{let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let o;o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u064A\u0633 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644";let r;return r="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],i,o,r];},template:function(o,r){o&1&&(m(0,"div",0)(1,"mat-form-field",1),C(2,Xe,2,1,"mat-label"),m(3,"mat-select",2),re("szScrolled",function(){return r.scroll();}),C(4,ke,2,0,"mat-option"),N(5,qe,2,2,"mat-option",4,I),l(),C(7,Je,2,0,"mat-error")(8,Ke,2,0,"mat-error")(9,Qe,2,0,"mat-error"),l(),C(10,We,1,0,"mat-progress-bar",3),l()),o&2&&(n(2),h(2,r.label?2:-1),n(),s("formControl",r.control)("multiple",r.multiple)("placeholder",r.placeholder)("szScrollIgnored",r.indicator()),n(),h(4,r.emptyOption?4:-1),n(),z(r.options),n(2),h(7,r.control.hasError("required")?7:-1),n(),h(8,r.control.hasError("min")?8:-1),n(),h(9,r.control.hasError("max")?9:-1),n(),h(10,r.indicator()?10:-1));},dependencies:[G,L,me,Ee,he,_e,Se,Te,fe,D,Me,Ge],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=e;return t;})();var He=(()=>{let e=class e extends Ne{constructor(i,o,r,S){super(r),this.sprtService=i,this.fb=o,this.dialog=r,this.data=S,this.form=o.group({name:[S?.name,[k.required,k.minLength(1)]],description:[S?.description,[]],tileTypes:[]});}submit(){this.IsValid()&&(this.data?this.save(this.sprtService.tileGroups.update(this.data.id,this.form.value)):this.save(this.sprtService.tileGroups.create(this.form.value)));}};e.ɵfac=function(o){return new(o||e)(a(d),a(de),a(De),a(Fe));},e.ɵcmp=u({type:e,selectors:[["medisy-dashboard-save"]],standalone:!0,features:[E([d]),M,f],decls:7,vars:3,consts:()=>{let i;i="\u0627\u0644\u0627\u0633\u0645";let o;return o="\u0627\u0644\u0648\u0635\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",i],["formControlName","description","label",o],["formControlName","tileTypes"],[3,"actions"]];},template:function(o,r){o&1&&(c(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),c(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3)(5,"medisy-form-field-tile-type",4),l()(),c(6,"sz-ui-dialog-actions",5)),o&2&&(s("header",r.header),n(2),s("formGroup",r.form),n(4),s("actions",r.actions));},dependencies:[G,le,L,se,pe,ce,Ie,Oe,Re,ze,be,Pe,ve,ye,we],encapsulation:2});let t=e;return t;})();function Ze(t,e){if(t&1&&c(0,"medisy-laboratory-tiles-analyses-count",3),t&2){let p=g().$implicit;s("id",p.id);}}function et(t,e){if(t&1&&c(0,"medisy-laboratory-tiles-specimens-count",3),t&2){let p=g().$implicit;s("id",p.id);}}function tt(t,e){if(t&1&&C(0,Ze,1,1,"medisy-laboratory-tiles-analyses-count",3)(1,et,1,1),t&2){let p=e.$implicit;h(0,p.tileType.identifier==="analyses-count"?0:p.tileType.identifier==="specimens-count"?1:-1);}}function it(t,e){if(t&1&&(c(0,"sz-ui-header-info",1),m(1,"div",2),N(2,tt,2,1,null,null,I),l()),t&2){let p=e.$implicit,i=g();s("title",p.name)("subTitle",p.description)("menu",i.tileGroupMenu)("data",p),n(2),z(p.tiles);}}var Ye=(()=>{let e=class e{constructor(i,o,r){this.sprtService=i,this.dialog=o,this.router=r,this.tileGroups=[],this.title=_.dashboard,this.manageTileGroups=!1,this.menu=q.more([v.add(()=>this.openSaveComponent()),v.divider(),v.show(()=>{this.manageTileGroups=!this.manageTileGroups,this.manageTileGroups?this.tileGroupMenu=q.more([v.add(()=>this.openSaveComponent()),v.divider(),v.delete(S=>this.openTileGroupDeleteComponent(S))]):this.tileGroupMenu=null;})]),this.tileGroupMenu=null,this.get();}openSaveComponent(){this.dialog.open(He,{data:null}).afterClosed().subscribe(i=>{i&&this.get();});}openTileGroupDeleteComponent(i){console.log(i),this.dialog.open(Ae,{data:Le.delete(this.sprtService.tileGroups.delete(i.id),i)}).afterClosed().subscribe(o=>{o&&this.get();});}get(){this.sprtService.tileGroups.get(Q({},Ce.unpaged())).subscribe(i=>{this.tileGroups=i.items;});}};e.ɵfac=function(o){return new(o||e)(a(d),a(F),a(y));},e.ɵcmp=u({type:e,selectors:[["medisy-dashboard"]],standalone:!0,features:[E([d]),f],decls:3,vars:2,consts:[[3,"title","menu"],[3,"title","subTitle","menu","data"],[1,"sz-grid-card","tw-mb-2"],[3,"id"]],template:function(o,r){o&1&&(c(0,"sz-ui-header-info",0),N(1,it,4,4,null,null,I)),o&2&&(s("title",r.title)("menu",r.menu),n(),z(r.tileGroups));},dependencies:[H,xe,je],encapsulation:2});let t=e;return t;})();var Be=[{path:"",component:Ye}];var bi=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=ie({type:e}),e.ɵinj=ee({imports:[ue.forChild(Be),P,H]});let t=e;return t;})();export{bi as DashboardModule};/**i18n:70191478f6ac7be8bdb3241746fcd9e1f236a6362603c105af1f0a7330a6840e*/