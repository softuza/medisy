import{a as se}from"./chunk-76NTFD7U.js";import"./chunk-FPEL7HED.js";import{a as G}from"./chunk-CAFVTOU4.js";import{b as F,c as te,e as oe,g as ie,h as Y,i as f,s as re,t as ae}from"./chunk-EWJ5VIW6.js";import{a as k}from"./chunk-SUUMCV2R.js";import{c as K,g as Q,h as W,i as v,j as P,l as Z,m as z,n as ee}from"./chunk-AS5U2OT3.js";import{a as N,b as R,d as H,e as L,g as D}from"./chunk-GP3W3GGO.js";import{y as x}from"./chunk-WYIASL3N.js";import{d as M,g as E,h as b,l as A,n as O,o as h,p as g,s as y}from"./chunk-DOVRWRQU.js";import{a as B}from"./chunk-QPPJ65JJ.js";import{a as I}from"./chunk-RXJ3ACVE.js";import{b as J}from"./chunk-TWS2RBYG.js";import"./chunk-2IBJ7SPQ.js";import{a as U,e as X}from"./chunk-2IOOD4ZB.js";import{i as $}from"./chunk-DESFHGZ3.js";import"./chunk-PLPMFK4N.js";import"./chunk-GNPEYPQP.js";import{Pa as w,Ra as q}from"./chunk-26JDY2BM.js";import{Bb as m,Cb as p,Db as d,L as S,Nb as c,Pb as T,ac as u,bc as V,cb as l,cc as j,db as s,kb as C,la as _,nb as n}from"./chunk-J5YYK5S2.js";var me=(()=>{let i=class i extends Q{constructor(e,t,o){super(t),this.fb=e,this.dialog=t,this.data=o,this.form=e.group({enabled:[o.enabled]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};i.ɵfac=function(t){return new(t||i)(s(g),s(N),s(R));},i.ɵcmp=_({type:i,selectors:[["medisy-laboratory-test-classes-filter"]],standalone:!0,features:[C,u],decls:6,vars:3,consts:()=>{let e;return e="\u0645\u0641\u0639\u0644",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,o){t&1&&(d(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1)(3,"mat-checkbox",2),c(4,3),p()()(),d(5,"sz-ui-dialog-actions",4)),t&2&&(n("header",o.header),l(2),n("formGroup",o.form),l(3),n("actions",o.actions));},dependencies:[y,A,E,b,O,h,z,v,P,D,L,f,Y],encapsulation:2});let a=i;return a;})();var Te=()=>[],Me=a=>[a],de=(()=>{let i=class i extends W{constructor(e,t,o,r){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=r,this.form=t.group({enabled:[r.laboratoryTestClass?.enabled??!0,[M.required]],price:[r.laboratoryTestClass?.price??0,[M.required]],testClassId:[r.laboratoryTestClass?.testClassId,[M.required]]});}submit(){this.IsValid()&&(this.data.laboratoryTestClass?this.save(this.mlabService.laboratories.testClasses.update(this.data.laboratoryId,this.data.laboratoryTestClass?.id,this.form.value)):this.save(this.mlabService.laboratories.testClasses.create(this.data.laboratoryId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(s(I),s(g),s(N),s(R));},i.ɵcmp=_({type:i,selectors:[["medisy-laboratory-test-classes-save"]],standalone:!0,features:[C,u],decls:8,vars:7,consts:()=>{let e;e="Price";let t;return t="\u0645\u0641\u0639\u0644",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId",3,"excludeLaboratoryIds"],["formControlName","price","label",e],["formControlName","enabled"],t,[3,"actions"]];},template:function(t,o){t&1&&(d(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),d(3,"medisy-form-field-test-class",2)(4,"sz-ui-form-field-input",3),m(5,"mat-checkbox",4),c(6,5),p()()(),d(7,"sz-ui-dialog-actions",6)),t&2&&(n("header",o.header),l(2),n("formGroup",o.form),l(1),n("excludeLaboratoryIds",o.data.laboratoryTestClass?V(4,Te):j(5,Me,o.data.laboratoryId)),l(4),n("actions",o.actions));},dependencies:[y,A,E,b,O,h,z,v,P,D,L,f,Y,se,x],encapsulation:2});let a=i;return a;})();var at=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.title=k.testClasses,this.dataSource=new oe(),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(te.default([F.text("testClass.name",k.testClass),G.createdAt(),F.text("price",B.price),F.checkbox("enabled",B.enabled,(r,pe)=>{r.enabled=pe,this.mlabService.laboratories.testClasses.update(r.laboratoryId,r.id,r).pipe(S(1)).subscribe(Se=>{r=Se;});}),G.menu([$.edit(r=>this.openSaveComponent(r)),$.delete(r=>this.openLaboratoryTestClassDeleteComponent(r))])])),this.get();}openSaveComponent(e){this.dialog.open(de,{data:{laboratoryId:this.laboratory.id,laboratoryTestClass:e}}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openFilterComponent(){this.dialog.open(me,{data:this.dataSource.filter}).afterClosed().pipe(S(1)).subscribe(e=>{this.dataSource.updateFilter(e),this.get();});}openLaboratoryTestClassDeleteComponent(e){this.dialog.open(Z,{data:ee.delete(this.mlabService.laboratories.testClasses.delete(e.laboratoryId,e.id),e)}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.laboratories.testClasses.get(this.laboratory.id,this.dataSource.buildRequest()).pipe(K(this.dataSource.indicator)).pipe(S(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(s(H),s(I),s(U));},i.ɵcmp=_({type:i,selectors:[["medisy-laboratory-test-classes"]],standalone:!0,features:[u],decls:6,vars:5,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[[3,"title","subTitle"],[3,"filter","search","filterClicked"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(t,o){t&1&&(d(0,"sz-ui-header-info",0),m(1,"sz-ui-table-filter",1),T("search",function(){return o.get();})("filterClicked",function(){return o.openFilterComponent();}),m(2,"button",2),T("click",function(){return o.openSaveComponent();}),m(3,"span"),c(4,3),p()()(),m(5,"sz-ui-table",4),T("update",function(){return o.get();}),p()),t&2&&(n("title",o.title)("subTitle",o.laboratory.name),l(1),n("filter",o.dataSource.filter),l(4),n("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[X,J,ae,re,ie,f,q,w],encapsulation:2});let a=i;return a;})();export{at as LaboratoryTestClassesComponent};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/