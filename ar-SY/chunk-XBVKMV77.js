import{a as P}from"./chunk-CZSDKHXK.js";import{a as o,d as F,e as L,f as k,i as w,j as x}from"./chunk-XL6LO4ZO.js";import"./chunk-YGU4JTYS.js";import"./chunk-WW5RFYLV.js";import{b as T,h as j}from"./chunk-6LGU3KUZ.js";import{a as m}from"./chunk-HZWF5JWJ.js";import"./chunk-HWJ6IS6U.js";import{k as R}from"./chunk-SR3I6TMI.js";import{a as D}from"./chunk-LOKRW6JI.js";import{d as A,m as n}from"./chunk-CLK5BOCA.js";import"./chunk-BNHPHFGK.js";import{d as B,g as I}from"./chunk-4CSR7EPJ.js";import"./chunk-VG3PAYI5.js";import"./chunk-SNT3MO4N.js";import"./chunk-264QKOH6.js";import"./chunk-W4ZBAGNE.js";import"./chunk-AAHDAXVC.js";import"./chunk-IEUIBZ53.js";import"./chunk-VXNH5PTX.js";import{Y as f}from"./chunk-FZKM7RGV.js";import{a as M,c as v,e as z}from"./chunk-DNH4OZS2.js";import"./chunk-ELRLVGRO.js";import{ia as _,la as O}from"./chunk-4B53IFHW.js";import"./chunk-UZ765RGE.js";import{Kb as c,Lb as u,Xb as p,bb as C,cb as s,ea as h,na as S,oa as b,oc as y,zb as l}from"./chunk-G33TNFCW.js";import"./chunk-EAIILSS5.js";var N=(()=>{let t=class t{constructor(e,r,i,d){this.dialog=e,this.mlabService=r,this.route=i,this.router=d,this.dataSource=new F("-createdAt"),this.appBarConfig={title:f.analyses,actions:[n.add(()=>{this.router.navigate([P.AnalysisCreate])}),n.menu([n.search(),n.filter()])]};let g=this.router.getCurrentNavigation()?.extras.state;this.dataSource.filtration?.push(g&&g.filter),this.dataSource.columnDefs.push(o.uuid("id"),o.uuid("laboratoryId"),o.uuid("personId"),o.number("code").setRouterLink(E=>`/mlab/analyses/${E.id}`).setValueClassFontBold().setStacked(o.string("laboratory.name").setName(f.laboratory).setValueClassFontSmall()),o.date("createdAt"),o.date("updatedAt").setVisible(!1),o.menu([n.barcode(this.openBarcodeWriterComponent.bind(this))])),this.get()}openBarcodeWriterComponent(e){this.dialog.open(j,{data:{format:T.QR_CODE,msg:`analysisid.${e.id}`}}).afterClosed().subscribe({})}get(){this.mlabService.analyses.get(this.dataSource.getQuery()).pipe(L(this.dataSource.state)).subscribe(e=>{this.dataSource.set(e.items,e.count)})}};t.\u0275fac=function(r){return new(r||t)(s(B),s(m),s(M),s(v))},t.\u0275cmp=S({type:t,selectors:[["sz-medisy-laboratory-analyses"]],features:[y([])],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(r,i){r&1&&(c(0,"sz-ui-table-bar",0),p("changed",function(){return i.get()}),u(),c(1,"sz-ui-table",1),p("update",function(){return i.get()}),u()),r&2&&(l("config",i.appBarConfig)("dataSource",i.dataSource),C(),l("dataSource",i.dataSource))},dependencies:[w,k],styles:[".column-status[_ngcontent-%COMP%], .mat-column-detail-status[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]:not(mat-header-cell){max-width:4px;margin-left:24px}.mat-column-status[_ngcontent-%COMP%]:not(mat-header-cell){background-color:#13a311}.mat-column-detail-status[_ngcontent-%COMP%]{background-color:#13a311}.mat-cell[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{padding-left:0}"]});let a=t;return a})();var ut=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=b({type:t}),t.\u0275inj=h({providers:[m],imports:[z.forChild([{path:"",component:N},{path:"create",loadComponent:()=>import("./chunk-R5R4HCVF.js").then(e=>e.CreateComponent)}]),I,x,R,D,A,_,O]});let a=t;return a})();export{N as AnalysesComponent,ut as AnalysesModule};
/**i18n:23b18f90dfad26ae6b830c3e760ecc323aedcfc43eb78549f6a00c2171dce7c8*/
