import{a as me}from"./chunk-5BHFYF43.js";import{a as ue}from"./chunk-QGOMQ4CP.js";import{a as se,c as pe,e as ce,f as de,g as _e}from"./chunk-VYEYFY3M.js";import{a as le}from"./chunk-M75BK6QC.js";import{a as B,b as H,c as G,g as U,h as X,i as Q,j as Y,k as Z,l as ee,m as te,o as ae}from"./chunk-GUG4PC4L.js";import{Aa as ne,Ca as re,Q as W,R as J,b as D,e as b,f as w,l as V,t as $,ya as ie,za as oe}from"./chunk-L4KK2A7F.js";import{Ba as k,Ia as j,Ja as K,ya as q}from"./chunk-NQOK3G2M.js";import{Ab as p,Cb as F,Db as g,Eb as E,Fb as m,Gb as l,Hb as O,Lb as f,M as A,Rb as v,Tb as _,Vb as s,a as P,b as I,dc as h,ec as c,fc as N,gb as a,gc as y,hb as T,hc as z,kc as L,oa as x,ob as R,rb as S,ta as u,ua as C,vb as d}from"./chunk-XEAZENSO.js";function Se(t,o){if(t&1){let r=f();m(0,"mat-chip-row",8),_("removed",function(){let i=u(r).$implicit,M=s(2);return C(M.removeSelection(i));}),c(1),m(2,"button",9)(3,"mat-icon"),c(4,"cancel"),l()()();}if(t&2){let r=o.$implicit,e=s(2);a(),y(" ",e.getSelectionFormat(r)," ");}}function fe(t,o){if(t&1){let r=f();m(0,"mat-chip-grid",null,5),g(2,Se,5,1,"mat-chip-row",null,F),l(),m(4,"input",6,7),_("matChipInputTokenEnd",function(){u(r);let n=s();return C(n.addSelection());}),l();}if(t&2){let r=h(1),e=s(),n=h(7);a(2),E(e.selections),a(2),d("matAutocomplete",n)("formControl",e.control)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes);}}function he(t,o){if(t&1&&O(0,"input",10,7),t&2){let r=s(),e=h(7);d("matAutocomplete",e)("formControl",r.control);}}function Me(t,o){if(t&1&&(m(0,"mat-option",11),c(1),l()),t&2){let r=o.$implicit,e=s();d("value",e.getOptionValue(r)),a(),y(" ",e.getOptionContent(r)," ");}}function Te(t,o){t&1&&(m(0,"mat-error"),v(1,12),l());}function Fe(t,o){t&1&&(m(0,"mat-error"),v(1,13),l());}function ge(t,o){if(t&1){let r=f();m(0,"mat-icon",14),_("click",function(){u(r);let n=s();return C(n.save());}),c(1,"phone"),l();}}function Ee(t,o){t&1&&O(0,"mat-progress-bar",4);}var Ye=(()=>{let o=class o extends ae{constructor(e,n){super(e),this.ngControl=e,this.mpplService=n,this.label=re.title,this.query=null,this.orderBy=["name"],this.isSaved=!1,this.szOptionFormatFn=i=>i?i.name:"";}ngOnInit(){this.control=this.ngControl.control,this.listenChanges();}ngOnDestroy(){this.subscriptions.unsubscribe();}listenChanges(){this.subscriptions.add(this.control.valueChanges.pipe(ne(400)).subscribe(e=>{this.handleValueChanged(e);}));}handleValueChanged(e){if(this.reset(),typeof e=="string")this.query=e;else if(typeof e=="object"&&e)return;this.get();}reset(){this.query=null,this.totalPages=-1,this.options=[];}get(){this.mpplService.titles.get(I(P({query:this.query},ie.unpaged()),{orderBy:this.orderBy})).pipe(A(1),oe(this.indicator)).subscribe(e=>{this.options.push(...e.items),this.totalPages=e.totalPages;});}save(){}getOptionValue(e){return e;}};o.ɵfac=function(n){return new(n||o)(T(b,10),T(me));},o.ɵcmp=x({type:o,selectors:[["medisy-form-field-title-search"]],inputs:{query:"query",orderBy:"orderBy"},standalone:!0,features:[z([le]),R,L],decls:14,vars:8,consts:()=>{let e;e="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let n;return n="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",[[1,"container"],[3,"displayWith","szScrollIgnored","optionSelected","szScrolled"],["auto","matAutocomplete"],["matSuffix",""],["mode","indeterminate"],["chipGrid",""],["matInput","",3,"matAutocomplete","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["input",""],[3,"removed"],["matChipRemove",""],["matInput","",3,"matAutocomplete","formControl"],[3,"value"],e,n,["matSuffix","",3,"click"]];},template:function(n,i){n&1&&(m(0,"div",0)(1,"mat-form-field")(2,"mat-label"),c(3),l(),S(4,fe,6,4)(5,he,2,2),m(6,"mat-autocomplete",1,2),_("optionSelected",function(Ce){return i.optionSelected(Ce);})("szScrolled",function(){return i.scroll();}),g(8,Me,2,2,"mat-option",11,F),l(),S(10,Te,2,0,"mat-error")(11,Fe,2,0,"mat-error")(12,ge,2,0,"mat-icon",3),l(),S(13,Ee,1,0,"mat-progress-bar",4),l()),n&2&&(a(3),N(i.label),a(),p(4,i.multiple?4:5),a(2),d("displayWith",i.szOptionFormatFn)("szScrollIgnored",i.indicator()),a(2),E(i.options),a(2),p(10,i.control.hasError("required")?10:-1),a(),p(11,i.control.hasError("invalid")?11:-1),a(),p(12,12),a(),p(13,i.indicator()?13:-1));},dependencies:[$,D,w,V,X,U,B,H,G,Z,Q,q,Y,J,W,te,ee,k,_e,ce,de,se,pe,K,j,ue],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=o;return t;})();export{Ye as a};/**i18n:f1993a9d8de25a460a4edd4e25b48862b3dd863aec93a795c43b451741326090*/