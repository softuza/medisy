import{a as oe}from"./chunk-JQFTRDC7.js";import{a as ie}from"./chunk-HUYVLC3Y.js";import{a as E}from"./chunk-VQ23AZJZ.js";import"./chunk-NR6ZIDYQ.js";import{a as W,c as Z,e as x,q as ee,r as te,s as a}from"./chunk-HQ3Z4NNH.js";import"./chunk-Y5HDWD5F.js";import{a as Y}from"./chunk-UHFSKWPK.js";import{c as k,h as w,i as q,j as H,l as J,m as K,n as Q}from"./chunk-Z7OKAKBM.js";import"./chunk-ZJ64T7EP.js";import{b as B}from"./chunk-RXAL7PGU.js";import{g as P}from"./chunk-6JH6MW6Z.js";import{a as G,b as V,d as j,e as U,g as X}from"./chunk-4BUDGXGE.js";import{A as $,v as F}from"./chunk-STJ2KHGY.js";import{J as R,N as L,d as N,f as O,g as A,k as T,m as v,p as D,q as I,t as z}from"./chunk-LABVDJ46.js";import"./chunk-M74OYCSZ.js";import{Ea as b,Ga as y}from"./chunk-FE4YDWUQ.js";import{Eb as l,Fb as u,Gb as p,M as S,Qb as g,Sb as c,fb as d,gb as n,jc as f,na as _,nb as M,nc as h,oc as C,ub as s}from"./chunk-FCYIFV3F.js";var re=(()=>{let o=class o extends w{constructor(t,e,i,r){super(i),this.mpplService=t,this.fb=e,this.dialog=i,this.data=r,this.form=e.group({firstName:[r.personName?.firstName,[N.required,N.minLength(1)]],lastName:[r.personName?.lastName,[]],languageId:[r.personName?.languageId,[N.required]]});}submit(){this.IsValid()&&(this.data.personName?this.save(this.mpplService.persons.names.update(this.data.personId,this.data.personName.id,this.form.value)):this.save(this.mpplService.persons.names.create(this.data.personId,this.form.value)));}};o.ɵfac=function(e){return new(e||o)(n(E),n(I),n(G),n(V));},o.ɵcmp=_({type:o,selectors:[["medisy-people-person-names-save"]],standalone:!0,features:[M,f],decls:8,vars:3,consts:()=>{let t;t="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644";let e;return e="\u0627\u0644\u0643\u0646\u064A\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","firstName","label",t],["formControlName","lastName","label",e],["formControlName","languageId"],[3,"actions"]];},template:function(e,i){e&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1)(3,"div",2),p(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),u(),p(6,"medisy-form-field-language",5),u()(),p(7,"sz-ui-dialog-actions",6)),e&2&&(s("header",i.header),d(2),s("formGroup",i.form),d(5),s("actions",i.actions));},dependencies:[z,T,O,A,v,D,X,U,K,q,H,$,F,oe],encapsulation:2});let m=o;return m;})();var Xe=(()=>{let o=class o{constructor(t,e,i){this.dialog=t,this.mpplService=e,this.route=i,this.title=Y.names,this.dataSource=new Z(),this.person=this.route.snapshot.data.person,this.dataSource.fields.push(a.uuid("id"),a.uuid("personId"),a.uuid("languageId"),a.string("firstName"),a.string("lastName"),a.string("fatherName"),a.string("motherName"),a.date("createdAt",!1),a.date("updatedAt",!1),W.menu([P.edit(r=>this.openSaveComponent(r)),P.delete(r=>this.openPersonNameDeleteComponent(r))])),this.get();}openSaveComponent(t){this.dialog.open(re,{data:{personId:this.person.id,personName:t}}).afterClosed().pipe(S(1)).subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openPersonNameDeleteComponent(t){this.dialog.open(J,{data:Q.delete(this.mpplService.persons.names.delete(this.person.id,t.id),t)}).afterClosed().pipe(S(1)).subscribe(e=>{this.dataSource.delete(e);});}get(){this.mpplService.persons.names.get(this.person.id,this.dataSource.buildRequest()).pipe(k(this.dataSource.indicator),S(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};o.ɵfac=function(e){return new(e||o)(n(j),n(E),n(R));},o.ɵcmp=_({type:o,selectors:[["medisy-people-person-names"]],standalone:!0,features:[f],decls:7,vars:7,consts:()=>{let t;return t="\u0625\u0636\u0627\u0641\u0629",[[3,"title","subtitle"],[3,"dataSource","changed"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"stateEnabled","dataSource","update"]];},template:function(e,i){e&1&&(p(0,"sz-ui-header-info",0),h(1,"personName"),l(2,"sz-ui-table-search-filter",1),c("changed",function(){return i.get();}),l(3,"button",2),c("click",function(){return i.openSaveComponent();}),l(4,"span"),g(5,3),u()()(),l(6,"sz-ui-table",4),c("update",function(){return i.get();}),u()),e&2&&(s("title",i.title)("subtitle",C(1,5,i.person)),d(2),s("dataSource",i.dataSource),d(4),s("stateEnabled",!0)("dataSource",i.dataSource));},dependencies:[L,y,b,te,ee,x,B,ie],encapsulation:2});let m=o;return m;})();export{Xe as PersonNamesComponent};/**i18n:d1a7a79e40094f34760a06b0e93530073ce604a889b1368eeeee77f855868761*/