import{a as fe,b as Ee,c as Me}from"./chunk-SI2MJOV3.js";import{a as re}from"./chunk-HPIEIFOW.js";import{a as ce}from"./chunk-YKV25FTY.js";import"./chunk-FJX2WUUI.js";import{a as d,b as Z,d as ee,f as te,i as ie,j as oe}from"./chunk-CDND7EHA.js";import"./chunk-LIIS7A43.js";import"./chunk-UQPXTM25.js";import"./chunk-N6VKBQXP.js";import{a as S}from"./chunk-6BU6A7VN.js";import{e as x,f as Q,g as J,i as K,j as I,k as W}from"./chunk-A4XZJK7B.js";import"./chunk-YUEFNVQ5.js";import{b as q}from"./chunk-U55JSNN2.js";import{h as g}from"./chunk-X6CB65IJ.js";import{a as V,b as G,d as O,e as j,g as y}from"./chunk-QE4XYJ4T.js";import"./chunk-NAIS3R76.js";import{c as Te,o as H,q as ue}from"./chunk-YEMLNHW5.js";import{c as k}from"./chunk-6AZ2AEC7.js";import"./chunk-U7ZOM2YQ.js";import"./chunk-NBKY5CS7.js";import{c as w}from"./chunk-S2T6ZNBK.js";import"./chunk-AREF36RF.js";import{d as N,f as z,g as P,k as Y,m as U,p as $,q as B,t as F}from"./chunk-OJRV2XYW.js";import"./chunk-45ZRMW6B.js";import{a as E,c as _e,e as M}from"./chunk-GL26FKLW.js";import"./chunk-WH4BPRTJ.js";import{ha as Se,ia as X,ka as C}from"./chunk-XGLXTGUJ.js";import"./chunk-F5J57FY7.js";import{Ab as A,Bb as v,Db as s,Nb as p,Ob as l,Pb as m,Zb as D,_b as u,hb as _,ib as a,ka as me,pc as f,qc as c,ua as T,ub as b,va as de,zb as L}from"./chunk-HXKYWGD2.js";var Oe=(()=>{let i=class i extends x{constructor(e,t,o,n){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=n,this.form=t.group({name:[n.testTypeResultOption?.name,[N.required]],description:[n.testTypeResultOption?.description,[]],abbreviation:[n.testTypeResultOption?.abbreviation,[]],localizedName:[n.testTypeResultOption?.localizedName,[]],value:[n.testTypeResultOption?.value,[N.required]]});}submit(){this.IsValid()&&(this.data.testTypeResultOption?this.save(this.mlabService.testTypes.resultOptions.update(this.data.testTypeId,this.data.testTypeResultOption?.id,this.form.value)):this.save(this.mlabService.testTypes.resultOptions.create(this.data.testTypeId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(a(S),a(B),a(V),a(G));},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-type-result-options-save"]],standalone:!0,features:[f([]),b,c],decls:9,vars:4,consts:()=>{let e;e="\u0627\u0644\u0627\u0633\u0645";let t;t="\u0627\u0644\u0648\u0635\u0641";let o;o="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0645\u062A\u0631\u062C\u0645";let n;n="\u0623\u062E\u062A\u0635\u0627\u0631";let le;return le="\u0642\u064A\u0645\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",e],["formControlName","description","label",t],["formControlName","localizedName","label",o],["formControlName","abbreviation","label",n],["formControlName","value","label",le,3,"type"],[3,"actions"]];},template:function(t,o){t&1&&(m(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),m(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-input",5)(7,"sz-ui-form-field-input",6),l()(),m(8,"sz-ui-dialog-actions",7)),t&2&&(s("header",o.header),_(2),s("formGroup",o.form),_(5),s("type","number"),_(),s("actions",o.actions));},dependencies:[F,Y,z,P,U,$,y,j,H,I,Q,J,Te],encapsulation:2});let r=i;return r;})();var se=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.title=w.units,this.dataSource=new ee(),this.testTypeId=this.route.snapshot.params.testTypeId,this.dataSource.columnDefs.push(d.uuid("id"),d.string("name").setStacked(d.string("localizedName").setValueClassFontSmall()),d.string("abbreviation"),d.date("createdAt").setVisible(!1),d.date("updatedAt").setVisible(!1),Z.menu([g.edit(n=>this.openSaveComponent(n)),g.delete(n=>this.openTestTypeResultOptionDeleteComponent(n))])),this.get();}openSaveComponent(e){this.dialog.open(Oe,{data:{testTypeId:this.testTypeId,testTypeResultOption:e}}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeResultOptionDeleteComponent(e){this.dialog.open(K,{data:W.delete(this.mlabService.testTypes.units.delete(e.testTypeId,e.id),e)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.testTypes.resultOptions.update(e.testTypeId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testTypes.resultOptions.get(this.testTypeId,this.dataSource.getQuery()).pipe(k(this.dataSource.indicator)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(a(O),a(S),a(E));},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-type-result-options"]],standalone:!0,features:[c],decls:5,vars:3,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[e,[3,"changed","dataSource"],["title","","mat-flat-button","","color","primary","start","",3,"click"],[3,"update","stateEnabled","dataSource"]];},template:function(t,o){t&1&&(p(0,"sz-ui-table-search-filter",1),u("changed",function(){return o.get();}),p(1,"button",2),u("click",function(){return o.openSaveComponent();}),p(2,"span"),D(3,0),l()()(),p(4,"sz-ui-table",3),u("update",function(){return o.get();}),l()),t&2&&(s("dataSource",o.dataSource),_(4),s("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[M,C,X,oe,ie,te],encapsulation:2});let r=i;return r;})();var Ce=(()=>{let i=class i extends x{constructor(e,t,o,n){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=n,this.units=this.mlabService.units.getAll({orderBy:["name"]}),this.form=t.group({unitId:[n.testTypeUnit?.unitId,[N.required]]});}submit(){this.IsValid()&&(this.data.testTypeUnit?this.save(this.mlabService.testTypes.units.update(this.data.testTypeId,this.data.testTypeUnit?.id,this.form.value)):this.save(this.mlabService.testTypes.units.create(this.data.testTypeId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(a(S),a(B),a(V),a(G));},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-type-units-save"]],standalone:!0,features:[f([]),b,c],decls:5,vars:4,consts:()=>{let e;return e="\u0648\u0627\u062D\u062F\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId","label",e,3,"source"],[3,"actions"]];},template:function(t,o){t&1&&(m(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),m(3,"sz-ui-form-field-select",2),l()(),m(4,"sz-ui-dialog-actions",3)),t&2&&(s("header",o.header),_(2),s("formGroup",o.form),_(),s("source",o.units),_(),s("actions",o.actions));},dependencies:[F,Y,z,P,U,$,y,j,H,I,Q,J,ue],encapsulation:2});let r=i;return r;})();var pe=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.title=w.units,this.dataSource=new ee(),this.testTypeId=this.route.snapshot.params.testTypeId,this.dataSource.columnDefs.push(d.uuid("id"),d.uuid("unitId"),d.string("unit.name"),d.date("createdAt").setVisible(!1),d.date("updatedAt").setVisible(!1),Z.menu([g.edit(n=>this.openSaveComponent(n)),g.delete(n=>this.openTestTypeUnitDeleteComponent(n))])),this.get();}openSaveComponent(e){this.dialog.open(Ce,{data:{testTypeId:this.testTypeId,testTypeUnit:e}}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeUnitDeleteComponent(e){this.dialog.open(K,{data:W.delete(this.mlabService.testTypes.units.delete(e.testTypeId,e.id),e)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.testTypes.units.update(e.testTypeId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testTypes.units.get(this.testTypeId,this.dataSource.getQuery()).pipe(k(this.dataSource.indicator)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(a(O),a(S),a(E));},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-type-units"]],standalone:!0,features:[c],decls:5,vars:3,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[e,[3,"changed","dataSource"],["title","","mat-flat-button","","color","primary","start","",3,"click"],[3,"update","stateEnabled","dataSource"]];},template:function(t,o){t&1&&(p(0,"sz-ui-table-search-filter",1),u("changed",function(){return o.get();}),p(1,"button",2),u("click",function(){return o.openSaveComponent();}),p(2,"span"),D(3,0),l()()(),p(4,"sz-ui-table",3),u("update",function(){return o.get();}),l()),t&2&&(s("dataSource",o.dataSource),_(4),s("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[M,C,X,oe,ie,te],encapsulation:2});let r=i;return r;})();var ze=()=>[re],Pe=()=>[pe],Ye=()=>[se];function Ue(r,i){r&1&&m(0,"sz-medisy-laboratory-test-type-specimen-types");}function $e(r,i){r&1&&m(0,"sz-medisy-laboratory-test-type-units");}function Be(r,i){r&1&&m(0,"sz-medisy-laboratory-test-type-result-options");}var ge=(()=>{let i=class i{constructor(e,t,o,n){this.dialog=e,this.mlabService=t,this.route=o,this.router=n,this.testType=this.route.snapshot.data.testType;}};i.ɵfac=function(t){return new(t||i)(a(O),a(S),a(E),a(_e));},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-type"]],features:[f([])],decls:14,vars:2,consts:()=>{let e;e="\u0623\u0646\u0645\u0627\u0637 \u0627\u0644\u0639\u064A\u0646\u0627\u062A";let t;t="\u0627\u0644\u0648\u062D\u062F\u0627\u062A";let o;return o="Options",[[3,"title","subtitle"],["mat-stretch-tabs","false"],["label",e],["label",t],["label",o]];},template:function(t,o){t&1&&(m(0,"sz-ui-header-info",0),p(1,"mat-tab-group",1)(2,"mat-tab",2),L(3,Ue,1,0),A(4,3,ze),v(),l(),p(6,"mat-tab",3),L(7,$e,1,0),A(8,7,Pe),v(),l(),p(10,"mat-tab",4),L(11,Be,1,0),A(12,11,Ye),v(),l()()),t&2&&s("title",o.testType.name)("subtitle",o.testType.description);},dependencies:[fe,Ee,q],encapsulation:2});let r=i;return r;})();var Ie=[{path:"",component:ge},{path:"specimen-types",loadComponent:()=>import("./chunk-Z2HWO6UA.js").then(r=>r.TestTypeSpecimenTypesComponent)}];var ti=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=de({type:i}),i.ɵinj=me({providers:[S],imports:[M.forChild(Ie),y,Se,C,Me,q,I,ce,re,pe,se]});let r=i;return r;})();export{ti as TestTypeModule};/**i18n:16b060cd78820ad434cadcf06c146ea03505a76210f247eb6a3abe146386bf6b*/