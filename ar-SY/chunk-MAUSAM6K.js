import{a as y}from"./chunk-RKDKE2AU.js";import{a as D}from"./chunk-UYAJRTBM.js";import{a as me}from"./chunk-3UIJKCG3.js";import{a as Ce}from"./chunk-RGBIIHC7.js";import{j as _e,l as ce,n as de,o as ue,p as Se}from"./chunk-YRRXOTJQ.js";import{a as Ee}from"./chunk-SUUMCV2R.js";import{c as se,d as pe}from"./chunk-TXP6BBJB.js";import{a as Y,b as j,h as K,i as W,j as te,k as ie,l as oe,m as ne,n as re,q as ae}from"./chunk-7N3O2BTC.js";import{b as w,f as V,g as B,m as U,s as k}from"./chunk-2OZGA6L4.js";import{a as le}from"./chunk-ITNYZQ6M.js";import{f as Z,g as ee,i as I}from"./chunk-SRHYWAF7.js";import{Ka as q,Na as X,Ta as J,Ua as Q}from"./chunk-KZIHA7KF.js";import{$b as L,Bb as m,Cb as a,Db as O,Hb as N,L as x,Nb as h,Ob as he,Pb as Me,Rb as C,Tb as s,Xb as f,Yb as d,Zb as R,_b as v,a as M,b as fe,cb as l,cc as $,db as S,gc as G,hc as H,kb as z,la as b,nb as c,qa as E,ra as F,tb as u,ub as _,wb as P,xb as g,yb as T}from"./chunk-6MBKLWBV.js";function ve(t,n){if(t&1){let r=N();m(0,"mat-chip-row",8),C("removed",function(){let o=E(r).$implicit,p=s(2);return F(p.removeSelection(o));}),d(1),G(2,"personName"),m(3,"button",9)(4,"mat-icon"),d(5,"cancel"),a()()();}if(t&2){let r=n.$implicit;l(1),v(" ",H(2,1,r)," ");}}function ye(t,n){if(t&1){let r=N();m(0,"mat-chip-grid",null,5),g(2,ve,6,3,"mat-chip-row",null,P),a(),m(4,"input",6,7),C("matChipInputTokenEnd",function(){E(r);let i=s();return F(i.addSelection());}),a();}if(t&2){let r=f(1),e=s(),i=f(7);T(2,e.selections),l(4),c("matAutocomplete",i)("formControl",e.control)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes);}}function De(t,n){if(t&1&&O(0,"input",10,7),t&2){let r=s(),e=f(7);c("matAutocomplete",e)("formControl",r.control);}}function xe(t,n){if(t&1&&(m(0,"small"),d(1),G(2,"personAge"),a()),t&2){let r=s().$implicit;l(1),R(H(2,1,r==null?null:r.birthDate));}}function be(t,n){if(t&1&&(m(0,"mat-option",11)(1,"div",12)(2,"strong"),d(3),G(4,"personName"),a(),u(5,xe,3,3,"small"),a()()),t&2){let r=n.$implicit;c("value",r),l(3),R(H(4,3,r)),l(2),_(5,r!=null&&r.birthDate?5:-1);}}function ze(t,n){t&1&&(m(0,"mat-error"),h(1,13),a());}function Le(t,n){t&1&&(m(0,"mat-error"),h(1,14),a());}function $e(t,n){t&1&&O(0,"mat-progress-bar",4);}var _t=(()=>{let n=class n extends ae{constructor(e,i,o,p){super(e),this.ngControl=e,this.mpplService=i,this.personNamePipe=o,this.personAgePipe=p,this.filter=I.default(),this.label="\u0627\u0644\u0627\u0633\u0645 \u0627\u0648 \u0627\u0644\u0647\u0627\u062A\u0641 \u0627\u0648 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",this.displayFn=A=>this.personNamePipe.transform(A);}ngOnInit(){this.control=this.ngControl.control,this.listenChanges();}listenChanges(){this.control.valueChanges.pipe(pe(400)).subscribe(e=>{this.handleValueChanged(e);});}handleValueChanged(e){if(this.reset(),typeof e=="string"){let i=e.split(" ");i.length===3?(this.filter.firstName=i[0],this.filter.middleName=i[1],this.filter.lastName=i[2]):i.length===2?(this.filter.firstName=i[0],this.filter.lastName=i[1]):this.filter.query=i[0];}else if(typeof e=="object"&&e)return;this.get();}reset(){this.filter=I.default(),this.totalPages=-1,this.options=[];}get(){this.mpplService.persons.get(M(M({},this.filter),this.pagination)).pipe(x(1),se(this.indicator)).subscribe(e=>{this.options.push(...e.items),this.totalPages=e.totalPages;});}};n.ɵfac=function(i){return new(i||n)(S(V,10),S(me),S(D),S(y));},n.ɵcmp=b({type:n,selectors:[["medisy-form-field-person-search"]],standalone:!0,features:[L([me,y,D]),z,$],decls:13,vars:7,consts:()=>{let e;e=""+"\uFFFD0\uFFFD"+"";let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let o;return o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",[[1,"container"],e,[3,"displayWith","szScrollIgnored","optionSelected","szScrolled"],["auto","matAutocomplete"],["mode","indeterminate"],["chipGrid",""],["matInput","",3,"matAutocomplete","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["input",""],[3,"removed"],["matChipRemove",""],["matInput","",3,"matAutocomplete","formControl"],[3,"value"],[1,"sz-form"],i,o];},template:function(i,o){i&1&&(m(0,"div",0)(1,"mat-form-field")(2,"mat-label"),h(3,1),a(),u(4,ye,6,4)(5,De,2,2),m(6,"mat-autocomplete",2,3),C("optionSelected",function(A){return o.optionSelected(A);})("szScrolled",function(){return o.scroll();}),g(8,be,6,5,"mat-option",11,P),a(),u(10,ze,2,0,"mat-error")(11,Le,2,0,"mat-error"),a(),u(12,$e,1,0,"mat-progress-bar",4),a()),i&2&&(l(3),he(o.label),Me(3),l(1),_(4,o.multiple?4:5),l(2),c("displayWith",o.displayFn)("szScrollIgnored",o.indicator()),T(8,o.options),l(4),_(10,o.control.hasError("required")?10:-1),l(1),_(11,o.control.hasError("invalid")?11:-1),l(1),_(12,o.indicator()?12:-1));},dependencies:[k,w,B,U,W,K,Y,j,oe,te,q,ie,ee,Z,re,ne,X,Se,de,ue,_e,ce,Q,J,Ce,y,D],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=n;return t;})();function Ge(t,n){if(t&1){let r=N();m(0,"mat-chip-row",7),C("removed",function(){let o=E(r).$implicit,p=s(2);return F(p.removeSelection(o));}),d(1),m(2,"button",8)(3,"mat-icon"),d(4,"cancel"),a()()();}if(t&2){let r=n.$implicit,e=s(2);l(1),v(" ",e.getSelectionFormat(r)," ");}}function He(t,n){if(t&1){let r=N();m(0,"mat-chip-grid",null,4),g(2,Ge,5,1,"mat-chip-row",null,P),a(),m(4,"input",5,6),C("matChipInputTokenEnd",function(){E(r);let i=s();return F(i.addSelection());}),a();}if(t&2){let r=f(1),e=s(),i=f(7);T(2,e.selections),l(4),c("matAutocomplete",i)("formControl",e.control)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes);}}function we(t,n){if(t&1&&O(0,"input",9,6),t&2){let r=s(),e=f(7);c("matAutocomplete",e)("formControl",r.control);}}function Ve(t,n){if(t&1&&(m(0,"mat-option",10),d(1),a()),t&2){let r=n.$implicit,e=s();c("value",e.getOptionValue(r)),l(1),v(" ",e.getOptionContent(r)," ");}}function Be(t,n){t&1&&(m(0,"mat-error"),h(1,11),a());}function Ue(t,n){t&1&&(m(0,"mat-error"),h(1,12),a());}function ke(t,n){t&1&&O(0,"mat-progress-bar",3);}var yt=(()=>{let n=class n extends ae{constructor(e,i){super(e),this.ngControl=e,this.mlabService=i,this.label=Ee.testGroup,this.filter=I.default(),this.sortBy="name",this.szOptionFormatFn=o=>o?o.name:"";}ngOnInit(){this.control=this.ngControl.control,this.subscribeChanges();}ngOnDestroy(){this.subscriptions.unsubscribe();}subscribeChanges(){this.subscriptions.add(this.control.valueChanges.pipe(pe(400)).subscribe(e=>{this.handleValueChanged(e);}));}handleValueChanged(e){if(this.reset(),typeof e=="string")this.filter.query=e;else if(typeof e=="object"&&e)return;this.get();}reset(){this.filter=I.default(),this.totalPages=-1,this.options=[];}get(){this.mlabService.testGroups.get(fe(M(M({},this.filter),this.pagination),{sortBy:this.sortBy})).pipe(x(1),se(this.indicator)).subscribe(e=>{this.options.push(...e.items),this.totalPages=e.totalPages;});}};n.ɵfac=function(i){return new(i||n)(S(V,10),S(le));},n.ɵcmp=b({type:n,selectors:[["medisy-form-field-test-group-search"]],inputs:{filter:"filter"},standalone:!0,features:[L([le]),z,$],decls:13,vars:7,consts:()=>{let e;e="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let i;return i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",[[1,"container"],[3,"displayWith","szScrollIgnored","optionSelected","szScrolled"],["auto","matAutocomplete"],["mode","indeterminate"],["chipGrid",""],["matInput","",3,"matAutocomplete","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["input",""],[3,"removed"],["matChipRemove",""],["matInput","",3,"matAutocomplete","formControl"],[3,"value"],e,i];},template:function(i,o){i&1&&(m(0,"div",0)(1,"mat-form-field")(2,"mat-label"),d(3),a(),u(4,He,6,4)(5,we,2,2),m(6,"mat-autocomplete",1,2),C("optionSelected",function(A){return o.optionSelected(A);})("szScrolled",function(){return o.scroll();}),g(8,Ve,2,2,"mat-option",10,P),a(),u(10,Be,2,0,"mat-error")(11,Ue,2,0,"mat-error"),a(),u(12,ke,1,0,"mat-progress-bar",3),a()),i&2&&(l(3),R(o.label),l(1),_(4,o.multiple?4:5),l(2),c("displayWith",o.szOptionFormatFn)("szScrollIgnored",o.indicator()),T(8,o.options),l(4),_(10,o.control.hasError("required")?10:-1),l(1),_(11,o.control.hasError("invalid")?11:-1),l(1),_(12,o.indicator()?12:-1));},dependencies:[k,w,B,U,W,K,Y,j,oe,te,q,ie,ee,Z,re,ne,X,Se,de,ue,_e,ce,Q,J,Ce],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=n;return t;})();export{yt as a,_t as b};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/