import{a as fe,b as Se}from"./chunk-OUUOFJTJ.js";import"./chunk-QWQRLCSG.js";import"./chunk-P7KBCBVS.js";import"./chunk-3GO4WB2S.js";import{a as _e}from"./chunk-2T7CI2CL.js";import"./chunk-AZPHA75M.js";import{a as D}from"./chunk-PCYFYMA5.js";import{b as le,c as se,e as de,g as pe,s as ce,t as ue}from"./chunk-43LKPK7B.js";import{c as re,g as ae,i as ne,j as me,m as g}from"./chunk-IYZKMGKL.js";import{a as Z,b as ee,d as te,e as oe,g as f}from"./chunk-ZGNAWKHW.js";import{a as w,d as U,h as X,i as V,r as q,s as x,t as J,u as K,v as Q,w as W}from"./chunk-DFAY52UJ.js";import{b as R,g as h,h as L,l as F,n as b,o as v,p as Y,s as z}from"./chunk-N56VCROX.js";import{a as M}from"./chunk-6SZAHQ7N.js";import{a as S}from"./chunk-KMYBK3UO.js";import{b as E}from"./chunk-P6DDCQCI.js";import"./chunk-NJ7DKY7A.js";import{a as $,d as k,e as G}from"./chunk-W5YC4BSW.js";import{d as ie,i as T}from"./chunk-LA45AZ3O.js";import"./chunk-GAA223RS.js";import"./chunk-UXQNJ32W.js";import{Pa as B,Ra as j,Ua as H}from"./chunk-AZJBQUGA.js";import{Bb as s,Cb as p,Db as d,L as C,Nb as u,Pb as A,Vb as y,Zb as _,ac as N,cb as m,da as P,db as l,kb as O,la as c,ma as I,nb as a}from"./chunk-7AORQD44.js";var Ee=(()=>{let t=class t extends ae{constructor(o,i,e){super(i),this.fb=o,this.dialog=i,this.data=e,this.form=o.group({testTypeIds:[e.testTypeIds],laboratoryIds:[e.laboratoryIds],personIds:[e.personIds],startDate:[e.startDate],endDate:[e.endDate]});}submit(){this.IsValid()&&this.dialog?.close(this.form.value);}};t.ɵfac=function(i){return new(i||t)(l(Y),l(Z),l(ee));},t.ɵcmp=c({type:t,selectors:[["medisy-laboratory-analyses-filter"]],standalone:!0,features:[_([]),O,N],decls:16,vars:9,consts:()=>{let o;o="\u0627\u0644\u062A\u0627\u0631\u064A\u062E";let i;i="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629";let e;return e="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0647\u0627\u064A\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testTypeIds"],["formControlName","laboratoryIds",3,"multiple"],["formControlName","personIds",3,"multiple"],[1,"tw-flex-1"],o,["startView","year",3,"rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder",i,"formControlName","startDate"],["matEndDate","","placeholder",e,"formControlName","endDate"],["matSuffix","",3,"for"],["datePicker",""],[3,"actions"]];},template:function(i,e){if(i&1&&(d(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),d(3,"medisy-form-field-test-type-search",2)(4,"medisy-form-field-laboratory",3)(5,"medisy-form-field-person-search",4),s(6,"mat-form-field",5)(7,"mat-label"),u(8,6),p(),s(9,"mat-date-range-input",7),d(10,"input",8)(11,"input",9),p(),d(12,"mat-datepicker-toggle",10)(13,"mat-date-range-picker",null,11),p()()(),d(15,"sz-ui-dialog-actions",12)),i&2){let n=y(14);a("header",e.header),m(2),a("formGroup",e.form),m(2),a("multiple",!0),m(1),a("multiple",!0),m(4),a("rangePicker",n)("comparisonStart",e.form.controls.startDate.value)("comparisonEnd",e.form.controls.endDate.value),m(3),a("for",n),m(3),a("actions",e.actions);}},dependencies:[z,F,R,h,L,b,v,f,oe,V,X,w,U,g,ne,me,fe,_e,Se,W,q,K,x,J,Q],encapsulation:2});let r=t;return r;})();var ge=(()=>{let t=class t{constructor(o,i,e){this.dialog=o,this.mlabService=i,this.route=e,this.title=M.analyses,this.dataSource=new de("-createdAt"),this.dataSource.addRows([se.default([le.hyperlink("code",M.code,n=>n.id).makeCompact(),D.createdAt(),D.menu([T.divider(),T.default(M.report,"report",()=>{})])])]),this.dataSource.updateFilter(this.route.snapshot.queryParams),this.get();}openFilterComponent(){this.dialog.open(Ee,{data:this.dataSource.filter}).afterClosed().pipe(C(1)).subscribe(o=>{o&&(this.dataSource.updateFilter(o),this.get());});}get(){this.mlabService.analyses.get(this.dataSource.buildRequest()).pipe(re(this.dataSource.indicator),C(1)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};t.ɵfac=function(i){return new(i||t)(l(te),l(S),l($));},t.ɵcmp=c({type:t,selectors:[["medisy-laboratory-analyses"]],features:[_([])],decls:6,vars:4,consts:()=>{let o;return o="\u0625\u0636\u0627\u0641\u0629",[[3,"title"],[3,"filter","search","filterClicked"],["title","","mat-flat-button","","routerLink","create","color","primary","start",""],o,[3,"stateEnabled","dataSource","update"]];},template:function(i,e){i&1&&(d(0,"sz-ui-header-info",0),s(1,"sz-ui-table-filter",1),A("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),s(2,"button",2)(3,"span"),u(4,3),p()()(),s(5,"sz-ui-table",4),A("update",function(){return e.get();}),p()),i&2&&(a("title",e.title),m(1),a("filter",e.dataSource.filter),m(4),a("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[k,ce,pe,E,B],styles:[".column-status[_ngcontent-%COMP%], .mat-column-detail-status[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]:not(mat-header-cell){max-width:4px;margin-left:24px}.mat-column-status[_ngcontent-%COMP%]:not(mat-header-cell){background-color:#13a311}.mat-column-detail-status[_ngcontent-%COMP%]{background-color:#13a311}.mat-cell[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{padding-left:0}"]});let r=t;return r;})();var Ce=[{path:"",component:ge},{path:"create",loadComponent:()=>import("./chunk-B7ORTUZ5.js").then(r=>r.CreateComponent)}];var _t=(()=>{let t=class t{};t.ɵfac=function(i){return new(i||t)();},t.ɵmod=I({type:t}),t.ɵinj=P({providers:[S],imports:[G.forChild(Ce),f,ue,g,E,ie,H,j]});let r=t;return r;})();export{_t as AnalysesModule};/**i18n:ca0c0aaef853f716736db0c306cb0b403cbd4c4309f5c41e82b4683f77b810d2*/