import{a as D,b as Se}from"./chunk-CQW5WDGD.js";import{a as se}from"./chunk-6GISPG6H.js";import{a as fe}from"./chunk-ISYIHSBV.js";import{a as ce,c as de,e as _e,f as ue,g as Ce}from"./chunk-K2XOOBCU.js";import{a as me}from"./chunk-R4S6SLRU.js";import{a as pe}from"./chunk-OBKQZSX2.js";import{a as k,b as G,g as j,h as U,i as Q,j as Y,k as Z,l as ee,m as te,n as re,p as le,y as ae}from"./chunk-3D6BRKHU.js";import{Aa as ne,Q as W,R as J,b as q,e as T,f as O,l as E,t as y,ya as ie,za as oe}from"./chunk-CN6PMKF6.js";import{Ba as H,Ia as X,Ja as K,ya as B}from"./chunk-NQOK3G2M.js";import{Ab as d,Cb as A,Db as z,Eb as N,Fb as m,Gb as a,Hb as _,Lb as R,M as $,Rb as b,Tb as h,Vb as p,a as L,b as w,dc as M,ec as u,fc as V,gb as l,gc as x,hb as c,hc as F,kc as g,oa as C,ob as f,rb as S,ta as P,ua as I,vb as s}from"./chunk-XEAZENSO.js";function ge(t,n){if(t&1){let r=R();m(0,"mat-chip-row",7),h("removed",function(){let i=P(r).$implicit,v=p(2);return I(v.removeSelection(i));}),u(1),m(2,"button",8)(3,"mat-icon"),u(4,"cancel"),a()()();}if(t&2){let r=n.$implicit,e=p(2);l(),x(" ",e.getSelectionFormat(r)," ");}}function Te(t,n){if(t&1){let r=R();m(0,"mat-chip-grid",null,4),z(2,ge,5,1,"mat-chip-row",null,A),a(),m(4,"input",5,6),h("matChipInputTokenEnd",function(){P(r);let o=p();return I(o.addSelection());}),a();}if(t&2){let r=M(1),e=p(),o=M(7);l(2),N(e.selections),l(2),s("matAutocomplete",o)("formControl",e.control)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes);}}function Oe(t,n){if(t&1&&_(0,"input",9,6),t&2){let r=p(),e=M(7);s("matAutocomplete",e)("formControl",r.control);}}function Ee(t,n){if(t&1&&(m(0,"mat-option",10),u(1),a()),t&2){let r=n.$implicit,e=p();s("value",e.getOptionValue(r)),l(),x(" ",e.getOptionContent(r)," ");}}function ye(t,n){t&1&&(m(0,"mat-error"),b(1,11),a());}function ve(t,n){t&1&&(m(0,"mat-error"),b(1,12),a());}function Pe(t,n){t&1&&_(0,"mat-progress-bar",3);}var et=(()=>{let n=class n extends le{constructor(e,o){super(e),this.ngControl=e,this.mpplService=o,this.label=pe.title,this.query=null,this.orderBy=["name"],this.szOptionFormatFn=i=>i?i.name:"";}ngOnInit(){this.control=this.ngControl.control,this.listenChanges();}ngOnDestroy(){this.subscriptions.unsubscribe();}listenChanges(){this.subscriptions.add(this.control.valueChanges.pipe(ne(400)).subscribe(e=>{this.handleValueChanged(e);}));}handleValueChanged(e){if(this.reset(),typeof e=="string")this.query=e;else if(typeof e=="object"&&e)return;this.get();}reset(){this.query=null,this.totalPages=-1,this.options=[];}get(){this.mpplService.titles.get(w(L({query:this.query},ie.unpaged()),{orderBy:this.orderBy})).pipe($(1),oe(this.indicator)).subscribe(e=>{this.options.push(...e.items),this.totalPages=e.totalPages;});}getOptionValue(e){return e;}};n.ɵfac=function(o){return new(o||n)(c(T,10),c(se));},n.ɵcmp=C({type:n,selectors:[["medisy-form-field-title-search"]],inputs:{query:"query",orderBy:"orderBy"},standalone:!0,features:[F([me]),f,g],decls:13,vars:7,consts:()=>{let e;e="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let o;return o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D",[[1,"container"],[3,"displayWith","szScrollIgnored","optionSelected","szScrolled"],["auto","matAutocomplete"],["mode","indeterminate"],["chipGrid",""],["matInput","",3,"matAutocomplete","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["input",""],[3,"removed"],["matChipRemove",""],["matInput","",3,"matAutocomplete","formControl"],[3,"value"],e,o];},template:function(o,i){o&1&&(m(0,"div",0)(1,"mat-form-field")(2,"mat-label"),u(3),a(),S(4,Te,6,4)(5,Oe,2,2),m(6,"mat-autocomplete",1,2),h("optionSelected",function(he){return i.optionSelected(he);})("szScrolled",function(){return i.scroll();}),z(8,Ee,2,2,"mat-option",10,A),a(),S(10,ye,2,0,"mat-error")(11,ve,2,0,"mat-error"),a(),S(12,Pe,1,0,"mat-progress-bar",3),a()),o&2&&(l(3),V(i.label),l(),d(4,i.multiple?4:5),l(2),s("displayWith",i.szOptionFormatFn)("szScrollIgnored",i.indicator()),l(2),N(i.options),l(2),d(10,i.control.hasError("required")?10:-1),l(),d(11,i.control.hasError("invalid")?11:-1),l(),d(12,i.indicator()?12:-1));},dependencies:[y,q,O,E,U,j,k,G,Z,Q,B,Y,J,W,te,ee,H,Ce,_e,ue,ce,de,K,X,fe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=n;return t;})();var at=(()=>{let n=class n extends re{constructor(e){super(e),this.ngControl=e,this.options=Object.keys(D).map(o=>D[o]),this.label="\u0627\u0644\u062C\u0646\u0633",this.optionContent=o=>Se(o);}ngOnInit(){this.control=this.ngControl.control;}};n.ɵfac=function(o){return new(o||n)(c(T,10));},n.ɵcmp=C({type:n,selectors:[["medisy-form-field-sex"]],standalone:!0,features:[F([]),f,g],decls:1,vars:7,consts:[[3,"formControl","options","label","placeholder","emptyOption","multiple","szOptionContentFn"]],template:function(o,i){o&1&&_(0,"sz-ui-form-field-select",0),o&2&&s("formControl",i.control)("options",i.options)("label",i.label)("placeholder",i.placeholder)("emptyOption",i.emptyOption)("multiple",i.multiple)("szOptionContentFn",i.optionContent);},dependencies:[y,O,E,ae],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=n;return t;})();export{et as a,at as b};/**i18n:f1993a9d8de25a460a4edd4e25b48862b3dd863aec93a795c43b451741326090*/