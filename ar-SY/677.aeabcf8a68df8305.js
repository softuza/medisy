"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[677],{677:(C,i,t)=>{t.r(i),t.d(i,{AnalysisModule:()=>L});var n=t(6814),r=t(2296),s=t(7700),d=t(6385),y=t(617),c=t(7988),v=t(8109),A=t(758),E=t(8308),a=t(5041),P=t(157),e=t(5879),o=t(9060),f=t(6883),M=t(2393),m=t(3572),h=t(9598),z=t(8180),O=t(2516),g=t(6128),S=t(5807);function D(l,R){1&l&&e._UZ(0,"sz-ui-card",6),2&l&&e.Q6J("card",R.$implicit)}const $=[{path:"",component:(()=>{class l{constructor(u,p,T,W,I,N){this.dialog=u,this.route=p,this.router=T,this.mlabService=W,this.mpplService=I,this.personNamePipe=N,this.alert$=(0,e.tdS)(void 0),this.testsDataSource=new m.b2(h.J.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=P.Bw.more([P.NT.edit(()=>this.openEditComponent),P.NT.print(()=>this.openEditComponent)]),this.analysis=this.route.snapshot.data.analysis,this.getPerson(),this.buildTiles()}buildTiles(){const u={icon:"science",subtitle:"\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",type:E.kD.Counter,clickFn:()=>this.router.navigate(["tests"],{relativeTo:this.route})},p={icon:"label",subtitle:"\u0627\u0644\u0639\u064A\u0646\u0627\u062A",type:E.kD.Counter,clickFn:()=>this.router.navigate(["specimens"],{relativeTo:this.route})};this.mlabService.analyses.tests.count(this.analysis.id,h.J.count()).subscribe(T=>{u.title=T}),this.mlabService.analyses.specimens.count(this.analysis.id,h.J.count()).subscribe(T=>{p.title=T}),this.tiles.push(u),this.tiles.push(p)}getPerson(){this.analysis.personId&&this.mpplService.persons.getById(this.analysis.personId).pipe((0,z.q)(1)).subscribe(u=>{this.tiles.splice(0,0,{icon:"person",type:E.kD.Text,subtitle:"\u0627\u0644\u0645\u0631\u064A\u0636",title:this.personNamePipe.transform(u),clickFn:()=>this.router.navigate([`mppl/persons/${u.id}`])})})}openEditComponent(){}static#e=this.\u0275fac=function(p){return new(p||l)(e.Y36(s.uw),e.Y36(v.gz),e.Y36(v.F0),e.Y36(f.t),e.Y36(M.i),e.Y36(o.Y))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-laboratory-analysis"]],features:[e._Bn([f.t,M.i,o.Y])],decls:9,vars:4,consts:[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]],template:function(p,T){1&p&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e._uU(3),e.qZA(),e.TgZ(4,"span",2),e._uU(5),e.qZA()(),e._UZ(6,"sz-ui-menu",3),e.qZA(),e.TgZ(7,"div",4),e.YNc(8,D,1,1,"sz-ui-card",5),e.qZA()),2&p&&(e.xp6(3),e.Oqu(T.analysis.code),e.xp6(2),e.Oqu(T.analysis.note),e.xp6(1),e.Q6J("menu",T.analysisMenu),e.xp6(2),e.Q6J("ngForOf",T.tiles))},dependencies:[n.sg,O.z,g.X,S.i],encapsulation:2})}return l})()},{path:"tests",loadComponent:()=>Promise.resolve().then(t.bind(t,1947)).then(l=>l.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>t.e(380).then(t.bind(t,2380)).then(l=>l.AnalysisSpecimensComponent)}];var B=t(1947);let L=(()=>{class l{static#e=this.\u0275fac=function(p){return new(p||l)};static#t=this.\u0275mod=e.oAB({type:l});static#s=this.\u0275inj=e.cJS({providers:[f.t],imports:[n.ez,v.Bz.forChild($),s.Is,A.E3,c.Tx,y.Ps,r.ot,d.t,a.n,E.VH,P.iz,B.AnalysisTestsComponent]})}return l})()},1947:(C,i,t)=>{t.r(i),t.d(i,{AnalysisTestsComponent:()=>o});var n=t(8109),r=t(8262),s=t(7076),d=t(6883),y=t(5041),c=t(3572),v=t(9598),A=t(8721),E=t(8180),a=t(5879),P=t(8359),e=t(2516);let o=(()=>{class f{constructor(m,h,z){this.route=m,this.mlabService=h,this.typeI18nPipe=z,this.dataSource=new c.b2(v.J.pagedSorted("test.testClass")),this.analysis=this.route.snapshot.data.analysis,this.dataSource.columns=[c.UC.text("test.testclass","\u0635\u0646\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",O=>O.test.testClass.name),c.UC.text("test.state","\u0627\u0644\u062D\u0627\u0644\u0629",O=>z.transform(O.test.state)),r.h.menu([])],this.get()}get(){this.mlabService.analyses.tests.get(this.analysis.id,this.dataSource.filterModel).pipe((0,A.sU)(this.dataSource.indicator)).pipe((0,E.q)(1)).subscribe(m=>{this.dataSource.set(m.items,m.count)})}static#e=this.\u0275fac=function(h){return new(h||f)(a.Y36(n.gz),a.Y36(d.t),a.Y36(s.y))};static#t=this.\u0275cmp=a.Xpm({type:f,selectors:[["medisy-laboratory-analysis-tests"]],standalone:!0,features:[a._Bn([d.t,s.y]),a.jDz],decls:7,vars:4,consts:function(){let m;return m="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",[["start",""],[1,"sz-h5"],m,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(h,z){1&h&&(a.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),a.SDv(3,2),a.qZA(),a.TgZ(4,"a",3),a._uU(5),a.qZA()()(),a.TgZ(6,"sz-ui-table",4),a.NdJ("update",function(){return z.get()}),a.qZA()),2&h&&(a.xp6(5),a.Oqu(z.analysis.code),a.xp6(1),a.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",z.dataSource))},dependencies:[n.Bz,n.rH,c.Vn,P.K,y.n,e.z],encapsulation:2})}return f})()},7076:(C,i,t)=>{t.d(i,{y:()=>E});var n=t(3712),r=t(1101),s=t(7263),d=function(a){return a.Validated="Validated",a.Returned="Returned",a.Forwarded="Forwarded",a.Destroyed="Destroyed",a.Collected="Collected",a.Accepted="Accepted",a.Created="Created",a}(d||{}),y=function(a){return a.Created="Created",a.Pending="Pending",a.Started="Started",a.Finished="Finished",a}(y||{}),c=t(1646),v=t(9155),A=t(5879);let E=(()=>{class a{transform(e,o=!1){return e in s.v?this.transformComparisonOperator(e,o):e in y?this.transformTestState(e):e in d?this.transformSpecimenState(e):e in n.V?this.transformEmailType(e):e in r.z?this.transformPhoneType(e):e in v.m?this.transformSex(e):e in c.n?this.transformDocumentType(e):""}transformComparisonOperator(e,o){switch(e){case s.v.Equal:return o?"==":"\u062A\u0633\u0627\u0648\u064A";case s.v.GreaterThan:return o?">":"\u0627\u0643\u0628\u0631 \u0645\u0646";case s.v.GreaterThanOrEqual:return o?">=":"\u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0648 \u064A\u0633\u0627\u0648\u064A";case s.v.LessThan:return o?"<":"\u0623\u0635\u063A\u0631 \u0645\u0646";case s.v.LessThanOrEqual:return o?"<=":"\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0648 \u064A\u0633\u0627\u0648\u064A";case s.v.RangeWithBoundaries:return o?"<==>":"\u0645\u062C\u0627\u0644 \u0645\u0639 \u0627\u0644\u062D\u062F\u0648\u062F";case s.v.RangeWithoutBoundaries:return o?"<>":"\u0645\u062C\u0627\u0644 \u0628\u062F\u0648\u0646 \u0627\u0644\u062D\u062F\u0648\u062F";case s.v.Not:return o?"!=":"\u0644\u064A\u0633 \u0641\u064A";default:return""}}transformTestState(e){switch(e){case y.Created:return "\u0645\u0646\u0634\u0623\u0629";case y.Started:return "\u0628\u062F\u0623";case y.Finished:return "\u0627\u0646\u062A\u0647\u062A";case y.Pending:return "\u0642\u064A\u062F \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631";default:return""}}transformSpecimenState(e){switch(e){case d.Accepted:return "\u062A\u0645 \u0627\u0644\u0642\u0628\u0648\u0644";case d.Collected:return "\u062A\u0645 \u0627\u0644\u062C\u0645\u0639";case d.Destroyed:return "\u062A\u0645 \u0627\u0644\u0627\u062A\u0644\u0627\u0641";case d.Forwarded:return "\u062A\u0645 \u0627\u0644\u062A\u062D\u0648\u064A\u0644";case d.Validated:return "\u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642";case d.Created:return "\u0645\u0646\u0634\u0623\u0629";default:return""}}transformEmailType(e){switch(e){case n.V.Private:return "\u062E\u0627\u0635";case n.V.Public:return "\u0639\u0627\u0645";case n.V.Work:return "\u0627\u0644\u0639\u0645\u0644";default:return""}}transformPhoneType(e){switch(e){case r.z.Home:return "\u0627\u0644\u0645\u0646\u0632\u0644";case r.z.Mobile:return "\u0627\u0644\u062C\u0648\u0627\u0644";case r.z.Work:return "\u0627\u0644\u0639\u0645\u0644";default:return""}}transformSex(e){switch(e){case v.m.Female:return "\u0627\u0646\u062B\u0649";case v.m.Male:return "\u0630\u0643\u0631";default:return""}}transformDocumentType(e){switch(e){case c.n.BankCard:return "\u0628\u0637\u0627\u0642\u0629 \u0645\u0635\u0631\u0641";case c.n.DriverLicense:return "\u0631\u062E\u0635\u0629 \u0642\u064A\u0627\u062F\u0629";case c.n.NationalCard:return "\u0628\u0637\u0627\u0642\u0629 \u0648\u0637\u0646\u064A\u0629";case c.n.Passport:return "\u062C\u0648\u0627\u0632 \u0633\u0641\u0631";case c.n.TravelDocument:return "\u0648\u062B\u064A\u0642\u0629 \u0633\u0641\u0631";case c.n.Other:return "\u0623\u062E\u0631\u0649";default:return""}}static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275pipe=A.Yjl({name:"typeI18n",type:a,pure:!0,standalone:!0})}return a})()},3712:(C,i,t)=>{t.d(i,{V:()=>n});var n=function(s){return s.Private="Private",s.Public="Public",s.Work="Work",s}(n||{});Object.keys(n).map(s=>n[s])},1101:(C,i,t)=>{t.d(i,{z:()=>n});var n=function(s){return s.Home="Home",s.Mobile="Mobile",s.Work="Work",s}(n||{});Object.keys(n).map(s=>n[s])},7263:(C,i,t)=>{t.d(i,{v:()=>n});var n=function(r){return r.Equal="Equal",r.GreaterThan="GreaterThan",r.GreaterThanOrEqual="GreaterThanOrEqual",r.LessThan="LessThan",r.LessThanOrEqual="LessThanOrEqual",r.Not="Not",r.RangeWithBoundaries="RangeWithBoundaries",r.RangeWithoutBoundaries="RangeWithoutBoundaries",r}(n||{})},1646:(C,i,t)=>{t.d(i,{n:()=>n});var n=function(s){return s.NationalCard="NationalCard",s.BankCard="BankCard",s.DriverLicense="DriverLicense",s.Passport="Passport",s.TravelDocument="TravelDocument",s.Other="Other",s}(n||{});Object.keys(n).map(s=>n[s])},9155:(C,i,t)=>{t.d(i,{m:()=>n});var n=function(s){return s.Male="Male",s.Female="Female",s}(n||{});Object.keys(n).map(s=>n[s])}}]);