import{a as _e,b as ue,c as fe}from"./chunk-6SVCME4N.js";import{a as x,b as me}from"./chunk-B6YRJ72V.js";import{a as q,b as J,c as K,d as Q,e as V,f as W,g as Z,h as ee}from"./chunk-ZC5VE3PD.js";import{a as Se}from"./chunk-OSWFCES7.js";import{a as c}from"./chunk-53VWZ5ER.js";import{a as f}from"./chunk-PCAOWVUV.js";import{d as se,g as ae}from"./chunk-U5WHS54P.js";import{a as ne,b as re}from"./chunk-USWRGYS2.js";import{a as g}from"./chunk-JH5QV5WE.js";import{a as R}from"./chunk-DJIRYWN3.js";import{f as O}from"./chunk-A4RP7L5Q.js";import"./chunk-SIM3MWAY.js";import"./chunk-FTDLVGCO.js";import{b as le,d as de}from"./chunk-BZORJMZ5.js";import{a as T,b as z,c as ce}from"./chunk-V4HCCL3Z.js";import"./chunk-A4OPY5TW.js";import{b as pe}from"./chunk-37GZDSHT.js";import"./chunk-FJNI2GB6.js";import{t as k,v as h}from"./chunk-FEFUQJM2.js";import{a as d}from"./chunk-ESAZXDOZ.js";import"./chunk-UPQBKJGY.js";import{a as v}from"./chunk-NW5OYJVI.js";import{a as N}from"./chunk-CVLFG5YI.js";import{D as U,F as X,H as w,Pa as te,Qa as ie,Ta as oe,l as H}from"./chunk-RQMADBIK.js";import{Ab as p,Kb as Y,L as B,Ob as C,Tb as l,Ub as u,Vb as $,Wb as I,Zb as G,_a as y,bc as P,cb as a,cc as E,da as j,db as m,la as A,ma as F,nb as L,tb as M,ub as _,yb as s,zb as r}from"./chunk-3PI2VV3G.js";function ve(e,i){if(e&1&&(s(0,"p"),l(1),P(2,"personName"),r()),e&2){let S=C();a(1),$("",E(2,1,S.person==null?null:S.person.father)," ");}}function Ne(e,i){if(e&1&&(s(0,"p"),l(1),P(2,"personName"),r()),e&2){let S=C();a(1),$("",E(2,1,S.person==null?null:S.person.mother)," ");}}function Te(e,i){e&1&&(s(0,"mat-card-footer"),p(1,"mat-progress-bar",4),r());}var D=(()=>{let i=class i{set personId(n){this._personId=n,this.getPerson(n);}constructor(n,t,o,b){this.mlabService=n,this.mpplService=t,this.typeI18nPipe=o,this.personNamePipe=b,this.indicator=y(!1);}getPerson(n){this.mpplService.persons.getById(n).pipe(B(1),pe(this.indicator)).subscribe(t=>{this.person=t;});}};i.ɵfac=function(t){return new(t||i)(m(d),m(f),m(O),m(c));},i.ɵcmp=A({type:i,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[I([O]),G],decls:18,vars:9,consts:()=>{let n;n="\u0627\u0644\u0645\u0631\u064A\u0636";let t;return t="More",[[1,"example-card"],n,["mat-button",""],t,["mode","indeterminate"]];},template:function(t,o){t&1&&(s(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),Y(3,1),r(),s(4,"mat-card-title"),l(5),P(6,"personName"),r()(),s(7,"mat-card-content")(8,"p"),l(9),P(10,"personAge"),r(),M(11,ve,3,3,"p")(12,Ne,3,3,"p"),p(13,"mat-divider"),r(),s(14,"mat-card-actions")(15,"button",2),Y(16,3),r()(),M(17,Te,2,0,"mat-card-footer"),r()),t&2&&(a(5),u(E(6,5,o.person)),a(4),u(E(10,7,o.person==null?null:o.person.birthDate)),a(2),_(11,o.person!=null&&o.person.father?11:-1),a(1),_(12,o.person!=null&&o.person.mother?12:-1),a(5),_(17,o.indicator()?17:-1));},dependencies:[ee,q,V,K,Z,W,Q,J,re,ne,ie,te,h,k,c,Se],encapsulation:2});let e=i;return e;})();function ge(e,i){if(e&1&&p(0,"medisy-people-persons-common-person-card",5),e&2){let S=C();L("personId",S.analysis.personId);}}var Ce=(()=>{let i=class i{constructor(n,t,o,b,Ee,Ae){this.dialog=n,this.route=t,this.router=o,this.mlabService=b,this.mpplService=Ee,this.personNamePipe=Ae,this.alert$=y(void 0),this.testsDataSource=new le(v.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=ce.more([z.edit(()=>this.openEditComponent),z.print(()=>this.openEditComponent)]),this.analysis=this.route.snapshot.data.analysis,this.buildTiles();}buildTiles(){let n={icon:"science",subtitle:"\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",type:x.Counter,clickFn:()=>this.router.navigate(["tests"],{relativeTo:this.route})},t={icon:"label",subtitle:"\u0627\u0644\u0639\u064A\u0646\u0627\u062A",type:x.Counter,clickFn:()=>this.router.navigate(["specimens"],{relativeTo:this.route})};this.mlabService.analyses.tests.count(this.analysis.id,v.count()).subscribe(o=>{n.title=o;}),this.mlabService.analyses.specimens.count(this.analysis.id,v.count()).subscribe(o=>{t.title=o;}),this.tiles.push(n),this.tiles.push(t);}openEditComponent(){}};i.ɵfac=function(t){return new(t||i)(m(se),m(U),m(X),m(d),m(f),m(c));},i.ɵcmp=A({type:i,selectors:[["medisy-laboratory-analysis"]],features:[I([d,f,c])],decls:15,vars:4,consts:()=>{let n;n="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let t;return t="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card","tw-my-4"],[3,"personId"],["mat-stretch-tabs","false"],["label",n],["label",t]];},template:function(t,o){t&1&&(s(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),l(3),r(),s(4,"span",2),l(5),r()(),p(6,"sz-ui-menu",3),r(),s(7,"div",4),M(8,ge,1,1,"medisy-people-persons-common-person-card",5),r(),s(9,"div")(10,"mat-tab-group",6)(11,"mat-tab",7),p(12,"medisy-laboratory-analysis-tests"),r(),s(13,"mat-tab",8),p(14,"medisy-laboratory-analysis-specimens"),r()()()),t&2&&(a(3),u(o.analysis.code),a(2),u(o.analysis.note),a(1),L("menu",o.analysisMenu),a(2),_(8,o.analysis.personId?8:-1));},dependencies:[_e,ue,N,T,g,R,D],encapsulation:2});let e=i;return e;})();var Pe=[{path:"",component:Ce},{path:"tests",loadComponent:()=>import("./chunk-M5SJRLBR.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-V43BLQWT.js").then(e=>e.AnalysisSpecimensComponent)}];var $t=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=F({type:i}),i.ɵinj=j({providers:[d],imports:[H,w.forChild(Pe),ae,oe,h,de,fe,N,me,T,g,R,D]});let e=i;return e;})();export{$t as AnalysisModule};/**i18n:c47ea6c8e33fa0c222c20e616e96e45afbcc3267e1e4f83fbed9283c01f003ba*/