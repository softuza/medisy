"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[410],{3410:(Ye,Z,a)=>{a.r(Z),a.d(Z,{PersonModule:()=>Re});var Y=a(6814),i=a(6223),N=a(2296),V=a(5195),z=a(5986),F=a(3680),l=a(7700),U=a(6385),M=a(9157),b=a(617),J=a(2032),L=a(7988),x=a(1476),q=a(8525),Q=a(3566),H=a(5313),P=a(8109),B=a(6981),K=a(465),W=a(724),p=a(5348),j=a(4407),w=a(2595),k=a(2169),E=a(3524),ee=a(807),oe=a(5041),te=a(8766),S=a(3572),m=a(2191),h=a(9598),A=a(2119),u=a(8180),e=a(5879),O=a(4622),f=a(6091),C=a(5974),$=a(8873);let ne=(()=>{class n extends E.Ku{constructor(o,t,r,_){super(r),this.personService=o,this.fb=t,this.dialog=r,this.data=_,this.form=t.group({value:[_?.personAddress?.value,[i.kI.required]],description:[_?.personAddress?.description,[]],isPrimary:[_?.personAddress?.isPrimary??!1,[i.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personAddress?this.personService.updatePersonAddress(this.data.personId,this.data.personAddress.id,this.form.value):this.personService.createPersonAddress(this.data.personId,this.form.value))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.R),e.Y36(i.qu),e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-addresses-save"]],features:[e._Bn([]),e.qOj],decls:8,vars:3,consts:function(){let s,o,t;return s="\u0627\u0644\u0639\u0646\u0648\u0627\u0646",o="\u0627\u0644\u0648\u0635\u0641",t="\u0623\u0633\u0627\u0633\u064A",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","value","label",s],["formControlName","description","label",o],["formControlName","isPrimary"],t,[3,"actions"]]},template:function(o,t){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),e.TgZ(5,"mat-checkbox",4),e.SDv(6,5),e.qZA()()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&o&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("actions",t.actions))},dependencies:[i._Y,i.JJ,i.JL,i.sg,i.u,O.Y,f.t,C.g,$.J,z.oG,l.xY],encapsulation:2}),n})();var D=a(9692),I=a(9288),T=a(2516),g=a(9060);let se=(()=>{class n{constructor(o,t,r){this.dialog=o,this.personService=t,this.route=r,this.dataSource=new S.b2(h.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[S.UC.text("value","\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),m.h.createdAt(),m.h.menu([S.od.edit(_=>this.openSaveComponent(_)),S.od.delete(_=>this.openPersonAddressDeleteComponent(_))])],this.get()}openSaveComponent(o){this.dialog.open(ne,{data:{personId:this.person.id,personAddress:o}}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openPersonAddressDeleteComponent(o){this.dialog.open(E.fN,{data:E.cb.delete(this.personService.deletePersonAddress(o.personId,o.id),o)}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}get(){this.personService.getPersonAddresses(this.person.id,this.dataSource.filterModel).pipe((0,A.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.uw),e.Y36(p.R),e.Y36(P.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-addresses"]],decls:12,vars:7,consts:function(){let s,o;return s="\u0627\u0644\u0639\u0646\u0627\u0648\u064A\u0646",o="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,t){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return t.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return t.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,t.person)),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[P.rH,D.K,I.f,T.z,N.lW,g.Y],encapsulation:2}),n})();var d=(()=>((d=d||{}).NationalCard="NationalCard",d.BankCard="BankCard",d.DriverLicense="DriverLicense",d.Passport="Passport",d.TravelDocument="TravelDocument",d.Other="Other",d))();let R=(()=>{class n{transform(o){switch(o){case d.BankCard:return "\u0628\u0637\u0627\u0642\u0629 \u0645\u0635\u0631\u0641";case d.DriverLicense:return "\u0631\u062E\u0635\u0629 \u0642\u064A\u0627\u062F\u0629";case d.NationalCard:return "\u0628\u0637\u0627\u0642\u0629 \u0648\u0637\u0646\u064A\u0629";case d.Passport:return "\u062C\u0648\u0627\u0632 \u0633\u0641\u0631";case d.TravelDocument:return "\u0648\u062B\u064A\u0642\u0629 \u0633\u0641\u0631";case d.Other:return "\u0623\u062E\u0631\u0649";default:return""}}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=e.Yjl({name:"documentTypeI18n",type:n,pure:!0}),n})();var re=a(6893),ie=a(8930);let ae=(()=>{class n extends re.m{constructor(o,t){super(o),this.ngControl=o,this.documentTypeI18nPipe=t,this.items=Object.keys(d).map(r=>d[r]),this.label="\u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",this.contentFormat=r=>this.documentTypeI18nPipe.transform(r)}ngOnInit(){this.control=this.ngControl.control}writeValue(o){this.value=o}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(i.a5,10),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-form-field-document-type"]],features:[e._Bn([R]),e.qOj],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(o,t){1&o&&e._UZ(0,"sz-ui-form-field-select",0),2&o&&e.Q6J("formControl",t.control)("items",t.items)("label",t.label)("placeholder",t.placeholder)("emptyOption",t.emptyOption)("multiple",t.multiple)("contentFn",t.contentFormat)},dependencies:[i.JJ,i.oH,ie.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})(),_e=(()=>{class n extends E.Ku{constructor(o,t,r,_){super(r),this.personService=o,this.fb=t,this.dialog=r,this.data=_,this.form=t.group({referenceNumber:[_.personDocument?.referenceNumber,[i.kI.maxLength(128)]],documentType:[_.personDocument?.documentType??d.DriverLicense,[i.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personDocument?this.personService.updatePersonDocument(this.data.personId,this.data.personDocument.id,this.form.value):this.personService.createPersonDocument(this.data.personId,this.form.value))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.R),e.Y36(i.qu),e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-documents-save"]],features:[e._Bn([]),e.qOj],decls:6,vars:3,consts:function(){let s;return s="\u0627\u0644\u0631\u0642\u0645",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","referenceNumber","placeholder",s],["formControlName","documentType"],[3,"actions"]]},template:function(o,t){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-input",2)(4,"medisy-form-field-document-type",3),e.qZA()(),e._UZ(5,"sz-ui-dialog-actions",4)),2&o&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("actions",t.actions))},dependencies:[i._Y,i.JJ,i.JL,i.sg,i.u,O.Y,f.t,C.g,ae,l.xY],encapsulation:2}),n})(),le=(()=>{class n{constructor(o,t,r,_){this.dialog=o,this.personService=t,this.route=r,this.documentTypeI18nPipe=_,this.dataSource=new S.b2(h.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[S.UC.text("referenceNumber","\u0627\u0644\u0631\u0642\u0645"),m.h.documentType(c=>this.documentTypeI18nPipe.transform(c.documentType)),m.h.createdAt(),m.h.menu([S.od.edit(c=>this.openSaveComponent(c)),S.od.delete(c=>this.openPersonDocumentDeleteComponent(c))])],this.get()}openSaveComponent(o){this.dialog.open(_e,{data:{personId:this.person.id,personDocument:o}}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openPersonDocumentDeleteComponent(o){this.dialog.open(E.fN,{data:E.cb.delete(this.personService.deletePersonDocument(o.personId,o.id),o)}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}get(){this.personService.getPersonDocuments(this.person.id,this.dataSource.filterModel).pipe((0,A.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.uw),e.Y36(p.R),e.Y36(P.gz),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-documents"]],features:[e._Bn([R])],decls:12,vars:7,consts:function(){let s,o;return s="\u0627\u0644\u0648\u062B\u0627\u0626\u0642",o="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,t){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return t.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return t.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,t.person)),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[P.rH,D.K,I.f,T.z,N.lW,g.Y],encapsulation:2}),n})();var Se=a(2406);let de=(()=>{class n extends E.Ku{constructor(o,t,r,_){super(r),this.personService=o,this.fb=t,this.dialog=r,this.data=_,this.form=t.group({value:[_.personEmail?.value,[i.kI.required,i.kI.email]],emailType:[_.personEmail?.emailType,[i.kI.required]],description:[_.personEmail?.description,[]]})}submit(){this.IsValid()&&this.save(this.data.personEmail?this.personService.updatePersonEmail(this.data.personId,this.data.personEmail.id,this.form.value):this.personService.createPersonEmail(this.data.personId,this.form.value))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.R),e.Y36(i.qu),e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-emails-save"]],features:[e._Bn([]),e.qOj],decls:7,vars:3,consts:function(){let s,o;return s="\u0627\u0644\u0648\u0635\u0641",o="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","placeholder",s],["formControlName","value","placeholder",o],["formControlName","emailType"],[3,"actions"]]},template:function(o,t){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-email-type",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("actions",t.actions))},dependencies:[i._Y,i.JJ,i.JL,i.sg,i.u,O.Y,f.t,C.g,$.J,Se.N,l.xY],encapsulation:2}),n})(),Ee=(()=>{class n{constructor(o,t,r){this.dialog=o,this.personService=t,this.route=r,this.dataSource=new S.b2(h.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[S.UC.text("value","\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),m.h.createdAt(),m.h.menu([S.od.edit(_=>this.openSaveComponent(_)),S.od.delete(_=>this.openPersonEmailDeleteComponent(_))])],this.get()}openSaveComponent(o){this.dialog.open(de,{data:{personId:this.person.id,personEmail:o}}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openPersonEmailDeleteComponent(o){this.dialog.open(E.fN,{data:E.cb.delete(this.personService.deletePersonEmail(o.personId,o.id),o)}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}get(){this.personService.getPersonEmails(this.person.id,this.dataSource.filterModel).pipe((0,A.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.uw),e.Y36(p.R),e.Y36(P.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-emails"]],decls:12,vars:7,consts:function(){let s,o;return s="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",o="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,t){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return t.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return t.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,t.person)),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[P.rH,D.K,I.f,T.z,N.lW,g.Y],encapsulation:2}),n})();var X=a(851);let ue=(()=>{class n extends E.Ku{constructor(o,t,r,_){super(r),this.personService=o,this.fb=t,this.dialog=r,this.data=_,this.form=t.group({firstName:[_.personName?.firstName,[i.kI.required,i.kI.minLength(1)]],lastName:[_.personName?.lastName,[]],middleName:[_.personName?.middleName,[]],languageId:[_.personName?.languageId,[i.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personName?this.personService.updatePersonName(this.data.personId,this.data.personName.id,this.form.value):this.personService.createPersonName(this.data.personId,this.form.value))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.R),e.Y36(i.qu),e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-names-save"]],features:[e._Bn([]),e.qOj],decls:9,vars:3,consts:function(){let s,o,t;return s="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644",o="\u0627\u0644\u0643\u0646\u064A\u0629",t="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0633\u0637",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],["formControlName","firstName","label",s],["formControlName","lastName","label",o],["formControlName","middleName","label",t],["formControlName","languageId"],[3,"actions"]]},template:function(o,t){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),e._UZ(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),e.qZA(),e._UZ(6,"sz-ui-form-field-input",5)(7,"medisy-form-field-language",6),e.qZA()(),e._UZ(8,"sz-ui-dialog-actions",7)),2&o&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(6),e.Q6J("actions",t.actions))},dependencies:[i._Y,i.JJ,i.JL,i.sg,i.u,O.Y,f.t,C.g,X.d,l.xY],encapsulation:2}),n})(),Pe=(()=>{class n{constructor(o,t,r){this.dialog=o,this.personService=t,this.route=r,this.dataSource=new S.b2(h.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[S.UC.text("firstName","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644"),S.UC.text("middleName","\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0633\u0637"),S.UC.text("lastName","\u0627\u0644\u0643\u0646\u064A\u0629"),m.h.createdAt(),m.h.menu([S.od.edit(_=>this.openSaveComponent(_)),S.od.delete(_=>this.openPersonNameDeleteComponent(_))])],this.get()}openSaveComponent(o){this.dialog.open(ue,{data:{personId:this.person.id,personName:o}}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openPersonNameDeleteComponent(o){this.dialog.open(E.fN,{data:E.cb.delete(this.personService.deletePersonName(o.personId,o.id),o)}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}get(){this.personService.getPersonNames(this.person.id,this.dataSource.filterModel).pipe((0,A.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.uw),e.Y36(p.R),e.Y36(P.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-names"]],decls:12,vars:7,consts:function(){let s,o;return s="\u0627\u0644\u0627\u0633\u0645\u0627\u0621",o="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,t){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return t.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return t.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,t.person)),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[P.rH,D.K,I.f,T.z,N.lW,g.Y],encapsulation:2}),n})();var pe=a(1101),me=a(408);let ce=(()=>{class n extends E.Ku{constructor(o,t,r,_){super(r),this.personService=o,this.fb=t,this.dialog=r,this.data=_,this.form=t.group({value:[_?.personPhone?.value,[i.kI.required]],description:[_?.personPhone?.description,[]],phoneType:[_?.personPhone?.phoneType??pe.z.Mobile,[i.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personPhone?this.personService.updatePersonPhone(this.data.personId,this.data.personPhone.id,this.form.value):this.personService.createPersonPhone(this.data.personId,this.form.value))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.R),e.Y36(i.qu),e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-phones-save"]],features:[e._Bn([]),e.qOj],decls:7,vars:3,consts:function(){let s,o;return s="\u0627\u0644\u0648\u0635\u0641",o="\u0627\u0644\u0631\u0642\u0645",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","label",s],["formControlName","value","label",o],["formControlName","phoneType"],[3,"actions"]]},template:function(o,t){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-phone-type",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("actions",t.actions))},dependencies:[i._Y,i.JJ,i.JL,i.sg,i.u,O.Y,f.t,C.g,$.J,me.I,l.xY],encapsulation:2}),n})(),Ne=(()=>{class n{constructor(o,t,r){this.dialog=o,this.personService=t,this.route=r,this.dataSource=new S.b2(h.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[S.UC.text("value","\u0627\u0644\u0647\u0627\u062A\u0641"),m.h.createdAt(),m.h.menu([S.od.edit(_=>this.openSaveComponent(_)),S.od.delete(_=>this.openPersonPhoneDeleteComponent(_))])],this.get()}openSaveComponent(o){this.dialog.open(ce,{data:{personId:this.person.id,personPhone:o}}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openPersonPhoneDeleteComponent(o){this.dialog.open(E.fN,{data:E.cb.delete(this.personService.deletePersonPhone(o.personId,o.id),o)}).afterClosed().pipe((0,u.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}get(){this.personService.getPersonPhones(this.person.id,this.dataSource.filterModel).pipe((0,A.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.uw),e.Y36(p.R),e.Y36(P.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-phones"]],decls:12,vars:7,consts:function(){let s,o;return s="\u0627\u0644\u0647\u0648\u0627\u062A\u0641",o="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,t){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return t.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return t.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,t.person)),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[P.rH,D.K,I.f,T.z,N.lW,g.Y],encapsulation:2}),n})();var G=a(5738),Me=a(2757),y=a(8034);function Oe(n,s){if(1&n&&(e.TgZ(0,"mat-label"),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.label)}}function fe(n,s){1&n&&(e.TgZ(0,"mat-error"),e.SDv(1,5),e.qZA())}let Ce=(()=>{class n extends Me.l{constructor(o){super(o),this.ngControl=o}ngOnInit(){this.control=this.ngControl.control}writeValue(o){this.value=o}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(i.a5,10))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sz-ui-form-field-date"]],features:[e.qOj],decls:9,vars:5,consts:function(){let s;return s="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"matDatepicker","formControl"],["picker",""],["matSuffix","",3,"for"],s]},template:function(o,t){if(1&o&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,Oe,2,1,"mat-label",1),e._UZ(2,"input",2),e.TgZ(3,"mat-hint"),e._uU(4,"MM/DD/YYYY"),e.qZA(),e._UZ(5,"mat-datepicker",null,3)(7,"mat-datepicker-toggle",4),e.YNc(8,fe,2,0,"mat-error",1),e.qZA()),2&o){const r=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.label),e.xp6(1),e.Q6J("matDatepicker",r)("formControl",t.control),e.xp6(5),e.Q6J("for",r),e.xp6(1),e.Q6J("ngIf",t.control.hasError("required"))}},dependencies:[Y.O5,i.Fj,i.JJ,i.oH,M.KE,M.hX,M.bx,M.TO,M.R9,J.Nt,y.Mq,y.hl,y.nW],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})();var Te=a(5741),ge=a(7336),he=a(2160);let Ae=(()=>{class n extends E.Ku{constructor(o,t,r,_){super(r),this.personService=o,this.fb=t,this.dialog=r,this.data=_,this.form=t.group({sex:[_.sex,[i.kI.required]],languageId:[_.languageId,[i.kI.required]],title:[_.title,[]],ssn:[_.ssn,[]],nationalityId:[_.nationalityId,[]],birthDate:[_.birthDate,[]]})}submit(){this.IsValid()&&this.save(this.personService.updatePerson(this.data.id,this.form.value))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(p.R),e.Y36(i.qu),e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-people-person-save"]],features:[e._Bn([]),e.qOj],decls:12,vars:3,consts:function(){let s,o;return s="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A",o="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],["formControlName","nationalityId"],["formControlName","ssn","label",s],["formControlName","languageId"],["formControlName","sex"],["formControlName","title"],["formControlName","birthDate","label",o],[3,"actions"]]},template:function(o,t){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),e._UZ(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),e.qZA(),e._UZ(6,"medisy-form-field-language",5),e.TgZ(7,"div",2),e._UZ(8,"medisy-form-field-sex",6)(9,"medisy-form-field-title",7),e.qZA(),e._UZ(10,"sz-ui-form-field-date",8),e.qZA()(),e._UZ(11,"sz-ui-dialog-actions",9)),2&o&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(9),e.Q6J("actions",t.actions))},dependencies:[i._Y,i.JJ,i.JL,i.sg,i.u,O.Y,f.t,C.g,Ce,X.d,Te.t,ge.e,he.V,l.xY],encapsulation:2}),n})();var De=a(8145),Ie=a(2286);function ve(n,s){if(1&n&&(e.TgZ(0,"sz-ui-card",17),e._UZ(1,"sz-ui-counter",18),e.qZA()),2&n){const o=s.$implicit;e.Q6J("card",o),e.xp6(1),e.Q6J("value",null==o?null:o.counter)}}const Le=[{path:"",component:(()=>{class n{constructor(o,t,r,_){this.dialog=o,this.analysisService=t,this.route=r,this.router=_,this.items=[{counter:0,icon:"science",subtitle:"\u0627\u0644\u062A\u062D\u0627\u0644\u064A\u0644",loading:!0}],this.person=this.route.snapshot.data.person,this.getAnlysesCount()}getAnlysesCount(){this.analysisService.getAnalysesCount({personIds:[this.person.id]}).subscribe(o=>{this.items[0].counter=o.count,this.items[0].loading=!1})}openSaveComponent(){this.dialog.open(Ae,{data:this.person}).afterClosed().pipe((0,u.q)(1)).subscribe(t=>{t&&(this.person=t)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(l.uw),e.Y36(G.K),e.Y36(P.gz),e.Y36(P.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["medisy-peopel-person"]],features:[e._Bn([G.K])],decls:42,vars:5,consts:function(){let s,o,t,r,_,c;return s="\u062A\u0639\u062F\u064A\u0644",o="\u0627\u0644\u0627\u0633\u0645\u0627\u0621",t="\u0627\u0644\u0647\u0648\u0627\u062A\u0641",r="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",_="\u0627\u0644\u0639\u0646\u0627\u0648\u064A\u0646",c="\u0627\u0644\u0648\u062B\u0627\u0626\u0642",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],s,["mat-menu-item","","routerLink","names"],o,["mat-menu-item","","routerLink","phones"],t,["mat-menu-item","","routerLink","emails"],r,["mat-menu-item","","routerLink","addresses"],_,["mat-menu-item","","routerLink","documents"],c,[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],["title","",2,"font-size","24px",3,"value"]]},template:function(o,t){if(1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e._uU(2),e.ALo(3,"personName"),e.qZA(),e.TgZ(4,"button",1)(5,"mat-icon"),e._uU(6,"more_vert"),e.qZA()(),e.TgZ(7,"mat-menu",null,2)(9,"button",3),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(10,"mat-icon"),e._uU(11,"edit"),e.qZA(),e.TgZ(12,"span"),e.SDv(13,4),e.qZA()(),e._UZ(14,"mat-divider"),e.TgZ(15,"button",5)(16,"mat-icon"),e._uU(17,"info"),e.qZA(),e.TgZ(18,"span"),e.SDv(19,6),e.qZA()(),e.TgZ(20,"button",7)(21,"mat-icon"),e._uU(22,"phone"),e.qZA(),e.TgZ(23,"span"),e.SDv(24,8),e.qZA()(),e.TgZ(25,"button",9)(26,"mat-icon"),e._uU(27,"alternate_email"),e.qZA(),e.TgZ(28,"span"),e.SDv(29,10),e.qZA()(),e.TgZ(30,"button",11)(31,"mat-icon"),e._uU(32,"home"),e.qZA(),e.TgZ(33,"span"),e.SDv(34,12),e.qZA()(),e.TgZ(35,"button",13)(36,"mat-icon"),e._uU(37,"badge"),e.qZA(),e.TgZ(38,"span"),e.SDv(39,14),e.qZA()()()(),e.TgZ(40,"div",15),e.YNc(41,ve,2,2,"sz-ui-card",16),e.qZA()),2&o){const r=e.MAs(8);e.xp6(2),e.Oqu(e.lcZ(3,3,t.person)),e.xp6(2),e.Q6J("matMenuTriggerFor",r),e.xp6(37),e.Q6J("ngForOf",t.items)}},dependencies:[Y.sg,P.rH,b.Hw,L.VK,L.OP,L.p6,De.R,Ie.A,T.z,U.d,N.RK,g.Y],encapsulation:2}),n})()},{path:"names",component:Pe},{path:"phones",component:Ne},{path:"emails",component:Ee},{path:"documents",component:le},{path:"addresses",component:se}];let Re=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[p.R],imports:[Y.ez,i.u5,i.UX,P.Bz.forChild(Le),V.QW,b.Ps,L.Tx,k.c,w.V,S.Vn,te.h,j.E,E.su,ee.g,B.F,oe.n,H.p0,x.TU,Q.JX,U.t,z.p9,l.Is,F.Ng,M.lN,N.ot,q.LD,J.c,W.f,K.L]}),n})()}}]);