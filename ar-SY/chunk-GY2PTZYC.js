import{b as R}from"./chunk-SYMCIFNI.js";import{a,b as N,d as D,f as O,i as L,j as P}from"./chunk-TI3KPOR7.js";import{a as I}from"./chunk-Q2N4ZM5T.js";import{i as z,k as v}from"./chunk-OPST3HSR.js";import{g as T,j as d}from"./chunk-JHC5R5G3.js";import{d as h}from"./chunk-5MAY3I4F.js";import{c as E}from"./chunk-4GL34ATX.js";import{d as A}from"./chunk-OPRLBPJZ.js";import{a as C,e as M}from"./chunk-IWB7BCZA.js";import{a as b,c as g}from"./chunk-FBMLFETS.js";import{Bb as p,Lb as s,Mb as c,Xb as _,Yb as l,gb as S,hb as r,na as u,nc as f,oc as y}from"./chunk-75X3YXCS.js";var x=(()=>{let o=class o{set analysis(e){this._analysis=e,this.get();}get analysis(){return this._analysis;}constructor(e,i,n){this.route=e,this.dialog=i,this.mlabService=n,this.dataSource=new D(),this.dataSource.columnDefs.push(a.uuid("id"),a.icon("specimen.state").setValueGetter(t=>R(t.specimen.state)).setValueTooltip(t=>A(t.specimen.state)),a.number("specimen.code"),a.string("specimen.type.name"),a.date("createdAt",!1),a.date("updatedAt",!1),N.menu([d.delete(t=>this.openAnalysisSpecimenDeleteComponent(t)),T.divider(),d.print(t=>this.openAnalysisSpecimenPrintComponent(t))]));}openAnalysisSpecimenDeleteComponent(e){this.dialog.open(z,{data:v.delete(this.mlabService.analyses.specimens.delete(e.analysisId,e.id),e)}).afterClosed().subscribe(i=>{this.dataSource.delete(i);});}openAnalysisSpecimenPrintComponent(e){}openCreateComponent(){}get(){this.mlabService.analyses.specimens.get(this.analysis.id,this.dataSource.getQuery()).pipe(E(this.dataSource.indicator)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};o.ɵfac=function(i){return new(i||o)(r(C),r(h),r(I));},o.ɵcmp=u({type:o,selectors:[["sz-medisy-laboratory-analysis-specimens"]],inputs:{analysis:"analysis"},standalone:!0,features:[f([]),y],decls:5,vars:3,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[[3,"dataSource","changed"],["mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(i,n){i&1&&(s(0,"sz-ui-table-search-filter",0),l("changed",function(){return n.get();}),s(1,"button",1),l("click",function(){return n.openCreateComponent();}),s(2,"span"),_(3,2),c()()(),s(4,"sz-ui-table",3),l("update",function(){return n.get();}),c()),i&2&&(p("dataSource",n.dataSource),S(4),p("stateEnabled",!0)("dataSource",n.dataSource));},dependencies:[M,P,L,O,g,b],encapsulation:2});let m=o;return m;})();export{x as a};/**i18n:1c5a057012127d5b8d089498ac661b5227d0455136ea3b9f25a2d8940ec324d8*/