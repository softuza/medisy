import{e as oe}from"./chunk-DJXEWOQO.js";import{c as A,g}from"./chunk-734BEVF6.js";import"./chunk-XTZGDGFZ.js";import{c as K,d as Z,e as r,h as ee,i as te}from"./chunk-CAFAE33Z.js";import"./chunk-J5QQY2QR.js";import"./chunk-JOIIV6VE.js";import{b as W}from"./chunk-CNLCC23Q.js";import"./chunk-5E6K5YLE.js";import{b as k,f as w,g as H,h as q,j as Q,k as J}from"./chunk-Z2ZUJRKU.js";import{a as u}from"./chunk-6GM4JCQY.js";import"./chunk-3PDBTWFJ.js";import{a as G,b as y,d as U,e as V,g as $}from"./chunk-QI2VJ3F3.js";import{c as B,p as Y,q as X,r as x,t as j}from"./chunk-2WR3J7DZ.js";import"./chunk-EA7HCRH3.js";import"./chunk-7AANOILR.js";import"./chunk-FJQUKBXX.js";import{d as c,f as L,g as D,l as z,o as I,r as P,s as F,u as v}from"./chunk-QSQP3PNI.js";import{b as S,c as R}from"./chunk-E3F62UZG.js";import"./chunk-33ZTXJ25.js";import"./chunk-4MW6KJIR.js";import"./chunk-IZAIB3R2.js";import{a as f}from"./chunk-FENOVBAP.js";import"./chunk-RGHZSPOL.js";import"./chunk-73EUG6I6.js";import"./chunk-SNLNGOLR.js";import"./chunk-SNT3GI4V.js";import"./chunk-3TPLYAOD.js";import{Kb as _,Lb as d,Mb as E,Xb as N,cb as m,ja as s,na as C,nb as b,qc as O,rc as M,zb as n}from"./chunk-4PLW75EI.js";import"./chunk-ZSJPE3V4.js";var ie=(()=>{let i=class i extends w{constructor(){let o=s(G);super(o),this.mlabService=s(u),this.fb=s(F),this.data=s(y),this.timeUnits=Object.keys(g).map(a=>g[a]),this.sexes=Object.keys(A).map(a=>A[a]),this.sexesSelectConfig={emptyOption:!0};let t=this.fb;this.dialog=o;let e=this.data;this.form=t.group({nameEn:[e?.nameEn,[c.required,c.minLength(1)]],nameAr:[e?.nameAr,[c.minLength(1)]],description:[e?.description,[]],timeUnit:[e?.timeUnit??g.Year,[c.required]],sex:t.control(e?.sex,[]),startAge:t.control(e?.startAge,[]),endAge:t.control(e?.endAge,[])});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceGroups.create(this.form.value)));}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=C({type:i,selectors:[["sz-medisy-laboratory-reference-groups-reference-group-save"]],standalone:!0,features:[O([u]),b,M],decls:13,vars:9,consts:()=>{let o;o="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629";let t;t="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629";let e;e="\u0627\u0644\u0648\u0635\u0641";let a;a="\u0627\u0644\u062C\u0646\u0633";let T;T="\u0628\u062F\u0627\u064A\u0629";let h;return h="\u0646\u0647\u0627\u064A\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",o],["formControlName","nameAr","label",t],["formControlName","description","label",e],[1,"sz-form-row"],["formControlName","sex","label",a,3,"source","localizedValue","config"],["formControlName","timeUnit","label","Time Unit",3,"source"],["formControlName","startAge","label",T],["formControlName","endAge","label",h],[3,"actions"]];},template:function(t,e){t&1&&(E(0,"sz-ui-dialog-header",0),_(1,"mat-dialog-content")(2,"form",1),E(3,"sz-ui-form-field-input-text",2)(4,"sz-ui-form-field-input-text",3)(5,"sz-ui-form-field-textarea",4),_(6,"div",5),E(7,"sz-ui-form-field-select",6)(8,"sz-ui-form-field-select",7),d(),_(9,"div",5),E(10,"sz-ui-form-field-input-number",8)(11,"sz-ui-form-field-input-number",9),d()()(),E(12,"sz-ui-dialog-actions",10)),t&2&&(n("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),m(2),n("formGroup",e.form),m(5),n("source",e.sexes)("localizedValue",!0)("config",e.sexesSelectConfig),m(),n("source",e.timeUnits),m(4),n("actions",e.actions));},dependencies:[v,z,L,D,I,P,$,V,J,H,q,j,B,Y,x,X,W,oe],encapsulation:2});let l=i;return l;})();var re=(()=>{let i=class i{constructor(){this.dialog=s(U),this.mlabService=s(u),this.dataSource=new ee(),this.appBarConfig={title:f.reference_groups,menu:R.default([S.add(this.openSaveComponent.bind(this)),S.menu([S.search()])])},this.dataSource.columnDefs.push(r.uuid("id"),r.string("nameEn").setStacked(r.string("nameAr").setValueClassFontSmall()),r.enum("sex"),r.enum("timeUnit").setHeaderName(f.unit),r.number("startAge").setHeaderName(f.start),r.number("endAge").setHeaderName(f.end),r.date("createdAt").setVisible(!1),r.date("updatedAt").setVisible(!1),r.menu(R.more([S.edit(this.openSaveComponent.bind(this)),S.divider(),S.delete(this.openReferenceGroupDeleteComponent.bind(this))]))),this.get();}openSaveComponent(o){this.dialog.open(ie,{data:o}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openReferenceGroupDeleteComponent(o){this.dialog.open(Q,{data:k.delete(this.mlabService.priceProfiles.delete(o.id),o)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.referenceGroups.get(this.dataSource.getQuery()).pipe(te(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=C({type:i,selectors:[["sz-medisy-laboratory-reference-groups"]],standalone:!0,features:[O([u]),M],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(t,e){t&1&&(_(0,"sz-ui-table-bar",0),N("changed",function(){return e.get();}),d(),_(1,"sz-ui-table",1),N("update",function(){return e.get();}),d()),t&2&&(n("config",e.appBarConfig)("dataSource",e.dataSource),m(),n("dataSource",e.dataSource));},dependencies:[K,Z],encapsulation:2});let l=i;return l;})();var Ue=[{path:"",component:re}];export{Ue as default};/**i18n:78deb23436623189b35691a00c31a25bdc017296f03b26aff11dd3cf4cf58478*/