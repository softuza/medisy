import{a as C}from"./chunk-YWQQKBPQ.js";import{c as te,d as ne,e as r,h as re,i as se}from"./chunk-VDQ7HHWR.js";import"./chunk-D2ZZ2EM7.js";import"./chunk-IQN3O4LZ.js";import{a as oe,b as ie}from"./chunk-SIEKOOZL.js";import"./chunk-NRL5NXSH.js";import{b as Q,f as J,g as K,h as W,j as Z,k as ee}from"./chunk-FVD4QU5A.js";import{a as m}from"./chunk-4U6IS2IO.js";import"./chunk-AW4VH2GC.js";import{a as G,b as F,d as U,e as X,g as k}from"./chunk-DORI46RQ.js";import{c as H,q as j,r as w,t as q}from"./chunk-EUVE3CDK.js";import"./chunk-TVM3BSRW.js";import"./chunk-NDMJM53R.js";import"./chunk-CWOC6VYL.js";import{d as f,f as D,g as P,l as Y,o as v,r as z,s as $,u as B}from"./chunk-ZWU3YGKZ.js";import{a as x}from"./chunk-NPTMGQJC.js";import{b as l,c as A}from"./chunk-FWFWESWL.js";import"./chunk-OYOHSYMM.js";import"./chunk-M6I2XG4X.js";import"./chunk-4E7O73CR.js";import{a as O}from"./chunk-E7QNYKJO.js";import"./chunk-S5ALDRCG.js";import{r as V}from"./chunk-DCPCJTMS.js";import"./chunk-FY3W77EY.js";import"./chunk-L64VIROQ.js";import"./chunk-TXVIAXH2.js";import{Kb as E,Lb as p,Mb as u,Wb as I,Xb as N,cb as _,ja as s,na as T,nb as y,qc as M,rc as c,zb as n}from"./chunk-6SIAYQG6.js";import"./chunk-3IKOHXF5.js";var ae=(()=>{let i=class i extends J{constructor(){let t=s(G);super(t),this.mlabService=s(m),this.fb=s($),this.data=s(F),this.disciplines=this.mlabService.disciplines.getAll({orderBy:["nameEn"]}),this.units=this.mlabService.units.getAll({orderBy:["name"]}),this.testResultTypes=Object.keys(C).map(d=>C[d]),this.defaultUnitSelectConfig={emptyOption:!0};let o=this.fb;this.dialog=t;let e=this.data;this.form=o.group({nameEn:[e?.nameEn,[f.required,f.minLength(1)]],shortNameEn:[e?.shortNameEn,[]],nameAr:[e?.nameAr,[]],shortNameAr:[e?.shortNameAr,[]],abbreviation:[e?.abbreviation,[]],description:[e?.description,[]],purpose:[e?.purpose,[]],disciplineId:[e?.disciplineId,[]],unitId:[e?.unitId,[]],isGroup:[e?.isGroup??!1,[]],testResultType:[e?.testResultType??C.Quantitative,[f.required]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testTypes.update(this.data.id,this.form.value)):this.save(this.mlabService.testTypes.create(this.form.value)));}};i.ɵfac=function(o){return new(o||i)();},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-types-save"]],standalone:!0,features:[M([m]),y,c],decls:14,vars:9,consts:()=>{let t;t="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629";let o;o="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629";let e;e="\u0623\u062E\u062A\u0635\u0627\u0631";let d;d="\u0627\u0644\u0648\u0635\u0641";let g;g="\u0627\u0644\u063A\u0627\u064A\u0629";let R;R="\u0641\u0626\u0629";let L;L="\u0648\u0627\u062D\u062F\u0629";let b;b="\u0646\u0645\u0637 \u0627\u0644\u0646\u062A\u064A\u062C\u0629";let h;return h="\u0645\u062C\u0645\u0648\u0639\u0629",[h,[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",t],["formControlName","nameAr","label",o],["formControlName","abbreviation","label",e],["formControlName","description","label",d],["formControlName","purpose","label",g],["formControlName","disciplineId","label",R,3,"source"],["formControlName","unitId","label",L,3,"source","config"],["formControlName","testResultType","label",b,3,"source"],["formControlName","isGroup"],[3,"actions"]];},template:function(o,e){o&1&&(u(0,"sz-ui-dialog-header",1),E(1,"mat-dialog-content")(2,"form",2),u(3,"sz-ui-form-field-input-text",3)(4,"sz-ui-form-field-input-text",4)(5,"sz-ui-form-field-input-text",5)(6,"sz-ui-form-field-textarea",6)(7,"sz-ui-form-field-textarea",7)(8,"sz-ui-form-field-select",8)(9,"sz-ui-form-field-select",9)(10,"sz-ui-form-field-select",10),E(11,"mat-checkbox",11),I(12,0),p()()(),u(13,"sz-ui-dialog-actions",12)),o&2&&(n("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),_(2),n("formGroup",e.form),_(6),n("source",e.disciplines),_(),n("source",e.units)("config",e.defaultUnitSelectConfig),_(),n("source",e.testResultTypes),_(3),n("actions",e.actions));},dependencies:[B,Y,D,P,v,z,k,X,ie,oe,ee,K,W,q,H,w,j],encapsulation:2});let S=i;return S;})();var _e=(()=>{let i=class i{constructor(){this.dialog=s(U),this.mlabService=s(m),this.router=s(V),this.dataSource=new re("nameEn"),this.appBarConfig={title:O.test_types,menu:A.default([l.add(this.openSaveComponent.bind(this)),l.menu([l.search()])])},this.dataSource.columnDefs.push(r.uuid("id"),r.hyperlink("nameEn").setClickFn(t=>this.router.navigate([x.TestTypes,t.id])).setHeaderSortable(!0),r.string("code").setStyleSmall().setResponsive(!0),r.string("discipline.nameEn").setHeaderName(O.discipline).setResponsive(!0),r.string("unit.symbol").setHeaderName(O.symbol).setResponsive(!0),r.string("abbreviation").setStyleSmall().setResponsive(!0),r.date("createdAt").setVisible(!1),r.date("updatedAt").setVisible(!1),r.menu(A.more([l.edit(this.openSaveComponent.bind(this)),l.divider(),l.delete(this.openTestTypeDeleteComponent.bind(this))]))),this.get();}openSaveComponent(t){this.dialog.open(ae,{data:t}).afterClosed().subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openTestTypeDeleteComponent(t){this.dialog.open(Z,{data:Q.delete(this.mlabService.testTypes.delete(t.id),t)}).afterClosed().subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.testTypes.get(this.dataSource.getQuery()).pipe(se(this.dataSource.state)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};i.ɵfac=function(o){return new(o||i)();},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-types"]],standalone:!0,features:[M([m]),c],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(o,e){o&1&&(E(0,"sz-ui-table-bar",0),N("changed",function(){return e.get();}),p(),E(1,"sz-ui-table",1),N("update",function(){return e.get();}),p()),o&2&&(n("config",e.appBarConfig)("dataSource",e.dataSource),_(),n("dataSource",e.dataSource));},dependencies:[te,ne],encapsulation:2});let S=i;return S;})();var Xe=[{path:"",component:_e}];export{Xe as default};/**i18n:121ea4fe581ee572de720507d72ab5d9f5a3145d9d01251bf118b1165d3425b9*/