import{a as je,b as Ue,c as Xe}from"./chunk-7AGUCOKQ.js";import{a as $}from"./chunk-7QJWH4ZD.js";import{b as Oe}from"./chunk-HWOUZEAB.js";import{a as me,b as pe,c as le,d as de,e as ce,f as _e,g as Se,h as ue}from"./chunk-YGCATYA7.js";import{b as De,c as B}from"./chunk-QW4XCJB2.js";import{a as Fe}from"./chunk-DJWTHWUI.js";import{a as E}from"./chunk-7ZD52CWE.js";import{a as L}from"./chunk-JRXQDBB2.js";import{a as z}from"./chunk-BQ4WSO6F.js";import"./chunk-LFZD73XQ.js";import"./chunk-UZV5LP6K.js";import{a as Be,b as Ge,g as h}from"./chunk-ACY3TFT2.js";import"./chunk-ZENDRPYK.js";import"./chunk-7CAN5NDU.js";import{b as $e,d as xe}from"./chunk-ZXC77473.js";import{c as Re,h as Le,i as be,j as Ye,m as ze}from"./chunk-TZHDOS7D.js";import{a as Ie,b as ye,d as ve,e as ge,g as R}from"./chunk-MLSRSUWT.js";import{q as Ae,t as he}from"./chunk-DPUIQT2Q.js";import"./chunk-32W7D3XL.js";import{g as K,h as W,l as Z,n as ee,o as te,p as ie,s as oe}from"./chunk-UZRVZSRL.js";import{b,c as f,d as Te}from"./chunk-VXIMUH5R.js";import"./chunk-FVPLSC3A.js";import"./chunk-5YXUG2NC.js";import"./chunk-25UH3N2F.js";import{a as d}from"./chunk-KYTCDYCU.js";import{a as Y}from"./chunk-O5KLIVQ3.js";import"./chunk-4KTV3HE2.js";import{a as Ne}from"./chunk-HSBTPXYW.js";import{a as ne,c as re,d as ae,e as T,f as Pe,g as Ee}from"./chunk-7EL7DJOA.js";import{a as fe,b as Me}from"./chunk-YSHIJLQQ.js";import"./chunk-PHZ6OWUT.js";import{a as se,c as O}from"./chunk-45S7AHWB.js";import{Ra as Ce,o as J}from"./chunk-5YRGD4YU.js";import{$b as g,Ab as s,Bb as r,Cb as p,L as y,Mb as F,Qb as A,Vb as c,Wb as u,Xb as q,Yb as P,_a as v,a as j,b as U,bc as Q,cb as a,da as X,db as m,dc as N,ec as D,kb as w,la as M,ma as H,nb as l,tb as S,ub as C,yb as V,zb as k}from"./chunk-MK3KDUIH.js";function qe(t,o){if(t&1&&(s(0,"mat-card-subtitle"),c(1),r()),t&2){let _=A();a(1),u(_.person==null?null:_.person.title);}}function Qe(t,o){t&1&&(s(0,"mat-card-subtitle"),F(1,4),r());}function Je(t,o){if(t&1&&(s(0,"span"),c(1),N(2,"typeI18n"),r(),c(3," - ")),t&2){let _=A();a(1),u(D(2,1,_.person==null?null:_.person.sex));}}function Ke(t,o){t&1&&(s(0,"mat-card-footer"),p(1,"mat-progress-bar",5),r());}var We=t=>[t],x=(()=>{let o=class o{set personId(i){this._personId=i,this.getPerson(i);}get personId(){return this._personId;}constructor(i,e,n){this.mpplService=i,this.typeI18nPipe=e,this.personNamePipe=n,this.indicator=v(!1),this.attributes={items:[]};}addAttributes(i){if(i.phones&&i.phones.length>0){let e=i.phones.find(n=>n.phoneType===Ge.Mobile)?.value;e&&this.attributes.items.push(B.text(e,"phone"));}if(i.emails&&i.emails.length>0){let e=i.emails.find(n=>n.emailType===Be.Private)?.value;e&&this.attributes.items.push(B.text(e,"email"));}}getPerson(i){this.mpplService.persons.getById(i).pipe(y(1),Re(this.indicator)).subscribe(e=>{this.person=e,this.addAttributes(e);});}};o.ɵfac=function(e){return new(e||o)(m(L),m(h),m(E));},o.ɵcmp=M({type:o,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[P([h]),g],decls:18,vars:13,consts:()=>{let i;i="\u0627\u0644\u0645\u0632\u064A\u062F";let e;return e="\u0627\u0644\u0645\u0631\u064A\u0636",[[1,"example-card"],[3,"list"],["mat-button","",3,"routerLink"],i,e,["mode","indeterminate"]];},template:function(e,n){e&1&&(s(0,"mat-card",0)(1,"mat-card-header"),S(2,qe,2,1,"mat-card-subtitle")(3,Qe,2,0),s(4,"mat-card-title"),c(5),N(6,"personName"),r()(),s(7,"mat-card-content")(8,"small"),S(9,Je,4,3),c(10),N(11,"personAge"),r(),p(12,"sz-ui-list-simple",1)(13,"mat-divider"),r(),s(14,"mat-card-actions")(15,"button",2),F(16,3),r()(),S(17,Ke,2,0,"mat-card-footer"),r()),e&2&&(a(2),C(2,n.person!=null&&n.person.title?2:3),a(3),u(D(6,7,n.person)),a(4),C(9,n.person!=null&&n.person.sex?9:-1),a(1),q(" ",D(11,9,n.person==null?null:n.person.birthDate)," "),a(2),l("list",n.attributes),a(3),l("routerLink",Q(11,We,"/mppl/persons/"+n.personId)),a(2),C(17,n.indicator()?17:-1));},dependencies:[T,ae,ue,me,ce,le,Se,_e,de,pe,De,Ee,Pe,Me,fe,O,se,h,E,Fe],encapsulation:2});let t=o;return t;})();var He=(()=>{let o=class o extends Le{constructor(i,e,n,I){super(n),this.mlabService=i,this.fb=e,this.dialog=n,this.data=I,this.form=e.group({note:[I?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,U(j({},this.data),{note:this.form.value.note})));}};o.ɵfac=function(e){return new(e||o)(m(d),m(ie),m(Ie),m(ye));},o.ɵcmp=M({type:o,selectors:[["medisy-analysis-save"]],standalone:!0,features:[P([d]),w,g],decls:5,vars:3,consts:()=>{let i;return i="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",i],[3,"actions"]];},template:function(e,n){e&1&&(p(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2),r()(),p(4,"sz-ui-dialog-actions",3)),e&2&&(l("header",n.header),a(2),l("formGroup",n.form),a(2),l("actions",n.actions));},dependencies:[oe,Z,K,W,ee,te,R,ge,ze,be,Ye,he,Ae],encapsulation:2});let t=o;return t;})();var it=()=>[$];function ot(t,o){if(t&1&&p(0,"medisy-people-persons-common-person-card",5),t&2){let _=A();l("personId",_.analysis.personId);}}function nt(t,o){t&1&&p(0,"medisy-laboratory-analysis-specimens");}var we=(()=>{let o=class o{constructor(i,e,n,I){this.dialog=i,this.route=e,this.router=n,this.mlabService=I,this.alert$=v(void 0),this.testsDataSource=new $e(Ne.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=Te.more([f.edit(()=>this.openSaveComponent()),f.divider(),f.print(()=>this.opendPrintComponent),f.default("\u0646\u0634\u0631","publish",this.openPublishComponent),f.divider(),f.default("QR Code","qr_code",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(He,{data:this.analysis}).afterClosed().pipe(y(1)).subscribe(i=>{i&&(this.analysis=i);});}opendPrintComponent(){}openPublishComponent(){}};o.ɵfac=function(e){return new(e||o)(m(ve),m(ne),m(re),m(d));},o.ɵcmp=M({type:o,selectors:[["medisy-laboratory-analysis"]],features:[P([d,L,E])],decls:16,vars:4,consts:()=>{let i;i="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let e;return e="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card","tw-my-4"],[3,"personId"],["mat-stretch-tabs","false"],["label",i],["label",e]];},template:function(e,n){e&1&&(s(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),c(3),r(),s(4,"span",2),c(5),r()(),p(6,"sz-ui-menu",3),r(),s(7,"div",4),S(8,ot,1,1,"medisy-people-persons-common-person-card",5),r(),s(9,"mat-tab-group",6)(10,"mat-tab",7),p(11,"medisy-laboratory-analysis-tests"),r(),s(12,"mat-tab",8),S(13,nt,1,0),V(14,13,it),k(),r()()),e&2&&(a(3),u(n.analysis.code),a(2),u(n.analysis.note),a(1),l("menu",n.analysisMenu),a(2),C(8,n.analysis.personId?8:-1));},dependencies:[je,Ue,Y,b,z,x],encapsulation:2});let t=o;return t;})();var Ve=[{path:"",component:we},{path:"tests",loadComponent:()=>import("./chunk-R2NAJA3I.js").then(t=>t.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-7TARDLKQ.js").then(t=>t.AnalysisSpecimensComponent)}];var gi=(()=>{let o=class o{};o.ɵfac=function(e){return new(e||o)();},o.ɵmod=H({type:o}),o.ɵinj=X({providers:[d],imports:[J,T.forChild(Ve),R,Ce,O,xe,Xe,Y,Oe,b,z,$,x]});let t=o;return t;})();export{gi as AnalysisModule};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/