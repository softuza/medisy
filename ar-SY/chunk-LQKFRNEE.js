import{a as ne}from"./chunk-4NJKEHAG.js";import"./chunk-PXOTKN7X.js";import"./chunk-X55ZRX4G.js";import{e as H,f as J,g as K,i as Q,j as W,k as Z}from"./chunk-2S57DNGQ.js";import{a as F,b as k,d as j,e as w,g as V}from"./chunk-SVUPQDJR.js";import{b as h}from"./chunk-UAAXW6Y2.js";import{a as E,b as ee,c as te,e as oe,f as re,g as b,o as ie,p as ae}from"./chunk-DTFQAI3S.js";import{b as O}from"./chunk-2KBOCTCM.js";import"./chunk-OWQ5IK3C.js";import{c as q}from"./chunk-ICRQ7WPB.js";import"./chunk-AYQEHXDK.js";import{d as M,g as P,h as v,l as G,n as I,o as D,p as N,s as L,t as $,v as U}from"./chunk-VJLOVWWV.js";import{a as T}from"./chunk-URIFAF75.js";import"./chunk-O7UVKBH4.js";import{a as X}from"./chunk-DHBNYOFD.js";import{a as x}from"./chunk-AALBHV7K.js";import{D as z,G as Y,H as B}from"./chunk-MQ7PCRXN.js";import{$b as y,Ab as _,Kb as u,L as m,Mb as c,Tb as A,Ub as R,Zb as f,_b as g,cb as l,db as s,kb as C,la as S,nb as d,yb as a,zb as p}from"./chunk-FNRYDH3S.js";var Se=()=>[],_e=n=>[n],se=(()=>{let i=class i extends H{constructor(e,t,o,r){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=r,this.form=t.group({enabled:[r.laboratoryTestGroup?.enabled??!0,[M.required]],testGroupId:[r.laboratoryTestGroup?.testGroupId,[M.required]]});}submit(){this.IsValid()&&(this.data.laboratoryTestGroup?this.save(this.mlabService.laboratories.testGroups.update(this.data.laboratoryId,this.data.laboratoryTestGroup?.id,this.form.value)):this.save(this.mlabService.laboratories.testGroups.create(this.data.laboratoryId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(s(T),s(N),s(F),s(k));},i.ɵcmp=S({type:i,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[C,f],decls:7,vars:7,consts:()=>{let e;return e="\u0645\u0641\u0639\u0644",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testGroupId",3,"excludeLaboratoryIds"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,o){t&1&&(_(0,"sz-ui-dialog-header",0),a(1,"mat-dialog-content")(2,"form",1),_(3,"medisy-form-field-test-group-select",2),a(4,"mat-checkbox",3),u(5,4),p()()(),_(6,"sz-ui-dialog-actions",5)),t&2&&(d("header",o.header),l(2),d("formGroup",o.form),l(1),d("excludeLaboratoryIds",o.data.laboratoryTestGroup?g(4,Se):y(5,_e,o.data.laboratoryId)),l(3),d("actions",o.actions));},dependencies:[L,G,P,v,I,D,W,J,K,V,w,b,re,ne],encapsulation:2});let n=i;return n;})();var He=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.dataSource=new ee(X.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(te.default([E.text("testGroup","\u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u062E\u062A\u0628\u0627\u0631",r=>r.testGroup.name),h.createdAt(),E.checkbox("enabled","\u0645\u0641\u0639\u0644",(r,le)=>{r.enabled=le,this.mlabService.laboratories.testGroups.update(r.laboratoryId,r.id,r).pipe(m(1)).subscribe(de=>{r=de;});}),h.menu([O.edit(r=>{this.openSaveComponent(r);}),O.delete(r=>{this.openLaboratoryTestGroupDeleteComponent(r);})])])),this.get();}openSaveComponent(e){this.dialog.open(se,{data:{laboratoryId:this.laboratory.id,laboratoryTestGroup:e}}).afterClosed().pipe(m(1)).subscribe(t=>{this.dataSource.updateOrPushItem(t);});}openLaboratoryTestGroupDeleteComponent(e){this.dialog.open(Q,{data:Z.delete(this.mlabService.laboratories.testGroups.delete(e.laboratoryId,e.id),e)}).afterClosed().pipe(m(1)).subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.laboratories.testGroups.get(this.laboratory.id,this.dataSource.filterModel).pipe(q(this.dataSource.indicator)).pipe(m(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(s(j),s(T),s(z));},i.ɵcmp=S({type:i,selectors:[["medisy-laboratory-test-groups"]],standalone:!0,features:[f],decls:11,vars:5,consts:()=>{let e;e="\u0645\u062C\u0645\u0648\u0639\u0627\u062A \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let t;return t="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],e,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(t,o){t&1&&(a(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),u(3,2),p(),a(4,"a",3),A(5),p()()(),a(6,"sz-ui-table-filter",4),c("search",function(){return o.get();}),a(7,"button",5),c("click",function(){return o.openSaveComponent();}),a(8,"span"),u(9,6),p()()(),a(10,"sz-ui-table",7),c("update",function(){return o.get();}),p()),t&2&&(l(5),R(o.laboratory.name),l(1),d("dataSource",o.dataSource),l(4),d("paginationEnabled",!0)("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[B,Y,x,ae,ie,oe,b,U,$],encapsulation:2});let n=i;return n;})();export{He as LaboratoryTestGroupsComponent};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/