import{a as De}from"./chunk-3EAVDVPH.js";import{a as Ie,b as ge}from"./chunk-RV2DMR4H.js";import{a as Ce}from"./chunk-YVZYMKVH.js";import{a as C}from"./chunk-IBBXEIMX.js";import{a as N}from"./chunk-HKWCY76E.js";import"./chunk-BAVP4TXU.js";import{g as I}from"./chunk-QLFCEITG.js";import"./chunk-YG6YP2DX.js";import"./chunk-DB5D4RWG.js";import"./chunk-JOBNPPSM.js";import{b as T,c as ue,e as ce,g as Ne,s as Oe,t as Te}from"./chunk-VUMSGYE7.js";import{c as de,g as pe,i as fe,j as Pe,m as Me}from"./chunk-U2NFSQQN.js";import{a as me,b as se,d as Se,e as Ee,g as c}from"./chunk-RY32KYW7.js";import{D as le,a as q,c as J,d as K,h as Q,i as W,r as te,s as ie,t as oe,u as re,v as ne,w as ae,y as _e}from"./chunk-DXSUKRZ3.js";import{b,g as G,h as U,l as X,n as k,o as B,p as j,s as w}from"./chunk-4NL6MOY5.js";import{a as g}from"./chunk-JZP6PCNM.js";import{b as O}from"./chunk-5W7PZILH.js";import"./chunk-XP7I6OF6.js";import{e as x}from"./chunk-IF5LYGUI.js";import"./chunk-3LHHJK2J.js";import"./chunk-QFXGLSXE.js";import"./chunk-MZZLEOGC.js";import{Qa as H,Ra as V,Ta as Z,Ua as ee,n as v}from"./chunk-HMJ5RFBC.js";import{Bb as r,Cb as _,Db as n,L as p,Nb as z,Pb as P,Vb as Y,Wb as M,Zb as u,ac as y,cb as d,da as h,db as s,kb as $,la as f,ma as A,nb as m}from"./chunk-VTJ4Z7TN.js";var Le=(()=>{let t=class t extends pe{constructor(i,o,e){super(o),this.fb=i,this.dialog=o,this.data=e,this.form=i.group({sex:[e.sex],title:[e.title],startBirthDate:[e.startBirthDate],endBirthDate:[e.endBirthDate],firstName:[e.firstName],lastName:[e.lastName],ssn:[e.ssn],nationalityId:[e.nationalityId],languageId:[e.languageId],motherName:[e.motherName],fatherName:[e.fatherName],middleName:[e.middleName],address:[e.address]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};t.ɵfac=function(o){return new(o||t)(s(j),s(me),s(se));},t.ɵcmp=f({type:t,selectors:[["medisy-people-persons-filter"]],standalone:!0,features:[u([]),$,y],decls:28,vars:7,consts:()=>{let i;i="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644";let o;o="\u0627\u0644\u0643\u0646\u064A\u0629";let e;e="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0633\u0637";let a;a="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let S;S="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629";let D;D="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629";let R;R="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0647\u0627\u064A\u0629";let L;L="\u0627\u0644\u0644\u0642\u0628";let F;return F="\u0627\u0644\u0639\u0646\u0648\u0627\u0646",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","firstName","label",i],["formControlName","lastName","label",o],["formControlName","middleName","label",e],["formControlName","nationalityId"],["formControlName","ssn","label",a],["formControlName","languageId"],[1,"tw-flex-1"],S,["startView","year",3,"rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder",D,"formControlName","startBirthDate"],["matEndDate","","placeholder",R,"formControlName","endBirthDate"],["matSuffix","",3,"for"],["datePicker",""],["formControlName","sex"],["formControlName","title","label",L],["formControlName","address","label",F],[3,"actions"]];},template:function(o,e){if(o&1&&(n(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1)(3,"div",2),n(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),_(),n(6,"sz-ui-form-field-input",5),r(7,"div",2),n(8,"medisy-form-field-nationality",6)(9,"sz-ui-form-field-input",7),_(),r(10,"div",2),n(11,"medisy-form-field-language",8),r(12,"mat-form-field",9)(13,"mat-label"),z(14,10),_(),r(15,"mat-date-range-input",11),n(16,"input",12)(17,"input",13),_(),r(18,"mat-hint"),M(19,"YYYY-MM-DD - YYYY-MM-DD"),_(),n(20,"mat-datepicker-toggle",14)(21,"mat-date-range-picker",null,15),_()(),r(23,"div",2),n(24,"medisy-form-field-sex",16)(25,"sz-ui-form-field-input",17),_(),n(26,"sz-ui-form-field-input",18),_()(),n(27,"sz-ui-dialog-actions",19)),o&2){let a=Y(22);m("header",e.header),d(2),m("formGroup",e.form),d(13),m("rangePicker",a)("comparisonStart",e.form.controls.startBirthDate.value)("comparisonEnd",e.form.controls.endBirthDate.value),d(5),m("for",a),d(7),m("actions",e.actions);}},dependencies:[w,X,b,G,U,k,B,Me,fe,Pe,le,_e,W,Q,q,J,K,ae,te,re,ie,oe,ne,c,Ee,Ie,Ce,ge],encapsulation:2});let l=t;return l;})();var Fe=(()=>{let t=class t{constructor(i,o,e,a){this.dialog=i,this.mpplService=o,this.typeI18nPipe=e,this.personNamePipe=a,this.title=g.persons,this.dataSource=new ce(),this.dataSource.addRows(ue.default([T.hyperlink("names.firstName",g.name,S=>S.id,S=>a.transform(S),!1),T.text("sex","\u0627\u0644\u062C\u0646\u0633",S=>e.transform(S.sex)),T.date("birthDate","\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629")])),this.get();}openFilterComponent(){this.dialog.open(Le,{data:this.dataSource.filter}).afterClosed().pipe(p(1)).subscribe(i=>{this.dataSource.updateFilter(i),this.get();});}openPersonScanComponent(){this.dialog.open(De).afterClosed().pipe(p(1)).subscribe(i=>{i&&(this.dataSource.filter={ssn:i.ssn},this.get());});}get(){this.mpplService.persons.get(this.dataSource.buildRequest()).pipe(de(this.dataSource.indicator),p(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};t.ɵfac=function(o){return new(o||t)(s(Se),s(N),s(I),s(C));},t.ɵcmp=f({type:t,selectors:[["medisy-people-persons"]],features:[u([I,v,C])],decls:6,vars:4,consts:[[3,"title"],[3,"filter","search","filterClicked"],["end","","mat-icon-button","",3,"click"],[3,"stateEnabled","dataSource","update"]],template:function(o,e){o&1&&(n(0,"sz-ui-header-info",0),r(1,"sz-ui-table-filter",1),P("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),r(2,"button",2),P("click",function(){return e.openPersonScanComponent();}),r(3,"mat-icon"),M(4,"barcode"),_()()(),r(5,"sz-ui-table",3),P("update",function(){return e.get();}),_()),o&2&&(m("title",e.title),d(1),m("filter",e.dataSource.filter),d(4),m("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[H,Oe,Ne,O,Z],encapsulation:2});let l=t;return l;})();var he=[{path:"",component:Fe}];var Lt=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=A({type:t}),t.ɵinj=h({providers:[N],imports:[x.forChild(he),c,V,Te,O,ee]});let l=t;return l;})();export{Lt as PersonsModule};/**i18n:58cd3b8848ac5782a36a96a60f590b5398c328b80f04dbb1677d4c0de37b393f*/