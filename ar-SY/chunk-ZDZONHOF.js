import{a as Qe}from"./chunk-IV372MRW.js";import{a as qe}from"./chunk-GICCD6JA.js";import{a as j}from"./chunk-4NUSUGTX.js";import"./chunk-UV55OMBV.js";import{a as Ue,b as Ge,c as Xe,d as we,e as xe}from"./chunk-2FQBOUTW.js";import{b as f}from"./chunk-3LQ6JSPX.js";import{a as ee}from"./chunk-FNWOCSXF.js";import{d as k,e as _,g as ne,h as Fe,i as W,j as re}from"./chunk-F32ZABI3.js";import"./chunk-4DCDCHB6.js";import"./chunk-PWRCXTHR.js";import"./chunk-K5UGIYX3.js";import{c as X,g as w,h as x,i as q,k as Q,l as H}from"./chunk-ZQB4NDVO.js";import{a as u}from"./chunk-FSQCPNZ2.js";import"./chunk-CYAUIENP.js";import{a as B,b as Y,d as N,e as $,g as F}from"./chunk-FURDGHLT.js";import{b as Pe,c as ie,g as De,m as ze,n as Be,o as U,p as Ye,q as pe,s as G}from"./chunk-TDPUDKXE.js";import{b as ue}from"./chunk-7LV3YXIE.js";import"./chunk-PI7SXNAH.js";import"./chunk-TWY5RYOX.js";import{j as Ve}from"./chunk-376VVTQV.js";import{d as c,f as I,g as b,k as be,l as V,o as P,r as v,s as D,u as z}from"./chunk-AHXH4DOS.js";import{b as d,c as C}from"./chunk-23FA5564.js";import{a as $e}from"./chunk-AYZ3P7GD.js";import"./chunk-OLNJCPIA.js";import{c as R,d as ve}from"./chunk-UNNL7KWU.js";import"./chunk-PUAS3BAZ.js";import{p as A,r as Se,s as te,x as le}from"./chunk-JXMVGGLE.js";import"./chunk-KC3OOHS3.js";import"./chunk-RLAIQ2FO.js";import{Ma as oe}from"./chunk-P6NOJIJ3.js";import{Eb as h,Jb as S,Kb as p,Lb as l,Vb as _e,Wb as L,Yb as se,bb as s,gc as Le,ic as Ie,ja as r,mb as y,mc as M,na as E,nc as m,rb as Z,yb as a}from"./chunk-YQNBR3H5.js";import"./chunk-NFTRFLMQ.js";var je=(()=>{let i=class i extends w{constructor(){super(r(B)),this.mlabService=r(u),this.fb=r(D),this.data=r(Y);let e=this.fb,t=this.data;this.form=e.group({nameEn:[t.testTypeClinicalCase?.nameEn,c.required],nameAr:[t.testTypeClinicalCase?.nameAr],description:[t.testTypeClinicalCase?.description],purpose:[t.testTypeClinicalCase?.purpose],abbreviation:[t.testTypeClinicalCase?.abbreviation]});}submit(){this.IsValid()&&(this.data.testTypeClinicalCase?this.save(this.mlabService.testTypes.clinicalCases.update(this.data.testTypeId,this.data.testTypeClinicalCase?.id,this.form.value)):this.save(this.mlabService.testTypes.clinicalCases.create(this.data.testTypeId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-clinical-cases-save"]],standalone:!0,features:[M([u]),y,m],decls:9,vars:5,consts:()=>{let e;e="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629";let t;t="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629";let o;o="\u0623\u062E\u062A\u0635\u0627\u0631";let O;O="\u0627\u0644\u0648\u0635\u0641";let g;return g="\u0627\u0644\u063A\u0627\u064A\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",e],["formControlName","nameAr","label",t],["formControlName","abbreviation","label",o],["formControlName","description","label",O],["formControlName","purpose","label",g],[3,"actions"]];},template:function(t,o){t&1&&(l(0,"sz-ui-dialog-header",0),S(1,"mat-dialog-content")(2,"form",1),l(3,"sz-ui-form-field-input-text",2)(4,"sz-ui-form-field-input-text",3)(5,"sz-ui-form-field-input-text",4)(6,"sz-ui-form-field-textarea",5)(7,"sz-ui-form-field-textarea",6),p()(),l(8,"sz-ui-dialog-actions",7)),t&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),s(2),a("formGroup",o.form),s(6),a("actions",o.actions));},dependencies:[z,V,I,b,P,v,F,$,U,H,x,q,G,ie,pe],encapsulation:2});let n=i;return n;})();var We=(()=>{let i=class i{constructor(){this.dialog=r(N),this.mlabService=r(u),this.route=r(A),this.testType=this.route.snapshot.data.testType,this.dataSource=new ne(),this.card={header:{title:R.clinical_cases},menu:C.default([d.add(this.openSaveComponent.bind(this))])},this.dataSource.columnDefs.push(_.uuid("id"),_.string("nameEn"),_.date("createdAt").setVisible(!1),_.date("updatedAt").setVisible(!1),_.menu(C.more([d.edit(this.openSaveComponent.bind(this)),d.divider(),d.delete(this.openTestTypeClinicalCaseDeleteComponent.bind(this))])));}ngOnInit(){this.get();}openSaveComponent(e){this.dialog.open(je,{data:{testTypeId:this.testType.id,testTypeClinicalCase:e}}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeClinicalCaseDeleteComponent(e){this.dialog.open(Q,{data:X.delete(this.mlabService.testTypes.clinicalCases.delete(e.testTypeId,e.id),e)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.testTypes.clinicalCases.update(e.testTypeId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testTypes.clinicalCases.get(this.testType.id,this.dataSource.getQuery()).pipe(W(this.dataSource.state)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-clinical-cases"]],standalone:!0,features:[m],decls:2,vars:2,consts:[[3,"card"],["content","",3,"update","dataSource"]],template:function(t,o){t&1&&(S(0,"sz-ui-card",0)(1,"sz-ui-table",1),L("update",function(){return o.get();}),p()()),t&2&&(a("card",o.card),s(),a("dataSource",o.dataSource));},dependencies:[te,oe,re,k,j],encapsulation:2});let n=i;return n;})();function rt(n,i){if(n&1&&l(0,"sz-ui-form-field-select",8),n&2){let ae=se();a("source",ae.testTypeResultOptions);}}function at(n,i){n&1&&(S(0,"div",5),l(1,"sz-ui-form-field-input-number",16)(2,"sz-ui-form-field-input-number",17),p());}function st(n,i){n&1&&l(0,"sz-ui-form-field-input-number",13);}function lt(n,i){if(n&1&&(Z(0,at,3,0,"div",5)(1,st,1,0,"sz-ui-form-field-input-number",13),S(2,"div",5),l(3,"sz-ui-form-field-input-number",14)(4,"sz-ui-form-field-input-number",15),p()),n&2){let ae=se();h(ae.isRange()?0:1);}}function _t(n,i){n&1&&l(0,"sz-ui-form-field-input-text",18)(1,"sz-ui-form-field-input-text",19)(2,"sz-ui-form-field-input-text",20);}function St(n,i){n&1&&l(0,"sz-ui-form-field-input-text",21)(1,"sz-ui-form-field-input-text",22);}var Je=(()=>{let i=class i extends w{constructor(){super(r(B)),this.mlabService=r(u),this.fb=r(D),this.dialog=r(N),this.data=r(Y),this.units=[],this.unitSelectConfig={autoSelect:!0},this.referenceGroups=[],this.testTypeClinicalCases=this.mlabService.testTypes.clinicalCases.getAll(this.data.testType.id,{orderBy:["nameEn"]}),this.testTypeClinicalCaseSelectConfig={emptyOption:!0},this.testTypeResultOptions=[],this.comparisonOperators=[],this.isQuantitative=!1,this.comparisonOperatorSelectConfig={optionSelectedFn:o=>{this.comparisonOperatorSelected(o);}},this.referenceGroupSelectConfig={},this.headerMenu=C.default([d.menu([d.add(()=>this.openReferenceGroupSaveComponent()).setTitle(R.reference_group)])]);let e=this.fb,t=this.data;this.form=e.group({description:[t.referenceValue?.description,[c.maxLength(4096)]],testTypeId:[t.testType.id,[c.required]],testTypeClinicalCaseId:[t.referenceValue?.testTypeClinicalCaseId,[]],unitId:[t.referenceValue?.unitId,[]],comparisonOperator:new be(t.referenceValue?.comparisonOperator??f.Range,[c.required]),referenceGroupId:[t.referenceValue?.referenceGroupId,[c.required]],value:[t.referenceValue?.value,[]],lowerBound:[t.referenceValue?.lowerBound,[]],upperBound:[t.referenceValue?.upperBound,[]],minValue:e.control(t.referenceValue?.minValue??0,[]),maxValue:e.control(t.referenceValue?.maxValue,[]),testTypeResultOptionId:[t.referenceValue?.testTypeResultOptionId,[]],aboveUpperBoundStatus:[t.referenceValue?.aboveUpperBoundStatus,[]],belowLowerBoundStatus:[t.referenceValue?.belowLowerBoundStatus,[]],withinBoundsStatus:[t.referenceValue?.withinBoundsStatus,[]],fulfilledStatus:[t.referenceValue?.fulfilledStatus,[]],notFulfilledStatus:[t.referenceValue?.notFulfilledStatus,[]]}),this.testTypeSelected(t.testType),this.comparisonOperatorSelected(this.form.value.comparisonOperator),this.getRerefenceGroups();}isNumericResult(){return this.data.testType.testResultType===ee.Quantitative;}comparisonOperatorSelected(e){this.form.controls.value.setErrors(null),this.form.controls.lowerBound.setErrors(null),this.form.controls.upperBound.setErrors(null),this.form.controls.testTypeResultOptionId.setErrors(null),e===f.Range?(this.form.controls.value.setValidators([]),this.form.controls.testTypeResultOptionId.setValidators([]),this.form.controls.lowerBound.setValidators([c.required]),this.form.controls.upperBound.setValidators([c.required])):(this.form.controls.lowerBound.setValidators([]),this.form.controls.upperBound.setValidators([]),this.isQuantitative?(this.form.controls.value.setValidators([c.required]),this.form.controls.testTypeResultOptionId.setValidators([])):(this.form.controls.value.setValidators([]),this.form.controls.testTypeResultOptionId.setValidators([c.required])));}testTypeSelected(e){e.unitId&&e.unit?this.getUnits(e.unit):this.units=[],e.testResultType===ee.Quantitative?(this.comparisonOperators=[f.Range,f.Equal,f.NotEqual,f.GreaterThan,f.GreaterThanOrEqual,f.LessThan,f.LessThanOrEqual],this.form.patchValue({comparisonOperator:this.data.referenceValue?.comparisonOperator??f.Range})):(this.comparisonOperators=[f.Equal,f.NotEqual],this.form.patchValue({comparisonOperator:this.data.referenceValue?.comparisonOperator??f.Equal})),this.testTypeResultOptions=[],e.testResultType===ee.Qualitative&&this.mlabService.testTypes.resultOptions.getAllItems(e.id,{orderBy:["nameEn"]}).pipe(ue(this.indicator)).subscribe(t=>{t&&(this.testTypeResultOptions=t);}),this.isQuantitative=e.testResultType===ee.Quantitative;}getRerefenceGroups(){this.mlabService.referenceGroups.getAll({orderBy:["nameEn"]}).pipe(ue(this.indicator)).subscribe(e=>{e&&(this.referenceGroups=e.items);});}getUnits(e){this.units=[e],this.form.patchValue({unitId:e?.id}),this.mlabService.unitConverters.getAllItems({filters:le.create().equal("toUnitId",e.id).filters()}).subscribe(t=>{this.units.push(...t.map(o=>o.fromUnit));});}isRange(){return this.form&&this.form.value.comparisonOperator?this.form.value.comparisonOperator===f.Range:!1;}openReferenceGroupSaveComponent(){this.dialog.open(qe).afterClosed().subscribe(e=>{e&&(this.referenceGroups.push(e),this.form.patchValue({referenceGroupId:e.id}));});}submit(){if(!this.IsValid()){console.log(this.form);return;}let e=this.form.value;if(e.minValue){if(e.lowerBound&&e.minValue>e.lowerBound){this.form.controls.minValue.setErrors({incorrect:!0});return;}if(e.value&&typeof e.value=="number"&&e.minValue>e.value){this.form.controls.minValue.setErrors({incorrect:!0});return;}}if(e.maxValue){if(e.upperBound&&e.maxValue<e.upperBound){this.form.controls.maxValue.setErrors({incorrect:!0});return;}if(e.value&&typeof e.value=="number"&&e.maxValue<e.value){this.form.controls.maxValue.setErrors({incorrect:!0});return;}}this.data.referenceValue?this.save(this.mlabService.referenceValues.update(this.data.referenceValue.id,this.form.value)):this.save(this.mlabService.referenceValues.create(this.form.value));}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-reference-values-save"]],standalone:!0,features:[M([u]),y,m],decls:20,vars:17,consts:()=>{let e;e="\u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629";let t;t="\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0633\u0631\u064A\u0631\u064A\u0629";let o;o="\u0648\u0627\u062D\u062F\u0629";let O;O="\u0627\u0644\u0639\u0645\u0644\u064A\u0629";let g;g="\u0642\u064A\u0645\u0629";let K;K="\u0627\u0644\u0648\u0635\u0641";let ce;ce="\u0627\u0644\u062D\u0627\u0644\u0629";let fe;fe="\u0642\u064A\u0645\u0629";let Ce;Ce="\u0627\u0642\u0644 \u0642\u064A\u0645\u0629";let Oe;Oe="\u0627\u0639\u0644\u0649 \u0642\u064A\u0645\u0629";let Me;Me="\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649";let Ne;Ne="\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649";let Ae;Ae="\u0623\u0639\u0644\u0649 \u0645\u0646 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649";let Re;Re="\u0623\u0642\u0644 \u0645\u0646 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649";let ge;ge="\u0636\u0645\u0646 \u0627\u0644\u062D\u062F\u0648\u062F";let he;he="\u0645\u062D\u0642\u0642";let ye;return ye="\u063A\u064A\u0631 \u0645\u062D\u0642\u0642",[ce,[3,"title","subtitle","alert","menu"],[1,"sz-form",3,"formGroup"],["formControlName","referenceGroupId","label",e,3,"source","config"],["formControlName","testTypeClinicalCaseId","label",t,3,"source","config"],[1,"sz-form-row"],["formControlName","unitId","label",o,3,"source","config"],["formControlName","comparisonOperator","label",O,3,"source","localizedValue","config"],["formControlName","testTypeResultOptionId","label",g,3,"source"],[1,"tw-mb-4"],["multi",""],["formControlName","description","label",K],[3,"actions"],["formControlName","value","label",fe],["formControlName","minValue","label",Ce],["formControlName","maxValue","label",Oe],["formControlName","lowerBound","label",Me],["formControlName","upperBound","label",Ne],["formControlName","aboveUpperBoundStatus","label",Ae],["formControlName","belowLowerBoundStatus","label",Re],["formControlName","withinBoundsStatus","label",ge],["formControlName","fulfilledStatus","label",he],["formControlName","notFulfilledStatus","label",ye]];},template:function(t,o){t&1&&(l(0,"sz-ui-dialog-header",1),S(1,"mat-dialog-content")(2,"form",2),l(3,"sz-ui-form-field-select",3)(4,"sz-ui-form-field-select",4),S(5,"div",5),l(6,"sz-ui-form-field-select",6)(7,"sz-ui-form-field-select",7),p(),Z(8,rt,1,1,"sz-ui-form-field-select",8)(9,lt,5,1,"div",5),S(10,"div",9)(11,"mat-accordion",10)(12,"mat-expansion-panel")(13,"mat-expansion-panel-header")(14,"mat-panel-title"),_e(15,0),p()(),Z(16,_t,3,0)(17,St,2,0),p()()(),l(18,"sz-ui-form-field-textarea",11),p()(),l(19,"sz-ui-dialog-actions",12)),t&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert())("menu",o.headerMenu),s(2),a("formGroup",o.form),s(),a("source",o.referenceGroups)("config",o.referenceGroupSelectConfig),s(),a("source",o.testTypeClinicalCases)("config",o.testTypeClinicalCaseSelectConfig),s(2),a("source",o.units)("config",o.unitSelectConfig),s(),a("source",o.comparisonOperators)("localizedValue",!0)("config",o.comparisonOperatorSelectConfig),s(),h(o.isQuantitative?9:8),s(8),h(o.isRange()?16:17),s(3),a("actions",o.actions));},dependencies:[z,V,I,b,P,v,F,$,Ve,U,xe,we,Ue,Ge,Xe,H,x,q,Pe,G,ie,ze,pe,Ye],encapsulation:2});let n=i;return n;})();var Ke=(()=>{let i=class i{constructor(){this.dialog=r(N),this.mlabService=r(u),this.router=r(Se),this.route=r(A),this.testType=this.route.snapshot.data.testType,this.dataSource=new Fe(),this.card={header:{title:R.reference_values},menu:C.default([d.add(this.openSaveComponent.bind(this))])},this.dataSource.columnDefs.push(_.uuid("id"),_.string("referenceGroup.nameEn").setStacked(_.string("referenceGroup.nameAr").setValueClassFontSmall()),_.string("clinicalCase").setValueGetter(e=>e.testTypeClinicalCase?.nameEn),_.enum("comparisonOperator").setValueGetter(e=>ve(e.comparisonOperator)).setResponsive(!0),_.number("_value").setValueGetter(e=>e.testTypeResultOption?e.testTypeResultOption.nameEn:e.value!==null?`${e.value} ${e.unit?.symbol}`:`${e.lowerBound}-${e.upperBound} ${e.unit?.symbol}`).setHeaderSortable(!1),_.date("createdAt").setVisible(!1),_.date("updatedAt").setVisible(!1),_.menu(C.more([d.edit(this.openSaveComponent.bind(this)),d.divider(),d.delete(this.openReferenceValueDeleteComponent.bind(this))]))),this.dataSource.filtration?.equal("testTypeId",this.testType.id),this.get();}openSaveComponent(e){this.dialog.open(Je,{data:{testType:this.testType,referenceValue:e}}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openReferenceValueDeleteComponent(e){this.dialog.open(Q,{data:X.delete(this.mlabService.referenceValues.delete(e.id),e)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.referenceValues.get(this.dataSource.getQuery()).pipe(W(this.dataSource.state)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-reference-values"]],standalone:!0,features:[M([u]),m],decls:2,vars:2,consts:[[3,"card"],["content","",3,"update","dataSource"]],template:function(t,o){t&1&&(S(0,"sz-ui-card",0)(1,"sz-ui-table",1),L("update",function(){return o.get();}),p()()),t&2&&(a("card",o.card),s(),a("dataSource",o.dataSource));},dependencies:[k,j],encapsulation:2});let n=i;return n;})();var Ze=(()=>{let i=class i extends w{constructor(){super(r(B)),this.mlabService=r(u),this.fb=r(D),this.data=r(Y),this.testTypes=this.mlabService.testTypes.getAll({orderBy:["nameEn"],filters:le.create().equal("isGroup",!1).filters()}),this.testTypeAutocompleteConfig={valueChangedFn:o=>{typeof o=="string"&&(this.testTypes=this.mlabService.testTypes.getAll({query:o,orderBy:["nameEn"],filters:le.create().equal("isGroup",!1).filters()}));},optionValueFn:o=>o,optionContentFn:o=>o.nameEn,optionDisplayWithFn:o=>o.nameEn};let e=this.fb,t=this.data;this.form=e.group({relatedTestType:[t.testTypeRelationship?.relatedTestType,[c.required]],enabled:[t.testTypeRelationship?.enabled??!0]});}submit(){if(!this.IsValid())return;let e={enabled:this.form.value.enabled,relatedTestTypeId:this.form.value.relatedTestType.id};this.data.testTypeRelationship?this.save(this.mlabService.testTypes.relationships.update(this.data.testTypeId,this.data.testTypeRelationship?.id,e)):this.save(this.mlabService.testTypes.relationships.create(this.data.testTypeId,e));}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-specimen-types-save"]],standalone:!0,features:[M([u]),y,m],decls:7,vars:7,consts:()=>{let e;e="\u0646\u0645\u0637 \u0627\u062E\u062A\u0628\u0627\u0631";let t;return t="\u0645\u0641\u0639\u0644",[t,[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","relatedTestType","label",e,3,"source","config"],["formControlName","enabled"],[3,"actions"]];},template:function(t,o){t&1&&(l(0,"sz-ui-dialog-header",1),S(1,"mat-dialog-content")(2,"form",2),l(3,"sz-ui-form-field-autocomplete",3),S(4,"mat-checkbox",4),_e(5,0),p()()(),l(6,"sz-ui-dialog-actions",5)),t&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),s(2),a("formGroup",o.form),s(),a("source",o.testTypes)("config",o.testTypeAutocompleteConfig),s(3),a("actions",o.actions));},dependencies:[z,V,I,b,P,v,F,$,U,Be,H,x,q,G,De],encapsulation:2});let n=i;return n;})();var et=(()=>{let i=class i{constructor(){this.dialog=r(N),this.mlabService=r(u),this.route=r(A),this.testType=this.route.snapshot.data.testType,this.dataSource=new ne(),this.card={header:{title:R.test_types},menu:C.default([d.add(this.openSaveComponent.bind(this))])},this.dataSource.columnDefs.push(_.uuid("id"),_.string("relatedTestType.nameEn"),_.date("createdAt").setVisible(!1),_.date("updatedAt").setVisible(!1),_.menu(C.more([d.edit(this.openSaveComponent.bind(this)),d.divider(),d.delete(this.openTestTypeRelationshipDeleteComponent.bind(this))])));}ngOnInit(){this.get();}openSaveComponent(e){this.dialog.open(Ze,{data:{testTypeId:this.testType.id,testTypeRelationship:e}}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeRelationshipDeleteComponent(e){this.dialog.open(Q,{data:X.delete(this.mlabService.testTypes.relationships.delete(e.testTypeId,e.id),e)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.testTypes.relationships.update(e.testTypeId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testTypes.relationships.get(this.testType.id,this.dataSource.getQuery()).pipe(W(this.dataSource.state)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-relationships"]],standalone:!0,features:[m],decls:2,vars:2,consts:[[3,"card"],["content","",3,"update","dataSource"]],template:function(t,o){t&1&&(S(0,"sz-ui-card",0)(1,"sz-ui-table",1),L("update",function(){return o.get();}),p()()),t&2&&(a("card",o.card),s(),a("dataSource",o.dataSource));},dependencies:[te,oe,re,k,j],encapsulation:2});let n=i;return n;})();var tt=(()=>{let i=class i extends w{constructor(){super(r(B)),this.mlabService=r(u),this.fb=r(D),this.data=r(Y);let e=this.fb,t=this.data;this.form=e.group({nameEn:[t.testTypeResultOption?.nameEn,[c.required]],description:[t.testTypeResultOption?.description,[]],abbreviation:[t.testTypeResultOption?.abbreviation,[]],nameAr:[t.testTypeResultOption?.nameAr,[]]});}submit(){this.IsValid()&&(this.data.testTypeResultOption?this.save(this.mlabService.testTypes.resultOptions.update(this.data.testTypeId,this.data.testTypeResultOption?.id,this.form.value)):this.save(this.mlabService.testTypes.resultOptions.create(this.data.testTypeId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-result-options-save"]],standalone:!0,features:[M([u]),y,m],decls:8,vars:5,consts:()=>{let e;e="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629";let t;t="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629";let o;o="\u0627\u0644\u0648\u0635\u0641";let O;return O="\u0623\u062E\u062A\u0635\u0627\u0631",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",e],["formControlName","nameAr","label",t],["formControlName","description","label",o],["formControlName","abbreviation","label",O],[3,"actions"]];},template:function(t,o){t&1&&(l(0,"sz-ui-dialog-header",0),S(1,"mat-dialog-content")(2,"form",1),l(3,"sz-ui-form-field-input-text",2)(4,"sz-ui-form-field-input-text",3)(5,"sz-ui-form-field-input-text",4)(6,"sz-ui-form-field-input-text",5),p()(),l(7,"sz-ui-dialog-actions",6)),t&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),s(2),a("formGroup",o.form),s(5),a("actions",o.actions));},dependencies:[z,V,I,b,P,v,F,$,U,H,x,q,G,ie],encapsulation:2});let n=i;return n;})();var ot=(()=>{let i=class i{constructor(){this.dialog=r(N),this.mlabService=r(u),this.route=r(A),this.testType=this.route.snapshot.data.testType,this.dataSource=new ne(),this.card={header:{title:R.result_options},menu:C.default([d.add(this.openSaveComponent.bind(this))])},this.dataSource.columnDefs.push(_.uuid("id"),_.string("nameEn").setStacked(_.string("nameAr").setValueClassFontSmall()),_.string("abbreviation"),_.date("createdAt").setVisible(!1),_.date("updatedAt").setVisible(!1),_.menu(C.more([d.edit(this.openSaveComponent.bind(this)),d.divider(),d.delete(this.openTestTypeResultOptionDeleteComponent.bind(this))])));}ngOnInit(){this.get();}openSaveComponent(e){this.dialog.open(tt,{data:{testTypeId:this.testType.id,testTypeResultOption:e}}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeResultOptionDeleteComponent(e){this.dialog.open(Q,{data:X.delete(this.mlabService.testTypes.resultOptions.delete(e.testTypeId,e.id),e)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.testTypes.resultOptions.update(e.testTypeId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testTypes.resultOptions.get(this.testType.id,this.dataSource.getQuery()).pipe(W(this.dataSource.state)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type-result-options"]],standalone:!0,features:[m],decls:2,vars:2,consts:[[3,"card"],["content","",3,"update","dataSource"]],template:function(t,o){t&1&&(S(0,"sz-ui-card",0)(1,"sz-ui-table",1),L("update",function(){return o.get();}),p()()),t&2&&(a("card",o.card),s(),a("dataSource",o.dataSource));},dependencies:[te,oe,re,k,j],encapsulation:2});let n=i;return n;})();function pt(n,i){if(n&1&&(S(0,"p"),Le(1),p()),n&2){let ae=se();s(),Ie(" ",ae.testType.description,`
`);}}function ut(n,i){n&1&&l(0,"sz-medisy-laboratory-test-type-result-options");}function dt(n,i){n&1&&l(0,"sz-medisy-laboratory-test-type-clinical-cases")(1,"sz-medisy-laboratory-test-type-reference-values");}function Et(n,i){n&1&&l(0,"sz-medisy-laboratory-test-type-relationships");}var it=(()=>{let i=class i{constructor(){this.dialog=r(N),this.mlabService=r(u),this.route=r(A),this.router=r(Se),this.testType=this.route.snapshot.data.testType,this.appBarConfig={title:this.testType.nameEn,backEnabled:!0},this.isQualitative=this.testType.testResultType===ee.Qualitative;}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=E({type:i,selectors:[["sz-medisy-laboratory-test-type"]],standalone:!0,features:[M([]),m],decls:7,vars:5,consts:[[3,"config"],[1,"tw-grid","lg:tw-grid-cols-2","tw-gap-2","tw-mb-2"]],template:function(t,o){t&1&&(l(0,"sz-ui-app-bar",0),Z(1,pt,2,1,"p"),S(2,"div",1),l(3,"sz-medisy-laboratory-test-type-specimen-types"),Z(4,ut,1,0,"sz-medisy-laboratory-test-type-result-options")(5,dt,2,0)(6,Et,1,0,"sz-medisy-laboratory-test-type-relationships"),p()),t&2&&(a("config",o.appBarConfig),s(),h(o.testType.description?1:-1),s(3),h(o.isQualitative?4:-1),s(),h(o.testType.isGroup?-1:5),s(),h(o.testType.isGroup?6:-1));},dependencies:[$e,Qe,ot,Ke,et,We],encapsulation:2});let n=i;return n;})();var Vi=[{path:"",component:it},{path:"specimen-types",loadComponent:()=>import("./chunk-RRYGG4BI.js").then(n=>n.TestTypeSpecimenTypesComponent)}];export{Vi as default};/**i18n:4496faec5fdb532a79a61dee9b0e39fe2c3a8394fb36deafb49598fafb3bf39e*/