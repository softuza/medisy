"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[396],{4396:(A,c,t)=>{t.r(c),t.d(c,{PersonAddressesComponent:()=>$});var a=t(2296),i=t(8109),p=t(8262),m=t(9060),u=t(9899),r=t(5041),E=t(3562),_=t(9598),N=t(8721),O=t(8180),S=t(6223),M=t(5986),P=t(7700),T=t(5781),e=t(5879),C=t(2393),D=t(5974),f=t(8873),h=t(4622),g=t(6091);let v=(()=>{class l extends u.Ku{constructor(o,n,s,d){super(s),this.mpplService=o,this.fb=n,this.dialog=s,this.data=d,this.form=n.group({value:[d?.personAddress?.value,[S.kI.required]],description:[d?.personAddress?.description,[]],isPrimary:[d?.personAddress?.isPrimary??!1,[S.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personAddress?this.mpplService.persons.addresses.update(this.data.personId,this.data.personAddress.id,this.form.value):this.mpplService.persons.addresses.create(this.data.personId,this.form.value))}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(C.i),e.Y36(S.qu),e.Y36(P.so),e.Y36(P.WI))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-people-person-addresses-save"]],standalone:!0,features:[e.qOj,e.jDz],decls:8,vars:3,consts:function(){let o,n,s;return o="\u0627\u0644\u0639\u0646\u0648\u0627\u0646",n="\u0627\u0644\u0648\u0635\u0641",s="\u0623\u0633\u0627\u0633\u064A",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","value","label",o],["formControlName","description","label",n],["formControlName","isPrimary"],s,[3,"actions"]]},template:function(n,s){1&n&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),e.TgZ(5,"mat-checkbox",4),e.SDv(6,5),e.qZA()()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&n&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(5),e.Q6J("actions",s.actions))},dependencies:[S.UX,S._Y,S.JJ,S.JL,S.sg,S.u,P.Is,P.xY,M.p9,M.oG,T.g2,D.g,f.L,u.su,h.Y,g.t],encapsulation:2})}return l})();var R=t(8359),y=t(3144),I=t(2516);let $=(()=>{class l{constructor(o,n,s){this.dialog=o,this.mpplService=n,this.route=s,this.dataSource=new E.b2(_.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.addRows(E.zP.default([E.UC.text("value","\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),p.h.createdAt(),p.h.menu([E.od.edit(d=>this.openSaveComponent(d)),E.od.delete(d=>this.openPersonAddressDeleteComponent(d))])])),this.get()}openSaveComponent(o){this.dialog.open(v,{data:{personId:this.person.id,personAddress:o}}).afterClosed().pipe((0,O.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openPersonAddressDeleteComponent(o){this.dialog.open(u.fN,{data:u.cb.delete(this.mpplService.persons.addresses.delete(o.personId,o.id),o)}).afterClosed().pipe((0,O.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.mpplService.persons.addresses.get(this.person.id,this.dataSource.filterModel).pipe((0,N.sU)(this.dataSource.indicator),(0,O.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(P.uw),e.Y36(C.i),e.Y36(i.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-people-person-addresses"]],standalone:!0,features:[e.jDz],decls:12,vars:7,consts:function(){let o,n;return o="\u0627\u0644\u0639\u0646\u0627\u0648\u064A\u0646",n="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],o,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],n,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(n,s){1&n&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return s.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return s.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return s.get()}),e.qZA()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,5,s.person)),e.xp6(2),e.Q6J("dataSource",s.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",s.dataSource))},dependencies:[i.Bz,i.rH,a.ot,a.lW,E.Vn,R.K,y.f,r.n,I.z,m.Y],encapsulation:2})}return l})()},8262:(A,c,t)=>{t.d(c,{h:()=>m});var a=t(3562),i=t(7311);const p={documentType:"\u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",comparisonType:"\u0627\u0644\u0639\u0645\u0644\u064A\u0629",emailType:"\u0646\u0648\u0639 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",phoneType:"\u0646\u0648\u0639 \u0627\u0644\u0647\u0627\u062A\u0641"};class m{static menu(r){return a.UC.action("menu",r)}static code(){return a.UC.text("code","\u0627\u0644\u0631\u0645\u0632")}static createdAt(){return a.UC.date("createdAt",i.O.createdDate)}static updatedAt(){return a.UC.date("updatedAt",i.O.updatedDate)}static id(){return a.UC.text("id",i.O.id)}static nameHyperlink(r,E,_){return a.UC.hyperlink("name",i.O.name,r,E,_)}static nameText(r){return a.UC.text("name",i.O.name,r)}static phoneType(r){return a.UC.text("phoneType",p.phoneType,r)}static emailType(r){return a.UC.text("emailType",p.emailType,r)}static documentType(r){return a.UC.text("documentType",p.documentType,r)}static comparisonOperator(r){return a.UC.text("comparisonOperator",p.comparisonType,r)}}},7311:(A,c,t)=>{t.d(c,{O:()=>a});const a={id:"\u0627\u0644\u0645\u0639\u0631\u0641",name:"\u0627\u0644\u0627\u0633\u0645",description:"\u0627\u0644\u0648\u0635\u0641",updatedDate:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062D\u062F\u064A\u062B",createdDate:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u0634\u0627\u0621",tests:"\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A"}}}]);