import{a as ye}from"./chunk-HHUXDCJ2.js";import{b as Pe}from"./chunk-BVDDTOMA.js";import{a as be}from"./chunk-D2USBXNE.js";import{b as I,c as Ae,e as Re,i as ve,k as Fe,u as De,v as Ie}from"./chunk-47P25T34.js";import{a as C}from"./chunk-WBYPLE6B.js";import{a as p}from"./chunk-LAXXIHXK.js";import{c as F,h as ge,i as Oe,j as he,l as Ne,m as D,n as Te}from"./chunk-SK6APAT5.js";import{b as v}from"./chunk-AQRFGV44.js";import"./chunk-I5QX4CCA.js";import{a as fe,b as Me,d as Ee,e as Ce,g as R}from"./chunk-3NLMA3OD.js";import{A as ue,a as ie,b as oe,g as re,h as ne,o as de,v as pe,w as _e,x as ce,z as Se}from"./chunk-7ERNPK3U.js";import{A as me,J as se,d as L,e as j,f as A,g as w,k as H,l as k,m as q,p as J,q as K,s as Q,t as E,y as W,z as le}from"./chunk-HA3OCK63.js";import{i as z}from"./chunk-UVKSHNQV.js";import"./chunk-QFHU2GEW.js";import"./chunk-SRHI3DNT.js";import{Ea as ee,Ga as te,Ja as ae,ya as Z}from"./chunk-T2UVNK6V.js";import{Bb as G,Cb as B,Db as X,Eb as a,Fb as l,Gb as _,M as S,Qb as f,Sb as M,Ub as b,a as $,b as V,dc as N,ea as Y,ec as y,fb as n,gb as s,gc as T,jc as P,na as u,nb as h,oa as x,qb as g,ub as d,zb as c}from"./chunk-T2ST7G6M.js";function xe(r,t){if(r&1&&(a(0,"mat-label"),N(1),l()),r&2){let O=b();n(),y(O.label);}}function Ge(r,t){r&1&&(a(0,"mat-option"),N(1,"-"),l());}function Be(r,t){if(r&1&&(a(0,"mat-option",4),N(1),l()),r&2){let O=t.$implicit,i=b();d("value",i.getOptionValue(O)),n(),y(i.getOptionContent(O));}}function Xe(r,t){r&1&&(a(0,"mat-error"),f(1,5),l());}function je(r,t){r&1&&(a(0,"mat-error"),f(1,6),l());}function we(r,t){r&1&&(a(0,"mat-error"),f(1,7),l());}function He(r,t){r&1&&_(0,"mat-progress-bar",3);}var ze=(()=>{let t=class t extends de{constructor(i,o){super(i),this.ngControl=i,this.mlabService=o,this.label=C.unit;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.units.get(V($({},se.unpaged()),{orderBy:"name"})).pipe(S(1),F(this.indicator)).subscribe(i=>{this.options.push(...i.items),this.totalPages=i.totalPages;});}};t.ɵfac=function(o){return new(o||t)(s(j,10),s(p));},t.ɵcmp=u({type:t,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[T([p]),h,P],decls:11,vars:10,consts:()=>{let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let o;o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u064A\u0633 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644";let e;return e="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],i,o,e];},template:function(o,e){o&1&&(a(0,"div",0)(1,"mat-form-field",1),g(2,xe,2,1,"mat-label"),a(3,"mat-select",2),M("szScrolled",function(){return e.scroll();}),g(4,Ge,2,0,"mat-option"),B(5,Be,2,2,"mat-option",4,G),l(),g(7,Xe,2,0,"mat-error")(8,je,2,0,"mat-error")(9,we,2,0,"mat-error"),l(),g(10,He,1,0,"mat-progress-bar",3),l()),o&2&&(n(2),c(2,e.label?2:-1),n(),d("formControl",e.control)("multiple",e.multiple)("placeholder",e.placeholder)("szScrollIgnored",e.indicator()),n(),c(4,e.emptyOption?4:-1),n(),X(e.options),n(2),c(7,e.control.hasError("required")?7:-1),n(),c(8,e.control.hasError("min")?8:-1),n(),c(9,e.control.hasError("max")?9:-1),n(),c(10,e.indicator()?10:-1));},dependencies:[E,A,k,ce,re,ie,oe,_e,Z,me,le,Pe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let r=t;return r;})();var Ue=(()=>{let t=class t extends ge{constructor(i,o,e,m){super(e),this.mlabService=i,this.fb=o,this.dialog=e,this.data=m,this.form=o.group({description:[m?.description,[L.maxLength(4096)]],testClassId:[m?.testClassId,[L.required]],unitId:[m?.unitId,[]],multiplier:[m?.multiplier,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceValues.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceValues.create(this.form.value)));}};t.ɵfac=function(o){return new(o||t)(s(p),s(K),s(fe),s(Me));},t.ɵcmp=u({type:t,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[T([]),h,P],decls:8,vars:3,consts:()=>{let i;i="\u0645\u0636\u0627\u0639\u0641";let o;return o="\u0627\u0644\u0648\u0635\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId"],["formControlName","unitId"],["formControlName","multiplier","label",i],["formControlName","description","label",o],[3,"actions"]];},template:function(o,e){o&1&&(_(0,"sz-ui-dialog-header",0),a(1,"mat-dialog-content")(2,"form",1),_(3,"medisy-form-field-test-class",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-textarea",5),l()(),_(7,"sz-ui-dialog-actions",6)),o&2&&(d("header",e.header),n(2),d("formGroup",e.form),n(5),d("actions",e.actions));},dependencies:[E,H,A,w,q,J,R,Ce,ne,Fe,D,Oe,he,ue,pe,Se,ze,ye],encapsulation:2});let r=t;return r;})();var $e=(()=>{let t=class t{constructor(i,o){this.dialog=i,this.mlabService=o,this.title=C.referenceValues,this.dataSource=new Re(),this.dataSource.addRows(Ae.default([I.hyperlink("testClass.name",C.testClass,e=>e.id),I.text("unit",C.unit,e=>e.multiplier?`10^${e.multiplier.toExponential(0).split("e").map(m=>Number(m))[1]}/${e.unit?.abbreviation}`:e.unit?.abbreviation),be.createdAt(),I.menu([z.edit(e=>this.openSaveComponent(e)),z.delete(e=>this.openReferenceValueDeleteComponent(e))])])),this.get();}openSaveComponent(i){this.dialog.open(Ue,{data:i}).afterClosed().pipe(S(1)).subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openReferenceValueDeleteComponent(i){this.dialog.open(Ne,{data:Te.delete(this.mlabService.referenceValues.delete(i.id),i)}).afterClosed().pipe(S(1)).subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.referenceValues.get(this.dataSource.buildRequest()).pipe(F(this.dataSource.indicator),S(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};t.ɵfac=function(o){return new(o||t)(s(Ee),s(p));},t.ɵcmp=u({type:t,selectors:[["medisy-laboratory-reference-values"]],decls:6,vars:4,consts:()=>{let i;return i="\u0625\u0636\u0627\u0641\u0629",[[3,"title"],[3,"dataSource","changed"],["mat-flat-button","","color","primary","start","",3,"click"],i,[3,"stateEnabled","dataSource","update"]];},template:function(o,e){o&1&&(_(0,"sz-ui-header-info",0),a(1,"sz-ui-table-search-filter",1),M("changed",function(){return e.get();}),a(2,"button",2),M("click",function(){return e.openSaveComponent();}),a(3,"span"),f(4,3),l()()(),a(5,"sz-ui-table",4),M("update",function(){return e.get();}),l()),o&2&&(d("title",e.title),n(),d("dataSource",e.dataSource),n(4),d("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[ee,v,De,ve],encapsulation:2});let r=t;return r;})();var Ve=[{path:"",component:$e}];var ni=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=x({type:t}),t.ɵinj=Y({providers:[p],imports:[Q,E,W.forChild(Ve),R,ae,te,v,Ie,D]});let r=t;return r;})();export{ni as ReferenceValuesModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/