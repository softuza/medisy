"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[400],{6400:(C,m,e)=>{e.r(m),e.d(m,{AnalysisModule:()=>x});var o=e(6814),p=e(2296),r=e(5195),a=e(7700),i=e(6385),A=e(617),S=e(7988),T=e(8525),g=e(8109),Y=e(465),M=e(5738),v=e(758),$=e(2595),D=e(2169),L=e(5041),P=e(3572),t=e(5879),E=e(2191),f=e(9060),d=(()=>((d=d||{}).Created="Created",d.Pending="Pending",d.Started="Started",d.Finished="Finished",d))();let h=(()=>{class s{transform(n){switch(n){case d.Created:return "Created";case d.Started:return "Started";case d.Finished:return "Finished";case d.Pending:return "Pending";default:return""}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275pipe=t.Yjl({name:"testStateI18n",type:s,pure:!0,standalone:!0}),s})();var N=e(5348),z=e(9598),U=e(8721),I=e(8180),R=e(6273),_=e(2516),Z=e(5850);function F(s,c){1&s&&t._UZ(0,"sz-ui-card",13),2&s&&t.Q6J("card",c.$implicit)}const B=[{path:"",component:(()=>{class s{constructor(n,l,u,J,K,O){this.dialog=n,this.route=l,this.analysisService=u,this.personService=J,this.personNamePipe=K,this.testStatei18nPipe=O,this.alert$=(0,t.tdS)(void 0),this.testsDataSource=new P.b2(z.J.pagedSorted("-createdAt")),this.cards=[{counter:0,url:"samples",icon:"science",subtitle:"\u0639\u064A\u0646\u0627\u062A"}],this.analysis=this.route.snapshot.data.analysis,this.analysis.personId&&this.getPerson(),this.testsDataSource.columns=[P.UC.text("test.testclass","\u0635\u0646\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",y=>y.test.testClass.name),P.UC.text("test.state","State",y=>O.transform(y.test.state)),E.h.createdAt(),E.h.menu([])],this.getAnalysisTests()}getPerson(){this.personService.getPerson(this.analysis.personId).pipe((0,I.q)(1)).subscribe(n=>{this.cards.splice(0,0,{subtitle:"\u0627\u0644\u0634\u062E\u0635",icon:"person",title:this.personNamePipe.transform(n),url:`mppl/persons/${n.id}`})})}openEditComponent(){}getAnalysisTests(){this.analysisService.getAnalysisTests(this.analysis.id,this.testsDataSource.filterModel).pipe((0,U.sU)(this.testsDataSource.indicator)).pipe((0,I.q)(1)).subscribe(n=>{this.testsDataSource.set(n.items,n.count)})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(a.uw),t.Y36(g.gz),t.Y36(M.K),t.Y36(N.R),t.Y36(f.Y),t.Y36(h))},s.\u0275cmp=t.Xpm({type:s,selectors:[["medisy-laboratory-analysis"]],features:[t._Bn([M.K,N.R,f.Y,h])],decls:29,vars:7,consts:function(){let c,n,l;return c="\u062A\u0639\u062F\u064A\u0644",n="\u0637\u0628\u0627\u0639\u0629",l="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],c,n,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-2","tw-py-2"],[3,"card",4,"ngFor","ngForOf"],l,[1,"tw-flex","tw-flex-col","tw-gap-2"],[3,"paginationEnabled","stateEnabled","dataSource","update"],[3,"card"]]},template:function(n,l){if(1&n&&(t.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),t._uU(3),t.qZA(),t.TgZ(4,"span",2),t._uU(5),t.qZA()(),t.TgZ(6,"button",3)(7,"mat-icon"),t._uU(8,"more_vert"),t.qZA()(),t.TgZ(9,"mat-menu",null,4)(11,"button",5),t.NdJ("click",function(){return l.openEditComponent()}),t.TgZ(12,"mat-icon"),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"span"),t.SDv(15,6),t.qZA()(),t._UZ(16,"mat-divider"),t.TgZ(17,"button",5),t.NdJ("click",function(){return l.openEditComponent()}),t.TgZ(18,"mat-icon"),t._uU(19,"print"),t.qZA(),t.TgZ(20,"span"),t.SDv(21,7),t.qZA()()()(),t.TgZ(22,"div",8),t.YNc(23,F,1,1,"sz-ui-card",9),t.qZA(),t.TgZ(24,"sz-ui-header-basic")(25,"span",0),t.SDv(26,10),t.qZA()(),t.TgZ(27,"div",11)(28,"sz-ui-table",12),t.NdJ("update",function(){return l.getAnalysisTests()}),t.qZA()()),2&n){const u=t.MAs(10);t.xp6(3),t.Oqu(l.analysis.code),t.xp6(2),t.Oqu(l.analysis.note),t.xp6(1),t.Q6J("matMenuTriggerFor",u),t.xp6(17),t.Q6J("ngForOf",l.cards),t.xp6(5),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",l.testsDataSource)}},dependencies:[o.sg,S.VK,S.OP,S.p6,A.Hw,p.RK,R.K,_.z,i.d,Z.X],encapsulation:2}),s})()}];let x=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[M.K],imports:[o.ez,g.Bz.forChild(B),a.Is,v.E3,S.Tx,A.Ps,p.ot,T.LD,r.QW,P.Vn,L.n,i.t,D.c,$.V,Y.L]}),s})()},2191:(C,m,e)=>{e.d(m,{h:()=>p});var o=e(3572);class p{static menu(a){return o.UC.action("menu",a)}static code(){return o.UC.text("code","\u0627\u0644\u0631\u0645\u0632")}static createdAt(){return o.UC.date("createdAt","\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u0634\u0627\u0621")}static updatedAt(){return o.UC.date("updatedAt","\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062D\u062F\u064A\u062B")}static id(){return o.UC.text("id","\u0627\u0644\u0645\u0639\u0631\u0641")}static nameHyperlink(a,i,A){return o.UC.hyperlink("name","\u0627\u0644\u0627\u0633\u0645",a,i,A)}static nameText(a){return o.UC.text("name","\u0627\u0644\u0627\u0633\u0645",a)}static phoneType(a){return o.UC.text("phoneType","\u0646\u0648\u0639 \u0627\u0644\u0647\u0627\u062A\u0641",a)}static emailType(a){return o.UC.text("emailType","\u0646\u0648\u0639 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",a)}static documentType(a){return o.UC.text("documentType","\u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",a)}static comparisonOperator(a){return o.UC.text("comparisonOperator","\u0627\u0644\u0639\u0645\u0644\u064A\u0629",a)}}},465:(C,m,e)=>{e.d(m,{L:()=>p});var o=e(5879);let p=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})()},9060:(C,m,e)=>{e.d(m,{Y:()=>p});var o=e(5879);let p=(()=>{class r{transform(i,A=!1){if(!i.names||0===i.names.length)return`${i.id}`;const S=i.names[0].firstName,T=i.names[0].lastName,g=T?`${S} ${T}`:`${S}`;return A&&i.birthDate?""+(+new Date-+i.birthDate):g}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275pipe=o.Yjl({name:"personName",type:r,pure:!0,standalone:!0}),r})()}}]);