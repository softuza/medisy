import{b as ge}from"./chunk-5D7OMFN2.js";import{a as F}from"./chunk-2ZLUHTYM.js";import{b as Se,c as ue,e as fe,g as Me,i as Te,s as Ee,t as Ce}from"./chunk-JH62Z3XX.js";import{a as C}from"./chunk-SUUMCV2R.js";import{c as I,h as me,i as pe,j as le,l as de,m as ce,n as _e}from"./chunk-TXP6BBJB.js";import{a as ie,b as oe,d as re,e as ne,g as ae}from"./chunk-BVSJJDLC.js";import{A as te,a as V,b as J,h as K,p as Z,z as ee}from"./chunk-GXEPFKEQ.js";import{d as G,f as L,g as O,h as Y,l as $,m as x,n as U,o as j,p as B,s as v}from"./chunk-2OZGA6L4.js";import"./chunk-KMOC5U6F.js";import{a as T}from"./chunk-BKRW4NXC.js";import{b as se}from"./chunk-SNKHLPW5.js";import"./chunk-NPNC7T5G.js";import"./chunk-3LBYHEZ3.js";import{a as H,e as X,f as Q,g as W}from"./chunk-KIPWFCJ2.js";import{i as D}from"./chunk-Y2P4J75K.js";import"./chunk-5XV2VVI7.js";import"./chunk-E52CL7TM.js";import{Ka as k,Pa as w,Ra as q}from"./chunk-KZIHA7KF.js";import{$b as P,Bb as a,Cb as m,Db as d,L as _,Nb as u,Rb as f,Tb as N,Yb as y,Zb as b,cb as n,cc as M,db as p,kb as h,la as S,nb as l,tb as E,ub as c,wb as A,xb as z,yb as R}from"./chunk-6MBKLWBV.js";function Ie(r,o){if(r&1&&(a(0,"mat-label"),y(1),m()),r&2){let g=N();n(1),b(g.label);}}function Ne(r,o){r&1&&(a(0,"mat-option"),y(1,"-"),m());}function be(r,o){if(r&1&&(a(0,"mat-option",3),y(1),m()),r&2){let g=o.$implicit,e=N();l("value",e.getOptionValue(g)),n(1),b(e.getOptionContent(g));}}function De(r,o){r&1&&(a(0,"mat-error"),u(1,4),m());}function Fe(r,o){r&1&&(a(0,"mat-error"),u(1,5),m());}function Ae(r,o){r&1&&(a(0,"mat-error"),u(1,6),m());}function ze(r,o){r&1&&d(0,"mat-progress-bar",2);}var Pe=(()=>{let o=class o extends Z{constructor(e,i){super(e),this.ngControl=e,this.mlabService=i,this.label=C.specimenType;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.specimenTypes.get({pageSize:this.pageSize,pageIndex:this.pageIndex,sortBy:"name"}).pipe(I(this.indicator),_(1)).subscribe(e=>{this.totalPages=e.totalPages,this.options=e.items;});}};o.ɵfac=function(i){return new(i||o)(p(L,10),p(T));},o.ɵcmp=S({type:o,selectors:[["medisy-form-field-specimen-type"]],standalone:!0,features:[P([]),h,M],decls:11,vars:10,consts:()=>{let e;e="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u064A\u0633 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644";let t;return t="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[2,"position","relative"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],e,i,t];},template:function(i,t){i&1&&(a(0,"div",0)(1,"mat-form-field"),E(2,Ie,2,1,"mat-label"),a(3,"mat-select",1),f("szScrolled",function(){return t.scroll();}),E(4,Ne,2,0,"mat-option"),z(5,be,2,2,"mat-option",3,A),m(),E(7,De,2,0,"mat-error")(8,Fe,2,0,"mat-error")(9,Ae,2,0,"mat-error"),m(),E(10,ze,1,0,"mat-progress-bar",2),m()),i&2&&(n(2),c(2,t.label?2:-1),n(1),l("formControl",t.control)("multiple",t.multiple)("placeholder",t.placeholder)("szScrollIgnored",t.indicator()),n(1),c(4,t.emptyOption?4:-1),R(5,t.options),n(3),c(7,t.control.hasError("required")?7:-1),n(1),c(8,t.control.hasError("min")?8:-1),n(1),c(9,t.control.hasError("max")?9:-1),n(1),c(10,t.indicator()?10:-1));},dependencies:[v,O,x,te,K,V,J,ee,k,W,Q,ge],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let r=o;return r;})();var Oe=(()=>{let o=class o extends me{constructor(e,i,t,s){super(t),this.mlabService=e,this.fb=i,this.dialog=t,this.data=s,this.form=i.group({specimenTypeId:[s.testGroupSpecimenType?.specimenTypeId,[G.required]]});}submit(){this.IsValid()&&(this.data.testGroupSpecimenType?this.save(this.mlabService.testGroups.specimenTypes.update(this.data.testGroupId,this.data.testGroupSpecimenType?.id,this.form.value)):this.save(this.mlabService.testGroups.specimenTypes.create(this.data.testGroupId,this.form.value)));}};o.ɵfac=function(i){return new(i||o)(p(T),p(B),p(ie),p(oe));},o.ɵcmp=S({type:o,selectors:[["medisy-test-group-specimen-types-save"]],standalone:!0,features:[P([]),h,M],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","specimenTypeId"],[3,"actions"]],template:function(i,t){i&1&&(d(0,"sz-ui-dialog-header",0),a(1,"mat-dialog-content")(2,"form",1),d(3,"medisy-form-field-specimen-type",2),m()(),d(4,"sz-ui-dialog-actions",3)),i&2&&(l("header",t.header),n(2),l("formGroup",t.form),n(2),l("actions",t.actions));},dependencies:[v,$,O,Y,U,j,ae,ne,Te,ce,pe,le,Pe],encapsulation:2});let r=o;return r;})();var It=(()=>{let o=class o{constructor(e,i,t){this.dialog=e,this.mlabService=i,this.route=t,this.title=C.specimenTypes,this.dataSource=new fe(),this.testGroup=this.route.snapshot.data.testGroup,this.dataSource.addRows(ue.default([Se.text("specimenType",C.specimenType,s=>s.specimenType.name),F.createdAt(),F.menu([D.edit(s=>this.openSaveComponent(s)),D.delete(s=>this.openTestTypeSpecimenTypeDeleteComponent(s))])])),this.get();}openSaveComponent(e){this.dialog.open(Oe,{data:{testGroupId:this.testGroup.id,testGroupSpecimenType:e}}).afterClosed().pipe(_(1)).subscribe(i=>{this.dataSource.addOrUpdateItem(i);});}openTestTypeSpecimenTypeDeleteComponent(e){this.dialog.open(de,{data:_e.delete(this.mlabService.testGroups.specimenTypes.delete(e.testGroupId,e.id),e)}).afterClosed().pipe(_(1)).subscribe(i=>{this.dataSource.delete(i);});}updateItem(e){this.mlabService.testGroups.specimenTypes.update(e.testGroupId,e.id,e).subscribe(i=>{this.dataSource.update(i);});}get(){this.mlabService.testGroups.specimenTypes.get(this.testGroup.id,this.dataSource.filter,this.dataSource.pagination).pipe(I(this.dataSource.indicator),_(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};o.ɵfac=function(i){return new(i||o)(p(re),p(T),p(H));},o.ɵcmp=S({type:o,selectors:[["medisy-laboratory-test-group-specimen-types"]],standalone:!0,features:[M],decls:6,vars:5,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[[3,"title","subTitle"],[3,"filter","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(i,t){i&1&&(d(0,"sz-ui-header-info",0),a(1,"sz-ui-table-filter",1),f("search",function(){return t.get();}),a(2,"button",2),f("click",function(){return t.openSaveComponent();}),a(3,"span"),u(4,3),m()()(),a(5,"sz-ui-table",4),f("update",function(){return t.get();}),m()),i&2&&(l("title",t.title)("subTitle",t.testGroup.name),n(1),l("filter",t.dataSource.filter),n(4),l("stateEnabled",!0)("dataSource",t.dataSource));},dependencies:[X,q,w,Ce,Ee,Me,se],encapsulation:2});let r=o;return r;})();export{It as TestGroupSpecimenTypesComponent};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/