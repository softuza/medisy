import{a as oe}from"./chunk-WY5CXT5Y.js";import"./chunk-AZPHA75M.js";import{a as M}from"./chunk-APQYB4PN.js";import{b as E,c as Q,e as W,g as Z,h as ee,i as te,s as ie,t as se}from"./chunk-2QM5MHPY.js";import{c as U,h as X,i as q,j as H,l as x,m as J,n as K}from"./chunk-IYZKMGKL.js";import{a as G,b as j,d as k,e as B,g as V}from"./chunk-ZGNAWKHW.js";import"./chunk-DFAY52UJ.js";import{d as A,g as I,h as D,l as O,n as P,o as N,p as z,s as R}from"./chunk-N56VCROX.js";import{a as C}from"./chunk-6SZAHQ7N.js";import{a as f}from"./chunk-KMYBK3UO.js";import{b as w}from"./chunk-P6DDCQCI.js";import"./chunk-NJ7DKY7A.js";import{a as L,e as F}from"./chunk-W5YC4BSW.js";import{i as y}from"./chunk-LA45AZ3O.js";import"./chunk-GAA223RS.js";import"./chunk-UXQNJ32W.js";import{Pa as Y,Ra as $}from"./chunk-AZJBQUGA.js";import{Bb as l,Cb as m,Db as p,L as S,Nb as c,Pb as T,Zb as b,ac as _,bc as v,cb as d,cc as g,db as r,kb as h,la as u,nb as n}from"./chunk-7AORQD44.js";var pe=()=>[],me=a=>[a],ae=(()=>{let s=class s extends X{constructor(e,t,i,o){super(i),this.mlabService=e,this.fb=t,this.dialog=i,this.data=o,this.form=t.group({testClassId:[o.testTypeTestClass?.testClassId,[A.required]],enabled:[o.testTypeTestClass?.enabled??!0,[]]});}submit(){this.IsValid()&&(this.data.testTypeTestClass?this.save(this.mlabService.testTypes.testClasses.update(this.data.testTypeId,this.data.testTypeTestClass?.id,this.form.value)):this.save(this.mlabService.testTypes.testClasses.create(this.data.testTypeId,this.form.value)));}};s.ɵfac=function(t){return new(t||s)(r(f),r(z),r(G),r(j));},s.ɵcmp=u({type:s,selectors:[["medisy-test-type-test-classes-save"]],standalone:!0,features:[b([]),h,_],decls:7,vars:7,consts:()=>{let e;return e="\u0645\u0641\u0639\u0644",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId",3,"excludeTestTypeIds"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,i){t&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-test-class",2),l(4,"mat-checkbox",3),c(5,4),m()()(),p(6,"sz-ui-dialog-actions",5)),t&2&&(n("header",i.header),d(2),n("formGroup",i.form),d(1),n("excludeTestTypeIds",i.data.testTypeTestClass?v(4,pe):g(5,me,i.data.testTypeId)),d(3),n("actions",i.actions));},dependencies:[R,O,I,D,P,N,V,B,te,ee,J,q,H,oe],encapsulation:2});let a=s;return a;})();var Ue=(()=>{let s=class s{constructor(e,t,i){this.dialog=e,this.mlabService=t,this.route=i,this.title=C.testClasses,this.dataSource=new W(),this.testType=this.route.snapshot.data.testType,this.dataSource.addRows(Q.default([E.text("testClass.name",C.testClass),M.createdAt(),E.checkbox("enabled",C.enabled,(o,re)=>{o.enabled=re,this.updateItem(o);}),M.menu([y.edit(o=>this.openSaveComponent(o)),y.delete(o=>this.openTestTypeTestClassDeleteComponent(o))])])),this.get();}openSaveComponent(e){this.dialog.open(ae,{data:{testTypeId:this.testType.id,testTypeTestClass:e}}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeTestClassDeleteComponent(e){this.dialog.open(x,{data:K.delete(this.mlabService.testTypes.testClasses.delete(e.testTypeId,e.id),e)}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.testTypes.testClasses.update(e.testTypeId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testTypes.testClasses.get(this.testType.id,this.dataSource.buildRequest()).pipe(U(this.dataSource.indicator),S(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};s.ɵfac=function(t){return new(t||s)(r(k),r(f),r(L));},s.ɵcmp=u({type:s,selectors:[["medisy-laboratory-test-type-test-classes"]],standalone:!0,features:[_],decls:6,vars:5,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[[3,"title","subTitle"],[3,"filter","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(t,i){t&1&&(p(0,"sz-ui-header-info",0),l(1,"sz-ui-table-filter",1),T("search",function(){return i.get();}),l(2,"button",2),T("click",function(){return i.openSaveComponent();}),l(3,"span"),c(4,3),m()()(),l(5,"sz-ui-table",4),T("update",function(){return i.get();}),m()),t&2&&(n("title",i.title)("subTitle",i.testType.name),d(1),n("filter",i.dataSource.filter),d(4),n("stateEnabled",!0)("dataSource",i.dataSource));},dependencies:[F,$,Y,se,ie,Z,w],encapsulation:2});let a=s;return a;})();export{Ue as TestTypeTestClassesComponent};/**i18n:ca0c0aaef853f716736db0c306cb0b403cbd4c4309f5c41e82b4683f77b810d2*/