import{a as h}from"./chunk-Y42CD33T.js";import{a as b}from"./chunk-TCMBJWZP.js";import{a as Ce,b as Me,c as Ae}from"./chunk-CW3SQ7JL.js";import{a as T}from"./chunk-MGSS7ONV.js";import"./chunk-KFTYWZQE.js";import"./chunk-GMJD7MXE.js";import"./chunk-YEWZR5QC.js";import"./chunk-NWMZILRB.js";import"./chunk-DC3G4WUL.js";import{a as pe}from"./chunk-AABLPW5Z.js";import{b as Se,f as _e}from"./chunk-6UMM3PDX.js";import"./chunk-SXC7E5DA.js";import{a as E}from"./chunk-ZY4XQPKW.js";import"./chunk-TKL2WJHN.js";import"./chunk-IG43O4AO.js";import"./chunk-JLCGW5QA.js";import{e as ye}from"./chunk-6VCUWWGR.js";import"./chunk-ZEA7LBAJ.js";import"./chunk-GBHLPDM7.js";import"./chunk-5RQQJWK2.js";import{a as s}from"./chunk-Z2R2E2EV.js";import{e as de,f as ce,g as fe,j as ue}from"./chunk-Z6XAMBDG.js";import"./chunk-BJ3HU3CV.js";import{a as v}from"./chunk-IDGEHIH2.js";import{e as D,f as me,h as L,j as le}from"./chunk-UNERZP36.js";import{a as ee,b as te,d as oe,e as ie,g as A}from"./chunk-HGSCT6LZ.js";import"./chunk-PONDJRDE.js";import{c as ae,t as se}from"./chunk-SJKZH3VH.js";import{b as I}from"./chunk-GUTHGVCZ.js";import{a as N}from"./chunk-IIV3DNC7.js";import"./chunk-NI2WGS4X.js";import{c as g}from"./chunk-FQY32KUQ.js";import"./chunk-NVTGHHY5.js";import{f as U,g as V,k as X,m as w,p as k,q as W,t as q}from"./chunk-AVUSO23W.js";import"./chunk-XYATSLBH.js";import{a as H,c as Q,e as J}from"./chunk-CZU2XDE5.js";import"./chunk-MDQAOQVI.js";import{ga as K,ha as Z,ja as ne,ka as re}from"./chunk-OIJJQZIK.js";import{o as x}from"./chunk-MBD4P57N.js";import{Ab as _,Bb as y,Db as a,Ib as P,Nb as l,Ob as p,Pb as m,_b as $,a as O,ac as C,b as z,hb as d,ib as r,jc as j,ka as R,pc as M,qc as G,tb as F,ua as S,ub as Y,va as B,zb as u}from"./chunk-PL4V4ZV4.js";var ge=(()=>{let e=class e extends de{constructor(t,o,n,f){super(n),this.mlabService=t,this.fb=o,this.dialog=n,this.data=f,this.form=o.group({note:[f?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,z(O({},this.data),{note:this.form.value.note})));}};e.ɵfac=function(o){return new(o||e)(r(s),r(W),r(ee),r(te));},e.ɵcmp=S({type:e,selectors:[["sz-medisy-laboratory-analysis-save"]],standalone:!0,features:[M([s]),Y,G],decls:5,vars:5,consts:()=>{let t;return t="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",t],[3,"actions"]];},template:function(o,n){o&1&&(m(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),m(3,"sz-ui-form-field-input",2),p()(),m(4,"sz-ui-dialog-actions",3)),o&2&&(a("title",n.title)("subtitle",n.subtitle)("alert",n.alert()),d(2),a("formGroup",n.form),d(2),a("actions",n.actions));},dependencies:[q,X,U,V,w,k,A,ie,ue,ce,fe,se,ae],encapsulation:2});let i=e;return i;})();var be=()=>[E],Ne=()=>[b],De=()=>[T];function Le(i,e){if(i&1&&m(0,"sz-medisy-people-person-card",7),i&2){let c=C(2);a("personId",c.analysis.personId);}}function Oe(i,e){i&1&&(u(0,Le,1,1),_(1,0,De),y());}function ze(i,e){if(i&1&&m(0,"sz-medisy-laboratory-analysis-tests",8),i&2){let c=C();a("analysis",c.analysis);}}function Re(i,e){if(i&1&&m(0,"sz-medisy-laboratory-analysis-specimens",8),i&2){let c=C();a("analysis",c.analysis);}}var he=(()=>{let e=class e{constructor(t,o,n,f,ve){this.dialog=t,this.route=o,this.router=n,this.mlabService=f,this.srptService=ve,this.alert=F(void 0),this.tiles=[],this.analysisMenu=le.more([L.edit(()=>this.openSaveComponent()),D.divider(),L.print(()=>this.opendPrintComponent()),D.item(g.publish,"publish",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(ge,{data:this.analysis}).afterClosed().subscribe(t=>{t&&(this.analysis=t);});}opendPrintComponent(){let t=this.analysis.laboratory.analysisTemplateId;if(!t){this.alert.set({type:N.Error,message:g.analysis_template_not_found,timeout:5e3});return;}this.srptService.templates.getById(t).subscribe(o=>{if(!o){this.alert.set({type:N.Error,message:g.analysis_template_not_found,timeout:5e3});return;}console.log(o);});}openPublishComponent(){}openBarcodeWriterComponent(){this.dialog.open(_e,{data:{format:Se.QR_CODE,msg:`analysisid.${this.analysis.id}`}}).afterClosed().subscribe({});}};e.ɵfac=function(o){return new(o||e)(r(oe),r(H),r(Q),r(s),r(h));},e.ɵcmp=S({type:e,selectors:[["sz-medisy-laboratory-analysis"]],features:[M([s,h])],decls:16,vars:5,consts:()=>{let t;t="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let o;return o="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[[3,"title","subtitle","menu"],["end","","mat-icon-button","",3,"click"],[3,"alert"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",t],["label",o],[3,"personId"],[3,"analysis"]];},template:function(o,n){o&1&&(l(0,"sz-ui-app-bar",0)(1,"button",1),$("click",function(){return n.openBarcodeWriterComponent();}),l(2,"mat-icon"),j(3,"qr_code"),p()()(),m(4,"sz-ui-alert",2),l(5,"div",3),u(6,Oe,3,0),p(),l(7,"mat-tab-group",4)(8,"mat-tab",5),u(9,ze,1,1),_(10,9,be),y(),p(),l(12,"mat-tab",6),u(13,Re,1,1),_(14,13,Ne),y(),p()()),o&2&&(a("title",n.analysis.code)("subtitle",n.analysis.note)("menu",n.analysisMenu),d(4),a("alert",n.alert()),d(2),P(6,n.analysis.personId?6:-1));},dependencies:[K,ne,Ce,Me,v,I],encapsulation:2});let i=e;return i;})();var Lt=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=B({type:e}),e.ɵinj=R({providers:[s],imports:[x,J.forChild([{path:"",component:he},{path:"tests",loadComponent:()=>import("./chunk-WDZF5ZFT.js").then(t=>t.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-U6P5OZGE.js").then(t=>t.AnalysisSpecimensComponent)}]),A,Z,re,ye,Ae,v,I,pe,me,E,b,T]});let i=e;return i;})();export{he as AnalysisComponent,Lt as AnalysisModule};/**i18n:64c1f5f06e8abd83b3efaf45f531fe6f5f4be479271361a7171a066aafa7d48d*/