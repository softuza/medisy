import{a as Ae,b as Ie,c as ve}from"./chunk-52RHL6I7.js";import{a as z}from"./chunk-FB6QN2JG.js";import{a as O,c as ye,d as ge}from"./chunk-BAEOXE7Y.js";import"./chunk-DTFUQI5B.js";import"./chunk-MZELHHAN.js";import"./chunk-5YI3XC3F.js";import{a as Se}from"./chunk-BFBST3LG.js";import"./chunk-LH5LWYTE.js";import{a as _e}from"./chunk-ZDT7VIUG.js";import"./chunk-5MJY3UW5.js";import{a as b}from"./chunk-X4B77CAE.js";import"./chunk-UCKTAF4Z.js";import"./chunk-LPUFOB3Q.js";import"./chunk-6RXJAO3W.js";import{e as Ce}from"./chunk-HMMMSDDX.js";import"./chunk-NE2FJIGN.js";import"./chunk-PBJGFLAZ.js";import{a as p}from"./chunk-FEIGBXGY.js";import{d as he,f as Me,g as L,h as N,k as R}from"./chunk-ZHOHM3UU.js";import"./chunk-6AQETCEY.js";import"./chunk-PR3Q27H6.js";import{b as T}from"./chunk-OSERNDEW.js";import{g as h,h as fe,i as ce,j as $,l as ue}from"./chunk-ZOSUD6WZ.js";import{a as v,b as D,d as me,e as E,g as S}from"./chunk-LR6GUTIR.js";import{c as le,t as de}from"./chunk-DE36WCIK.js";import"./chunk-4DTXIELG.js";import{a as w}from"./chunk-T5CCQ3IG.js";import"./chunk-ALHR4HEP.js";import{c as P}from"./chunk-TG74CNA3.js";import"./chunk-E4SPABR5.js";import{f as K,g as ee,k as te,m as ie,p as oe,q as A,t as I}from"./chunk-LVJI6PBQ.js";import"./chunk-IYBV62C4.js";import{a as ne,c as re,e as ae}from"./chunk-576WN54X.js";import"./chunk-SNIA324J.js";import{c as pe}from"./chunk-42MYF47R.js";import{ia as se}from"./chunk-5MDONEI4.js";import{o as J}from"./chunk-6TGWOZSV.js";import{Cb as X,Hb as l,Ib as d,Jb as a,O as F,Xb as q,a as G,b as x,cc as W,dc as k,ea as Y,eb as U,ec as Z,f as Q,ha as V,ib as f,jb as r,jc as u,mc as g,pa as B,qa as c,qb as M,ra as H,tb as _,ub as C,vb as y,xb as m}from"./chunk-OHUDUA2T.js";var Fe=["container"],Ee=(()=>{let e=class e extends he{constructor(n,t,o){super(t),this.fb=n,this.dialog=t,this.data=o,this.minHeight=Y(200),this.minWidth=Y(200),this.quietZoneSize=4;}ngAfterViewInit(){this.generate();}generate(){return Q(this,null,function*(){this.containerElement||this.alert.set({message:"Container not found",type:w.Error,timeout:5e3});let n=this.containerElement.nativeElement.offsetWidth,t=this.containerElement.nativeElement.offsetHeight;console.log(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"));try{let o=ge.datamatrix("Your message here",!1),s=ye.toSVG(o,{dimension:256,padding:2,foreground:"#000000",background:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#f2f4f8":void 0,verbose:!1});this.containerElement.nativeElement.appendChild(s);}catch(o){let s=o.message||"Error generating QR code";this.alert.set({message:s,type:w.Error,timeout:5e3});}});}};e.ɵfac=function(t){return new(t||e)(r(A),r(v),r(D));},e.ɵcmp=c({type:e,selectors:[["sz-medisy-laboratory-analysis-qr"]],viewQuery:function(t,o){if(t&1&&W(Fe,5),t&2){let s;k(s=Z())&&(o.containerElement=s.first);}},inputs:{minHeight:[B.SignalBased,"minHeight"],minWidth:[B.SignalBased,"minWidth"]},standalone:!0,features:[u([]),M,g],decls:5,vars:2,consts:[[3,"header"],["container",""],[3,"actions"]],template:function(t,o){t&1&&(a(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content"),a(2,"div",null,1),d(),a(4,"sz-ui-dialog-actions",2)),t&2&&(m("header",o.header),f(4),m("actions",o.actions));},dependencies:[I,S,E,R,L,N],encapsulation:2});let i=e;return i;})();var Te=(()=>{let e=class e extends Me{constructor(n,t,o,s){super(o),this.mlabService=n,this.fb=t,this.dialog=o,this.data=s,this.form=t.group({note:[s?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,x(G({},this.data),{note:this.form.value.note})));}};e.ɵfac=function(t){return new(t||e)(r(p),r(A),r(v),r(D));},e.ɵcmp=c({type:e,selectors:[["sz-medisy-laboratory-analysis-save"]],standalone:!0,features:[u([p]),M,g],decls:5,vars:3,consts:()=>{let n;return n="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",n],[3,"actions"]];},template:function(t,o){t&1&&(a(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),a(3,"sz-ui-form-field-input",2),d()(),a(4,"sz-ui-dialog-actions",3)),t&2&&(m("header",o.header),f(2),m("formGroup",o.form),f(2),m("actions",o.actions));},dependencies:[I,te,K,ee,ie,oe,S,E,R,L,N,de,le],encapsulation:2});let i=e;return i;})();var Be=()=>[b],we=()=>[z],Pe=()=>[O];function $e(i,e){if(i&1&&a(0,"sz-medisy-people-person-card",5),i&2){let Re=q(2);m("personId",Re.analysis.personId);}}function je(i,e){i&1&&(_(0,$e,1,1),C(1,0,Pe),y());}function Ge(i,e){i&1&&a(0,"sz-medisy-laboratory-analysis-tests");}function xe(i,e){i&1&&a(0,"sz-medisy-laboratory-analysis-specimens");}var Le=(()=>{let e=class e{constructor(n,t,o,s){this.dialog=n,this.route=t,this.router=o,this.mlabService=s,this.alert$=U(void 0),this.tiles=[],this.analysisMenu=ue.more([$.edit(()=>this.openSaveComponent()),h.divider(),$.print(()=>this.opendPrintComponent),h.item(P.publish,"publish",this.openPublishComponent),h.divider(),h.item(P.qr,ce.qr,()=>this.openQRCodeComponent())]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(Te,{data:this.analysis}).afterClosed().pipe(F(1)).subscribe(n=>{n&&(this.analysis=n);});}opendPrintComponent(){}openPublishComponent(){}openQRCodeComponent(){this.dialog.open(Ee,{data:this.analysis}).afterClosed().pipe(F(1)).subscribe({});}};e.ɵfac=function(t){return new(t||e)(r(me),r(ne),r(re),r(p));},e.ɵcmp=c({type:e,selectors:[["sz-medisy-laboratory-analysis"]],features:[u([p,Se])],decls:12,vars:4,consts:()=>{let n;n="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let t;return t="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[[3,"title","subtitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",n],["label",t],[3,"personId"]];},template:function(t,o){t&1&&(a(0,"sz-ui-header-info",0),l(1,"div",1),_(2,je,3,0),d(),l(3,"mat-tab-group",2)(4,"mat-tab",3),_(5,Ge,1,0),C(6,5,Be),y(),d(),l(8,"mat-tab",4),_(9,xe,1,0),C(10,9,we),y(),d()()),t&2&&(m("title",o.analysis.code)("subtitle",o.analysis.note)("menu",o.analysisMenu),f(2),X(2,o.analysis.personId?2:-1));},dependencies:[Ae,Ie,T],encapsulation:2});let i=e;return i;})();var Ne=[{path:"",component:Le},{path:"tests",loadComponent:()=>import("./chunk-VHVQTQQZ.js").then(i=>i.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-PFHAK3ED.js").then(i=>i.AnalysisSpecimensComponent)}];var Wt=(()=>{let e=class e{};e.ɵfac=function(t){return new(t||e)();},e.ɵmod=H({type:e}),e.ɵinj=V({providers:[p],imports:[J,ae.forChild(Ne),S,se,pe,Ce,ve,T,_e,fe,b,z,O]});let i=e;return i;})();export{Le as AnalysisComponent,Wt as AnalysisModule};/**i18n:0f14478d9f76834c336477492adead1f84c567d512dc7742568a2120e6a13b69*/