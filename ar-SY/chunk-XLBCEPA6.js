import{e as W}from"./chunk-TRH4UE6P.js";import{c as n,g as R,h as Z}from"./chunk-DU4Y7FLE.js";import{b as Q}from"./chunk-SEURJQVG.js";import{g as j,h as w,i as J,l as K}from"./chunk-L6EW7EC7.js";import{a as p}from"./chunk-AE2XP4QN.js";import{a as F,b as z,e as v,g as B}from"./chunk-7FCBJZC4.js";import{c as P,p as U,q as y,r as H,s as X,t as k,v as q}from"./chunk-P43JBTCU.js";import{d as s,f as I,g as L,l as D,o as $,r as x,s as b,u as V}from"./chunk-4NWKXUVU.js";import{b as Y}from"./chunk-N35YC64D.js";import{Jb as f,Kb as E,Lb as S,Vb as O,Wb as T,bb as m,ja as l,mb as M,mc as h,na as C,nc as G,yb as _}from"./chunk-AHU4KGCP.js";function ee(i,r,u,t){let e="";return i===n.Male?e+="M ":i===n.Female?e+="F ":e+="U ",e+=`(${r}-${u}${Z(t)})`,e;}function te(i,r,u,t){let e="";return i===n.Male?e+="\u0630\u0643\u0631 ":i===n.Female?e+="\u0623\u0646\u062B\u0649 ":e+="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F ",e+=`(${r}-${u}${Y(t)})`,e;}var He=(()=>{let r=class r extends j{constructor(){super(l(F)),this.mlabService=l(p),this.fb=l(b),this.autoGenerateName=!1,this.data=l(z),this.timeUnits=Object.keys(R).map(o=>R[o]),this.sexes=Object.keys(n).map(o=>n[o]),this.sexesSelectConfig={emptyOption:!0};let t=this.fb,e=this.data;this.form=t.group({nameEn:[e?.nameEn,[s.required,s.minLength(1)]],nameAr:[e?.nameAr,[s.minLength(1)]],description:[e?.description,[]],timeUnit:[e?.timeUnit??R.Year,[s.required]],sex:t.control(e?.sex,[]),startAge:t.control(e?.startAge??0,[s.required]),endAge:t.control(e?.endAge??125,[s.required])}),this.autoGenerateName=!e,this.form.controls.sex.valueChanges.subscribe(this.generateName.bind(this)),this.form.controls.startAge.valueChanges.subscribe(this.generateName.bind(this)),this.form.controls.endAge.valueChanges.subscribe(this.generateName.bind(this)),this.form.controls.timeUnit.valueChanges.subscribe(this.generateName.bind(this));}autoGenerateNameChange(){this.autoGenerateName=!this.autoGenerateName,this.autoGenerateName&&this.generateName();}generateName(){if(!this.autoGenerateName)return;let t=this.form.getRawValue(),e=this.form.get("nameEn");e&&e.patchValue(ee(t.sex,t.startAge,t.endAge,t.timeUnit));let o=this.form.get("nameAr");o&&o.patchValue(te(t.sex,t.startAge,t.endAge,t.timeUnit));}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceGroups.create(this.form.value)));}};r.ɵfac=function(e){return new(e||r)();},r.ɵcmp=C({type:r,selectors:[["sz-medisy-laboratory-reference-groups-reference-group-save"]],standalone:!0,features:[h([p]),M,G],decls:16,vars:11,consts:()=>{let t;t="\u0627\u0644\u062C\u0646\u0633";let e;e="\u0648\u062D\u062F\u0629 \u0627\u0644\u0648\u0642\u062A";let o;o="\u0628\u062F\u0627\u064A\u0629";let A;A="\u0646\u0647\u0627\u064A\u0629";let d;d="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629";let g;g="\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629";let c;c="\u0627\u0644\u0648\u0635\u0641";let N;return N="\u062A\u0648\u0644\u064A\u062F \u0627\u0633\u0645 \u062A\u0644\u0642\u0627\u0626\u064A",[N,[3,"title","subtitle","alert"],["end",""],[3,"change","checked"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","sex","label",t,3,"source","localizedValue","config"],["formControlName","timeUnit","label",e,3,"source","localizedValue"],["formControlName","startAge","label",o],["formControlName","endAge","label",A],["formControlName","nameEn","label",d],["formControlName","nameAr","label",g],["formControlName","description","label",c],[3,"actions"]];},template:function(e,o){e&1&&(f(0,"sz-ui-dialog-header",1)(1,"div",2)(2,"mat-checkbox",3),T("change",function(){return o.autoGenerateNameChange();}),O(3,0),E()()(),f(4,"mat-dialog-content")(5,"form",4)(6,"div",5),S(7,"sz-ui-form-field-select",6)(8,"sz-ui-form-field-select",7),E(),f(9,"div",5),S(10,"sz-ui-form-field-input-number",8)(11,"sz-ui-form-field-input-number",9),E(),S(12,"sz-ui-form-field-input-text",10)(13,"sz-ui-form-field-input-text",11)(14,"sz-ui-form-field-textarea",12),E()(),S(15,"sz-ui-dialog-actions",13)),e&2&&(_("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),m(2),_("checked",o.autoGenerateName),m(3),_("formGroup",o.form),m(2),_("source",o.sexes)("localizedValue",!0)("config",o.sexesSelectConfig),m(),_("source",o.timeUnits)("localizedValue",!0),m(7),_("actions",o.actions));},dependencies:[V,D,I,L,$,x,B,v,K,w,J,q,P,U,k,X,H,y,Q,W],encapsulation:2});let i=r;return i;})();export{He as a};/**i18n:24e18a1ba83b4179a1babb1616b4d359e6a6ee94f2bda655ac6b279e5c98bb73*/