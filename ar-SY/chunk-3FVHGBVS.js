import{a as h}from"./chunk-QTW66ZUH.js";import{a as b}from"./chunk-V2BZHNP7.js";import{a as Ce,b as Me,c as Ae}from"./chunk-5P5TO2MY.js";import{a as T}from"./chunk-3QQQ46VZ.js";import"./chunk-P4X44NVA.js";import"./chunk-M3JYMMCO.js";import"./chunk-PQPLCZGC.js";import"./chunk-P5NDORKI.js";import"./chunk-PPXB7WFK.js";import{a as pe}from"./chunk-BSCYUOAV.js";import{b as Se,f as _e}from"./chunk-CE2AIYV7.js";import"./chunk-2AEGOR3Q.js";import{a as E}from"./chunk-YOP52RQW.js";import"./chunk-LBYKPEE6.js";import"./chunk-5N6A73BH.js";import"./chunk-V6MFDJU5.js";import{e as ye}from"./chunk-2JUOHLE5.js";import"./chunk-3X4ABRAL.js";import"./chunk-UCRQH3LP.js";import"./chunk-U2D62T5W.js";import{a as s}from"./chunk-L54FO74H.js";import{e as de,f as ce,g as fe,j as ue}from"./chunk-4KZL3YXF.js";import"./chunk-QLGH5R2O.js";import{a as v}from"./chunk-B3ZCK6GF.js";import{e as D,f as me,h as L,j as le}from"./chunk-RX6AQP77.js";import{a as ee,b as te,d as oe,e as ie,g as A}from"./chunk-4CXTWYLU.js";import"./chunk-GSSMQKAX.js";import{c as ae,t as se}from"./chunk-75UPXXCI.js";import{b as I}from"./chunk-2U6ZEWOS.js";import{a as N}from"./chunk-FIREYTYE.js";import"./chunk-6QCD6S2J.js";import{c as g}from"./chunk-3Z6CCHYM.js";import"./chunk-W6I4GJZK.js";import{f as U,g as V,k as X,m as w,p as k,q as W,t as q}from"./chunk-ZVOQKQF7.js";import"./chunk-W2K2BAXW.js";import{a as H,c as Q,e as J}from"./chunk-JHCHZOPJ.js";import"./chunk-YPJAQVA3.js";import{ga as K,ha as Z,ja as ne,ka as re}from"./chunk-ANND3XKZ.js";import{o as x}from"./chunk-UQI5C6OQ.js";import{Ab as _,Bb as y,Db as a,Ib as P,Nb as l,Ob as p,Pb as m,_b as $,a as O,ac as C,b as z,hb as d,ib as r,jc as j,ka as R,pc as M,qc as G,tb as F,ua as S,ub as Y,va as B,zb as u}from"./chunk-R6OEYYKK.js";var ge=(()=>{let e=class e extends de{constructor(t,o,n,f){super(n),this.mlabService=t,this.fb=o,this.dialog=n,this.data=f,this.form=o.group({note:[f?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,z(O({},this.data),{note:this.form.value.note})));}};e.ɵfac=function(o){return new(o||e)(r(s),r(W),r(ee),r(te));},e.ɵcmp=S({type:e,selectors:[["sz-medisy-laboratory-analysis-save"]],standalone:!0,features:[M([s]),Y,G],decls:5,vars:5,consts:()=>{let t;return t="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",t],[3,"actions"]];},template:function(o,n){o&1&&(m(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),m(3,"sz-ui-form-field-input",2),p()(),m(4,"sz-ui-dialog-actions",3)),o&2&&(a("title",n.title)("subtitle",n.subtitle)("alert",n.alert()),d(2),a("formGroup",n.form),d(2),a("actions",n.actions));},dependencies:[q,X,U,V,w,k,A,ie,ue,ce,fe,se,ae],encapsulation:2});let i=e;return i;})();var be=()=>[E],Ne=()=>[b],De=()=>[T];function Le(i,e){if(i&1&&m(0,"sz-medisy-people-person-card",7),i&2){let c=C(2);a("personId",c.analysis.personId);}}function Oe(i,e){i&1&&(u(0,Le,1,1),_(1,0,De),y());}function ze(i,e){if(i&1&&m(0,"sz-medisy-laboratory-analysis-tests",8),i&2){let c=C();a("analysis",c.analysis);}}function Re(i,e){if(i&1&&m(0,"sz-medisy-laboratory-analysis-specimens",8),i&2){let c=C();a("analysis",c.analysis);}}var he=(()=>{let e=class e{constructor(t,o,n,f,ve){this.dialog=t,this.route=o,this.router=n,this.mlabService=f,this.srptService=ve,this.alert=F(void 0),this.tiles=[],this.analysisMenu=le.more([L.edit(()=>this.openSaveComponent()),D.divider(),L.print(()=>this.opendPrintComponent()),D.item(g.publish,"publish",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(ge,{data:this.analysis}).afterClosed().subscribe(t=>{t&&(this.analysis=t);});}opendPrintComponent(){let t=this.analysis.laboratory.analysisTemplateId;if(!t){this.alert.set({type:N.Error,message:g.analysis_template_not_found,timeout:5e3});return;}this.srptService.templates.getById(t).subscribe(o=>{if(!o){this.alert.set({type:N.Error,message:g.analysis_template_not_found,timeout:5e3});return;}console.log(o);});}openPublishComponent(){}openBarcodeWriterComponent(){this.dialog.open(_e,{data:{format:Se.QR_CODE,msg:`analysisid.${this.analysis.id}`}}).afterClosed().subscribe({});}};e.ɵfac=function(o){return new(o||e)(r(oe),r(H),r(Q),r(s),r(h));},e.ɵcmp=S({type:e,selectors:[["sz-medisy-laboratory-analysis"]],features:[M([s,h])],decls:16,vars:5,consts:()=>{let t;t="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let o;return o="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[[3,"title","subtitle","menu"],["end","","mat-icon-button","",3,"click"],[3,"alert"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",t],["label",o],[3,"personId"],[3,"analysis"]];},template:function(o,n){o&1&&(l(0,"sz-ui-app-bar",0)(1,"button",1),$("click",function(){return n.openBarcodeWriterComponent();}),l(2,"mat-icon"),j(3,"qr_code"),p()()(),m(4,"sz-ui-alert",2),l(5,"div",3),u(6,Oe,3,0),p(),l(7,"mat-tab-group",4)(8,"mat-tab",5),u(9,ze,1,1),_(10,9,be),y(),p(),l(12,"mat-tab",6),u(13,Re,1,1),_(14,13,Ne),y(),p()()),o&2&&(a("title",n.analysis.code)("subtitle",n.analysis.note)("menu",n.analysisMenu),d(4),a("alert",n.alert()),d(2),P(6,n.analysis.personId?6:-1));},dependencies:[K,ne,Ce,Me,v,I],encapsulation:2});let i=e;return i;})();var Lt=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=B({type:e}),e.ɵinj=R({providers:[s],imports:[x,J.forChild([{path:"",component:he},{path:"tests",loadComponent:()=>import("./chunk-FGE5HTA7.js").then(t=>t.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-NUXAL5MG.js").then(t=>t.AnalysisSpecimensComponent)}]),A,Z,re,ye,Ae,v,I,pe,me,E,b,T]});let i=e;return i;})();export{he as AnalysisComponent,Lt as AnalysisModule};/**i18n:d557e35d8fc734d6151249497f9d9ce2c625cbce110bd82ca76d6bd769fb64f8*/