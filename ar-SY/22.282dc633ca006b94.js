"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[22],{6022:(P,C,t)=>{t.r(C),t.d(C,{ReferenceValueModule:()=>ne});var E=t(6814),l=t(6223),c=t(2296),R=t(5986),u=t(7700),a=t(617),A=t(7988),I=t(8525),T=t(8109),V=t(465),h=t(6987),f=t(758),O=t(1462),d=t(2169),m=t(3576),g=t(5041),Z=t(7239),M=t(3572),x=t(8645),e=t(5879),B=t(2516),L=t(2191),p=t(7263);let N=(()=>{class r{transform(o,n=!1){switch(o){case p.v.Equal:return n?"==":"\u062A\u0633\u0627\u0648\u064A";case p.v.GreaterThan:return n?">":"\u0627\u0643\u0628\u0631 \u0645\u0646";case p.v.GreaterThanOrEqual:return n?">=":"\u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0648 \u064A\u0633\u0627\u0648\u064A";case p.v.LessThan:return n?"<":"\u0623\u0635\u063A\u0631 \u0645\u0646";case p.v.LessThanOrEqual:return n?"<=":"\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0648 \u064A\u0633\u0627\u0648\u064A";case p.v.RangeWithBoundaries:return n?"<==>":"\u0645\u062C\u0627\u0644 \u0645\u0639 \u0627\u0644\u062D\u062F\u0648\u062F";case p.v.RangeWithoutBoundaries:return n?"<>":"\u0645\u062C\u0627\u0644 \u0628\u062F\u0648\u0646 \u0627\u0644\u062D\u062F\u0648\u062F";case p.v.Not:return n?"!=":"\u0644\u064A\u0633 \u0641\u064A";default:return""}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275pipe=e.Yjl({name:"comparisonOperatorI18n",type:r,pure:!0,standalone:!0}),r})();var X=t(9598),J=t(8721),v=t(8180),G=t(6893),W=t(8930);let U=(()=>{class r extends G.m{constructor(o,n){super(o),this.ngControl=o,this.comparisonOperatorI18nPipe=n,this.items=Object.keys(p.v).map(i=>p.v[i]),this.label="\u0627\u0644\u0639\u0645\u0644\u064A\u0629",this.contentFormat=i=>this.comparisonOperatorI18nPipe.transform(i)}ngOnInit(){this.control=this.ngControl.control}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(l.a5,10),e.Y36(N))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-form-field-comparison-operator"]],standalone:!0,features:[e._Bn([N]),e.qOj,e.jDz],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(o,n){1&o&&e._UZ(0,"sz-ui-form-field-select",0),2&o&&e.Q6J("formControl",n.control)("items",n.items)("label",n.label)("placeholder",n.placeholder)("emptyOption",n.emptyOption)("multiple",n.multiple)("contentFn",n.contentFormat)},dependencies:[l.UX,l.JJ,l.oH,W.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),r})();var D=t(2557),Q=t(6187),F=t(4622),z=t(6091);let j=(()=>{class r extends m.Z2{constructor(o,n,i){super(n),this.fb=o,this.dialog=n,this.data=i,this.form=o.group({referenceGroupId:[i.referenceGroupId],comparisonOperator:[i.comparisonOperator]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(l.qu),e.Y36(u.so),e.Y36(u.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules-filter"]],standalone:!0,features:[e._Bn([Q.T]),e.qOj,e.jDz],decls:6,vars:5,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","comparisonOperator",3,"emptyOption"],["formControlName","referenceGroupId",3,"emptyOption"],[3,"actions"]],template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-comparison-operator",2)(4,"medisy-form-field-reference-group",3),e.qZA()(),e._UZ(5,"sz-ui-dialog-actions",4)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("actions",n.actions))},dependencies:[E.ez,l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,u.Is,u.xY,R.p9,m.su,F.Y,z.t,D.P,U],encapsulation:2}),r})();var Y=t(9157),y=t(2032),K=t(9004),$=t(8380),H=t(8873);function b(r,s){1&r&&(e.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"label"),e._UZ(3,"input",10),e.qZA()(),e.TgZ(4,"mat-form-field",9)(5,"label"),e._UZ(6,"input",11),e.qZA()()())}function q(r,s){1&r&&(e.TgZ(0,"mat-form-field",9)(1,"label"),e._UZ(2,"input",12),e.qZA()())}let w=(()=>{class r extends m.Ku{constructor(o,n,i,_){super(i),this.referenceValueService=o,this.fb=n,this.dialog=i,this.data=_,this.form=n.group({description:[_.referenceValueRule?.description,[l.kI.maxLength(4096)]],comparisonOperator:[_.referenceValueRule?.comparisonOperator??p.v.Equal,[l.kI.required]],referenceGroupId:[_.referenceValueRule?.referenceGroupId,[l.kI.required]],value:[_.referenceValueRule?.value,[]],start:[_.referenceValueRule?.start,[]],end:[_.referenceValueRule?.end,[]]})}isRange(){return this.form.value.comparisonOperator===p.v.RangeWithBoundaries||this.form.value.comparisonOperator===p.v.RangeWithoutBoundaries}submit(){this.IsValid()&&this.save(this.data.referenceValueRule?this.referenceValueService.updateReferenceValueRule(this.data.referenceValueId,this.data.referenceValueRule.id,this.form.value):this.referenceValueService.createReferenceValueRule(this.data.referenceValueId,this.form.value))}}return r.\u0275fac=function(o){return new(o||r)(e.Y36($.U),e.Y36(l.qu),e.Y36(u.so),e.Y36(u.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules-save"]],standalone:!0,features:[e._Bn([h.C]),e.qOj,e.jDz],decls:9,vars:5,consts:function(){let s,o,n,i;return s="\u0627\u0644\u0648\u0635\u0641",o="\u0628\u062F\u0627\u064A\u0629",n="\u0646\u0647\u0627\u064A\u0629",i="\u0642\u064A\u0645\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",s],["formControlName","comparisonOperator"],["class","tw-flex md:tw-flex-row tw-flex-col md:tw-gap-4",4,"ngIf"],["class","tw-flex-1",4,"ngIf"],["formControlName","referenceGroupId"],[3,"actions"],[1,"tw-flex","md:tw-flex-row","tw-flex-col","md:tw-gap-4"],[1,"tw-flex-1"],["autocomplete","off","formControlName","start","matInput","","placeholder",o],["autocomplete","off","formControlName","end","matInput","","placeholder",n],["autocomplete","off","formControlName","value","matInput","","placeholder",i]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-comparison-operator",3),e.YNc(5,b,7,0,"div",4),e.YNc(6,q,3,0,"mat-form-field",5),e._UZ(7,"medisy-form-field-reference-group",6),e.qZA()(),e._UZ(8,"sz-ui-dialog-actions",7)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("ngIf",n.isRange()),e.xp6(1),e.Q6J("ngIf",!n.isRange()),e.xp6(2),e.Q6J("actions",n.actions))},dependencies:[E.ez,E.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,y.c,y.Nt,Y.KE,u.Is,u.xY,Y.lN,R.p9,m.su,F.Y,z.t,K.g,H.J,D.P,U],encapsulation:2}),r})();var k=t(3582),ee=t(3144);let te=(()=>{class r{constructor(o,n,i,_){this.dialog=o,this.route=n,this.referenceValueService=i,this.comparisonOperatorI18nPipe=_,this.dataSource=new M.b2(X.J.paged()),this.referenceValue=this.route.snapshot.data.referenceValue,this.dataSource.columns=[M.UC.text("referenceGroup","\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629",S=>S.referenceGroup.name),L.h.comparisonOperator(S=>_.transform(S.comparisonOperator)),M.UC.text("value","\u0642\u064A\u0645\u0629",S=>S.value?S.value:`${S.start} - ${S.end}`),L.h.createdAt(),L.h.menu([M.od.edit(S=>this.openSaveComponent(S)),M.od.delete(S=>{this.openReferenceValueRuleDeleteComponent(S)})])],this.get()}openSaveComponent(o){this.dialog.open(w,{data:{referenceValueId:this.referenceValue.id,referenceValueRule:o}}).afterClosed().pipe((0,v.q)(1)).subscribe(i=>{this.dataSource.updateOrPushItem(i)})}openFilterComponent(){this.dialog.open(j,{data:this.dataSource.filterModel}).afterClosed().pipe((0,v.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openReferenceValueRuleDeleteComponent(o){this.dialog.open(m.fN,{data:m.cb.delete(this.referenceValueService.deleteReferenceValueRule(o.referenceValueId,o.id),o)}).afterClosed().pipe((0,v.q)(1)).subscribe(i=>{this.dataSource.delete(i)})}get(){this.referenceValueService.getReferenceValueRules(this.referenceValue.id,this.dataSource.filterModel).pipe((0,J.sU)(this.dataSource.indicator),(0,v.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(u.uw),e.Y36(T.gz),e.Y36($.U),e.Y36(N))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules"]],features:[e._Bn([N])],decls:5,vars:4,consts:function(){let s;return s="\u0625\u0636\u0627\u0641\u0629",[[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],s,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-table-filter",0),e.NdJ("search",function(){return n.get()})("filter",function(){return n.openFilterComponent()}),e.TgZ(1,"button",1),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(2,"span"),e.SDv(3,2),e.qZA()()(),e.TgZ(4,"sz-ui-table",3),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[c.lW,k.K,ee.f],encapsulation:2}),r})();const oe=[{path:"",component:(()=>{class r{constructor(o,n){this.dialog=o,this.route=n,this.alert$=new x.x,this.referenceValue=this.route.snapshot.data.referenceValue}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(u.uw),e.Y36(T.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value"]],features:[e._Bn([])],decls:10,vars:2,consts:[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["mat-icon-button","","routerLink","../","end",""]],template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e._uU(3),e.qZA(),e.TgZ(4,"span",2),e._uU(5),e.qZA()(),e.TgZ(6,"button",3)(7,"mat-icon"),e._uU(8,"arrow_back"),e.qZA()()(),e._UZ(9,"medisy-laboratory-reference-value-rules")),2&o&&(e.xp6(3),e.Oqu(n.referenceValue.testClass.name),e.xp6(2),e.Oqu(n.referenceValue.description))},dependencies:[T.rH,a.Hw,c.RK,B.z,te],encapsulation:2}),r})()}];let ne=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[h.C],imports:[E.ez,l.u5,T.Bz.forChild(oe),u.Is,R.p9,A.Tx,a.Ps,c.ot,I.LD,f.E3,M.Vn,d.c,O.V,Z.h,m.su,g.n,V.X]}),r})()},465:(P,C,t)=>{t.d(C,{X:()=>l});var E=t(5879);let l=(()=>{class c{}return c.\u0275fac=function(u){return new(u||c)},c.\u0275mod=E.oAB({type:c}),c.\u0275inj=E.cJS({}),c})()},8873:(P,C,t)=>{t.d(C,{J:()=>h});var E=t(6814),l=t(6223),c=t(9157),R=t(2032),u=t(2757),a=t(5879);function A(f,O){if(1&f&&(a.TgZ(0,"mat-label"),a._uU(1),a.qZA()),2&f){const d=a.oxw();a.xp6(1),a.Oqu(d.label)}}function I(f,O){1&f&&(a.TgZ(0,"mat-error"),a.SDv(1,3),a.qZA())}function T(f,O){1&f&&(a.TgZ(0,"mat-error"),a.SDv(1,4),a.qZA())}function V(f,O){1&f&&(a.TgZ(0,"mat-error"),a.SDv(1,5),a.qZA())}let h=(()=>{class f extends u.l{constructor(d){super(d),this.ngControl=d}ngOnInit(){this.control=this.ngControl.control}writeValue(d){this.value=d}}return f.\u0275fac=function(d){return new(d||f)(a.Y36(l.a5,10))},f.\u0275cmp=a.Xpm({type:f,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[a.qOj,a.jDz],decls:7,vars:7,consts:function(){let O,d,m;return O="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628",d="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u0627 \u064A\u062D\u0642\u0642 \u0627\u0644\u062D\u062F \u0627\u0644\u0627\u062F\u0646\u064A \u0644\u0644\u0637\u0648\u0644",m="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],O,d,m]},template:function(d,m){1&d&&(a.TgZ(0,"mat-form-field",0),a.YNc(1,A,2,1,"mat-label",1),a.TgZ(2,"textarea",2),a._uU(3,"  "),a.qZA(),a.YNc(4,I,2,0,"mat-error",1),a.YNc(5,T,2,0,"mat-error",1),a.YNc(6,V,2,0,"mat-error",1),a.qZA()),2&d&&(a.xp6(1),a.Q6J("ngIf",m.label),a.xp6(1),a.Q6J("formControl",m.control)("value",m.value)("placeholder",m.placeholder),a.xp6(2),a.Q6J("ngIf",m.control.hasError("required")),a.xp6(1),a.Q6J("ngIf",m.control.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",m.control.hasError("maxlength")))},dependencies:[E.ez,E.O5,l.UX,l.Fj,l.JJ,l.oH,c.lN,c.KE,c.hX,c.TO,R.c,R.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),f})()},9004:(P,C,t)=>{t.d(C,{g:()=>R});var E=t(5974),l=t(8873),c=t(5879);let R=(()=>{class u{}return u.\u0275fac=function(A){return new(A||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({imports:[E.g,l.J]}),u})()}}]);