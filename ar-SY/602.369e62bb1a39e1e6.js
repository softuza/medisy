"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[602],{2602:(R,C,t)=>{t.r(C),t.d(C,{ReferenceValuesModule:()=>q});var f=t(6814),l=t(6223),m=t(2296),u=t(7700),p=t(617),r=t(8109),O=t(465),A=t(8380),g=t(758),S=t(3576),v=t(5041),c=t(7239),E=t(3572),d=t(2191),_=t(9598),h=t(8721),T=t(8180),y=t(4889),N=t(1175),I=t(9862),z=t(3971),P=t(7398),e=t(5879);let L=(()=>{class s{constructor(o){this.http=o,this.path="medisy-laboratory/v1/units",this.units$=this.getUnits().pipe((0,T.q)(1)).pipe((0,P.U)(n=>n.items))}getUnits(o=_.J.unpagedSorted("name")){return this.http.get(`${this.path}`,{params:new I.LE({fromObject:(0,z.c)(o)})})}}return s.\u0275fac=function(o){return new(o||s)(e.LFG(I.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();var V=t(6893),Y=t(8930);let U=(()=>{class s extends V.m{constructor(o,n){super(o),this.ngControl=o,this.unitService=n,this.label="\u0648\u062D\u062F\u0629",this.contentFormat=a=>a.name,this.valueFormat=a=>a.id,this.items$=this.unitService.getUnits().pipe((0,T.q)(1),(0,P.U)(a=>a.items)).pipe((0,h.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(l.a5,10),e.Y36(L))},s.\u0275cmp=e.Xpm({type:s,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[e._Bn([L]),e.qOj,e.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(o,n){1&o&&(e._UZ(0,"sz-ui-form-field-select",0),e.ALo(1,"async")),2&o&&e.Q6J("formControl",n.control)("indicator",n.indicator)("items",e.lcZ(1,9,n.items$))("label",n.label)("placeholder",n.placeholder)("emptyOption",n.emptyOption)("multiple",n.multiple)("contentFn",n.contentFormat)("valueFn",n.valueFormat)},dependencies:[f.ez,f.Ov,l.UX,l.JJ,l.oH,Y.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),s})();var $=t(7263),F=t(4622),D=t(6091);let X=(()=>{class s extends S.Z2{constructor(o,n,a){super(n),this.fb=o,this.dialog=n,this.data=a,this.comparisonOperators=Object.values($.v),this.form=o.group({testClassId:[a.testClassId],unitId:[a.unitId],includeLaboratoryIds:[a.includeLaboratoryIds]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(l.qu),e.Y36(u.so),e.Y36(u.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["medisy-reference-values-filter"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("actions",n.actions))},dependencies:[f.ez,l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,u.Is,u.xY,S.su,F.Y,D.t,N.U,U,y.w],encapsulation:2}),s})();var J=t(5986),Z=t(9157),B=t(6187),x=t(9004),G=t(5974),Q=t(8873);let b=(()=>{class s extends S.Ku{constructor(o,n,a,M){super(a),this.referenceValueService=o,this.fb=n,this.dialog=a,this.data=M,this.form=n.group({description:[M?.description,[l.kI.maxLength(4096)]],testClassId:[M?.testClassId,[l.kI.required]],unitId:[M?.unitId,[]],multiplier:[M?.multiplier,[]]})}submit(){this.IsValid()&&this.save(this.data?this.referenceValueService.updateReferenceValue(this.data.id,this.form.value):this.referenceValueService.createReferenceValue(this.form.value))}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(A.U),e.Y36(l.qu),e.Y36(u.so),e.Y36(u.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["medisy-analysis-management-reference-values-save"]],standalone:!0,features:[e._Bn([B.T]),e.qOj,e.jDz],decls:8,vars:3,consts:function(){let i,o;return i="\u0627\u0644\u0648\u0635\u0641",o="\u0645\u0636\u0627\u0639\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",i],["formControlName","unitId"],["formControlName","multiplier","label",o],["formControlName","testClassId"],[3,"actions"]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),e.qZA()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("actions",n.actions))},dependencies:[f.ez,l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,u.Is,u.xY,Z.lN,J.p9,S.su,F.Y,D.t,x.g,G.g,Q.J,U,N.U],encapsulation:2}),s})();var j=t(2516),K=t(3582),W=t(3144);const H=[{path:"",component:(()=>{class s{constructor(o,n){this.dialog=o,this.valueReferenceService=n,this.dataSource=new E.b2(_.J.paged()),this.dataSource.columns=[E.UC.hyperlink("testClass","\u0635\u0646\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",a=>a.id,a=>a.testClass.name),E.UC.text("unit","\u0648\u062D\u062F\u0629",a=>a.multiplier?`10^${a.multiplier.toExponential(0).split("e").map(M=>Number(M))[1]}/${a.unit?.abbreviation}`:a.unit?.abbreviation),d.h.createdAt(),d.h.menu([E.od.edit(a=>this.openSaveComponent(a)),E.od.delete(a=>this.openReferenceValueDeleteComponent(a))])],this.get()}openSaveComponent(o){this.dialog.open(b,{data:o}).afterClosed().pipe((0,T.q)(1)).subscribe(a=>{this.dataSource.updateOrPushItem(a)})}openFilterComponent(){this.dialog.open(X,{data:this.dataSource.filterModel}).afterClosed().pipe((0,T.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openReferenceValueDeleteComponent(o){this.dialog.open(S.fN,{data:S.cb.delete(this.valueReferenceService.deleteReferenceValue(o.id),o)}).afterClosed().pipe((0,T.q)(1)).subscribe(a=>{this.dataSource.delete(a)})}get(){this.valueReferenceService.getReferenceValues(this.dataSource.filterModel).pipe((0,h.sU)(this.dataSource.indicator),(0,T.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(u.uw),e.Y36(A.U))},s.\u0275cmp=e.Xpm({type:s,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let i,o;return i="\u0627\u0644\u0642\u064A\u0645 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629",o="\u0625\u0636\u0627\u0641\u0629",[["start","",1,"sz-h5"],i,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return n.get()})("filter",function(){return n.openFilterComponent()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[m.lW,j.z,K.K,W.f],encapsulation:2}),s})()}];let q=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[A.U],imports:[f.ez,l.u5,l.UX,r.Bz.forChild(H),u.Is,p.Ps,m.ot,v.n,E.Vn,c.h,g.E3,S.su,O.X]}),s})()},465:(R,C,t)=>{t.d(C,{X:()=>l});var f=t(5879);let l=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=f.oAB({type:m}),m.\u0275inj=f.cJS({}),m})()},8873:(R,C,t)=>{t.d(C,{J:()=>v});var f=t(6814),l=t(6223),m=t(9157),u=t(2032),p=t(2757),r=t(5879);function O(c,E){if(1&c&&(r.TgZ(0,"mat-label"),r._uU(1),r.qZA()),2&c){const d=r.oxw();r.xp6(1),r.Oqu(d.label)}}function A(c,E){1&c&&(r.TgZ(0,"mat-error"),r.SDv(1,3),r.qZA())}function g(c,E){1&c&&(r.TgZ(0,"mat-error"),r.SDv(1,4),r.qZA())}function S(c,E){1&c&&(r.TgZ(0,"mat-error"),r.SDv(1,5),r.qZA())}let v=(()=>{class c extends p.l{constructor(d){super(d),this.ngControl=d}ngOnInit(){this.control=this.ngControl.control}writeValue(d){this.value=d}}return c.\u0275fac=function(d){return new(d||c)(r.Y36(l.a5,10))},c.\u0275cmp=r.Xpm({type:c,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[r.qOj,r.jDz],decls:7,vars:7,consts:function(){let E,d,_;return E="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628",d="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u0627 \u064A\u062D\u0642\u0642 \u0627\u0644\u062D\u062F \u0627\u0644\u0627\u062F\u0646\u064A \u0644\u0644\u0637\u0648\u0644",_="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],E,d,_]},template:function(d,_){1&d&&(r.TgZ(0,"mat-form-field",0),r.YNc(1,O,2,1,"mat-label",1),r.TgZ(2,"textarea",2),r._uU(3,"  "),r.qZA(),r.YNc(4,A,2,0,"mat-error",1),r.YNc(5,g,2,0,"mat-error",1),r.YNc(6,S,2,0,"mat-error",1),r.qZA()),2&d&&(r.xp6(1),r.Q6J("ngIf",_.label),r.xp6(1),r.Q6J("formControl",_.control)("value",_.value)("placeholder",_.placeholder),r.xp6(2),r.Q6J("ngIf",_.control.hasError("required")),r.xp6(1),r.Q6J("ngIf",_.control.hasError("minlength")),r.xp6(1),r.Q6J("ngIf",_.control.hasError("maxlength")))},dependencies:[f.ez,f.O5,l.UX,l.Fj,l.JJ,l.oH,m.lN,m.KE,m.hX,m.TO,u.c,u.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),c})()},9004:(R,C,t)=>{t.d(C,{g:()=>u});var f=t(5974),l=t(8873),m=t(5879);let u=(()=>{class p{}return p.\u0275fac=function(O){return new(O||p)},p.\u0275mod=m.oAB({type:p}),p.\u0275inj=m.cJS({imports:[f.g,l.J]}),p})()}}]);