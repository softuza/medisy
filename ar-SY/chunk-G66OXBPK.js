import{a as Be,b as Fe,c as xe}from"./chunk-7AGUCOKQ.js";import{a as $}from"./chunk-TO22RBSF.js";import{b as De}from"./chunk-HWOUZEAB.js";import{a as se,b as me,c as pe,d as le,e as de,f as ce,g as _e,h as Se}from"./chunk-YGCATYA7.js";import{a as $e}from"./chunk-DJWTHWUI.js";import{a as E}from"./chunk-7ZD52CWE.js";import{a as T}from"./chunk-JRXQDBB2.js";import{a as z}from"./chunk-JU3K2J4G.js";import"./chunk-UZV5LP6K.js";import{g as Y}from"./chunk-AYD4YNQF.js";import"./chunk-ZENDRPYK.js";import"./chunk-BDAURDQS.js";import{b as Ye,d as ze}from"./chunk-UWWSZ6EK.js";import{c as Oe,h as Re,i as Te,j as Le,m as be}from"./chunk-TZHDOS7D.js";import{a as Ie,b as Ne,d as he,e as ye,g as R}from"./chunk-MLSRSUWT.js";import{q as Ee,t as Ae}from"./chunk-DPUIQT2Q.js";import"./chunk-32W7D3XL.js";import{g as J,h as K,l as W,n as Z,o as ee,p as te,s as ie}from"./chunk-UZRVZSRL.js";import{b as L,c as S,d as ve}from"./chunk-VXIMUH5R.js";import"./chunk-FVPLSC3A.js";import"./chunk-5YXUG2NC.js";import"./chunk-25UH3N2F.js";import{a as l}from"./chunk-KYTCDYCU.js";import{a as b}from"./chunk-O5KLIVQ3.js";import"./chunk-4KTV3HE2.js";import{a as ge}from"./chunk-HSBTPXYW.js";import{a as oe,c as ne,d as re,e as D,f as Ce,g as Pe}from"./chunk-7EL7DJOA.js";import{a as fe,b as ue}from"./chunk-YSHIJLQQ.js";import"./chunk-PHZ6OWUT.js";import{a as ae,c as O}from"./chunk-45S7AHWB.js";import{Ra as Me,o as Q}from"./chunk-5YRGD4YU.js";import{$b as v,Ab as s,Bb as r,Cb as p,L as y,Mb as F,Qb as A,Vb as c,Wb as C,Xb as x,Yb as P,_a as g,a as j,b as U,bc as q,cb as a,da as X,db as m,dc as I,ec as N,kb as w,la as f,ma as H,nb as d,tb as u,ub as M,yb as V,zb as k}from"./chunk-MK3KDUIH.js";function He(e,t){if(e&1&&(s(0,"p"),c(1),I(2,"personName"),r()),e&2){let _=A();a(1),x("",N(2,1,_.person==null?null:_.person.father)," ");}}function we(e,t){if(e&1&&(s(0,"p"),c(1),I(2,"personName"),r()),e&2){let _=A();a(1),x("",N(2,1,_.person==null?null:_.person.mother)," ");}}function Ve(e,t){e&1&&(s(0,"mat-card-footer"),p(1,"mat-progress-bar",4),r());}var ke=e=>[e],B=(()=>{let t=class t{set personId(o){this._personId=o,this.getPerson(o);}get personId(){return this._personId;}constructor(o,i,n){this.mpplService=o,this.typeI18nPipe=i,this.personNamePipe=n,this.indicator=g(!1);}getPerson(o){this.mpplService.persons.getById(o).pipe(y(1),Oe(this.indicator)).subscribe(i=>{this.person=i;});}};t.ɵfac=function(i){return new(i||t)(m(T),m(Y),m(E));},t.ɵcmp=f({type:t,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[P([Y]),v],decls:18,vars:12,consts:()=>{let o;o="\u0627\u0644\u0645\u0631\u064A\u0636";let i;return i="\u0627\u0644\u0645\u0632\u064A\u062F",[[1,"example-card"],o,["mat-button","",3,"routerLink"],i,["mode","indeterminate"]];},template:function(i,n){i&1&&(s(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),F(3,1),r(),s(4,"mat-card-title"),c(5),I(6,"personName"),r()(),s(7,"mat-card-content")(8,"p"),c(9),I(10,"personAge"),r(),u(11,He,3,3,"p")(12,we,3,3,"p"),p(13,"mat-divider"),r(),s(14,"mat-card-actions")(15,"button",2),F(16,3),r()(),u(17,Ve,2,0,"mat-card-footer"),r()),i&2&&(a(5),C(N(6,6,n.person)),a(4),C(N(10,8,n.person==null?null:n.person.birthDate)),a(2),M(11,n.person!=null&&n.person.father?11:-1),a(1),M(12,n.person!=null&&n.person.mother?12:-1),a(3),d("routerLink",q(10,ke,"/mppl/persons/"+n.personId)),a(2),M(17,n.indicator()?17:-1));},dependencies:[D,re,Se,se,de,pe,_e,ce,le,me,Pe,Ce,ue,fe,O,ae,E,$e],encapsulation:2});let e=t;return e;})();var Ge=(()=>{let t=class t extends Re{constructor(o,i,n,h){super(n),this.mlabService=o,this.fb=i,this.dialog=n,this.data=h,this.form=i.group({note:[h?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,U(j({},this.data),{note:this.form.value.note})));}};t.ɵfac=function(i){return new(i||t)(m(l),m(te),m(Ie),m(Ne));},t.ɵcmp=f({type:t,selectors:[["medisy-analysis-save"]],standalone:!0,features:[P([l]),w,v],decls:5,vars:3,consts:()=>{let o;return o="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",o],[3,"actions"]];},template:function(i,n){i&1&&(p(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2),r()(),p(4,"sz-ui-dialog-actions",3)),i&2&&(d("header",n.header),a(2),d("formGroup",n.form),a(2),d("actions",n.actions));},dependencies:[ie,W,J,K,Z,ee,R,ye,be,Te,Le,Ae,Ee],encapsulation:2});let e=t;return e;})();var Ke=()=>[$];function We(e,t){if(e&1&&p(0,"medisy-people-persons-common-person-card",5),e&2){let _=A();d("personId",_.analysis.personId);}}function Ze(e,t){e&1&&p(0,"medisy-laboratory-analysis-specimens");}var je=(()=>{let t=class t{constructor(o,i,n,h){this.dialog=o,this.route=i,this.router=n,this.mlabService=h,this.alert$=g(void 0),this.testsDataSource=new Ye(ge.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=ve.more([S.edit(()=>this.openSaveComponent()),S.divider(),S.print(()=>this.opendPrintComponent),S.default("\u0646\u0634\u0631","publish",this.openPublishComponent),S.divider(),S.default("QR Code","qr_code",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(Ge,{data:this.analysis}).afterClosed().pipe(y(1)).subscribe(o=>{o&&(this.analysis=o);});}opendPrintComponent(){}openPublishComponent(){}};t.ɵfac=function(i){return new(i||t)(m(he),m(oe),m(ne),m(l));},t.ɵcmp=f({type:t,selectors:[["medisy-laboratory-analysis"]],features:[P([l,T,E])],decls:16,vars:4,consts:()=>{let o;o="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let i;return i="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card","tw-my-4"],[3,"personId"],["mat-stretch-tabs","false"],["label",o],["label",i]];},template:function(i,n){i&1&&(s(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),c(3),r(),s(4,"span",2),c(5),r()(),p(6,"sz-ui-menu",3),r(),s(7,"div",4),u(8,We,1,1,"medisy-people-persons-common-person-card",5),r(),s(9,"mat-tab-group",6)(10,"mat-tab",7),p(11,"medisy-laboratory-analysis-tests"),r(),s(12,"mat-tab",8),u(13,Ze,1,0),V(14,13,Ke),k(),r()()),i&2&&(a(3),C(n.analysis.code),a(2),C(n.analysis.note),a(1),d("menu",n.analysisMenu),a(2),M(8,n.analysis.personId?8:-1));},dependencies:[Be,Fe,b,L,z,B],encapsulation:2});let e=t;return e;})();var Ue=[{path:"",component:je},{path:"tests",loadComponent:()=>import("./chunk-R43OBEKQ.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-KMXYOLPJ.js").then(e=>e.AnalysisSpecimensComponent)}];var Ci=(()=>{let t=class t{};t.ɵfac=function(i){return new(i||t)();},t.ɵmod=H({type:t}),t.ɵinj=X({providers:[l],imports:[Q,D.forChild(Ue),R,Me,O,ze,xe,b,De,L,z,$,B]});let e=t;return e;})();export{Ci as AnalysisModule};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/