"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[677],{677:(M,d,n)=>{n.r(d),n.d(d,{AnalysisModule:()=>b});var r=n(6814),m=n(6223),e=n(4630),c=n(2296),a=n(5195),v=n(5986),A=n(3680),S=n(8034),p=n(7700),y=n(617),C=n(2032),Y=n(9038),g=n(7988),D=n(1476),I=n(5940),O=n(8525),L=n(3566),R=n(1545),Z=n(5313),$=n(2596),T=n(8109),z=n(465),f=n(5738),U=n(758),B=n(2595),J=n(5341),F=n(2169),K=n(5041),E=n(3572),t=n(5879),P=n(9060),h=n(5348),X=n(9598),Q=n(8721),N=n(8180),G=n(6385),V=n(765),j=n(2516),W=n(5850);function x(o,l){1&o&&t._UZ(0,"sz-ui-card",10),2&o&&t.Q6J("card",l.$implicit)}const H=[{path:"",component:(()=>{class o{constructor(s,i,u,w,k){this.dialog=s,this.route=i,this.analysisService=u,this.personService=w,this.personNamePipe=k,this.alert$=(0,t.tdS)(void 0),this.testsDataSource=new E.b2(X.J.pagedSorted("-createdAt")),this.cards=[{counter:0,url:"samples",icon:"science",title:"\u0639\u064A\u0646\u0627\u062A"}],this.analysis=this.route.snapshot.data.analysis,this.analysis.personId&&this.getPerson()}getPerson(){this.personService.getPerson(this.analysis.personId).pipe((0,N.q)(1)).subscribe(s=>{this.cards.splice(0,0,{subtitle:"\u0627\u0644\u0634\u062E\u0635",icon:"person",title:this.personNamePipe.transform(s)})})}openEditComponent(){}getAnalysisTests(){this.analysisService.getAnalysisTests(this.analysis.id,this.testsDataSource.filterModel).pipe((0,Q.sU)(this.testsDataSource.indicator)).pipe((0,N.q)(1)).subscribe(s=>{this.testsDataSource.set(s.items,s.count)})}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(p.uw),t.Y36(T.gz),t.Y36(f.K),t.Y36(h.R),t.Y36(P.Y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["medisy-laboratory-analysis"]],features:[t._Bn([f.K,h.R,P.Y])],decls:23,vars:6,consts:function(){let l,s;return l="\u062A\u0639\u062F\u064A\u0644",s="\u0637\u0628\u0627\u0639\u0629",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],l,s,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-2","tw-py-2"],[3,"card",4,"ngFor","ngForOf"],[1,"tw-flex","tw-flex-col","tw-gap-2"],[3,"paginationEnabled","stateEnabled","dataSource","update"],[3,"card"]]},template:function(s,i){if(1&s&&(t.TgZ(0,"sz-ui-header-basic")(1,"h5",0),t._uU(2),t.qZA(),t.TgZ(3,"button",1)(4,"mat-icon"),t._uU(5,"more_vert"),t.qZA()(),t.TgZ(6,"mat-menu",null,2)(8,"button",3),t.NdJ("click",function(){return i.openEditComponent()}),t.TgZ(9,"mat-icon"),t._uU(10,"edit"),t.qZA(),t.TgZ(11,"span"),t.SDv(12,4),t.qZA()(),t._UZ(13,"mat-divider"),t.TgZ(14,"button",3),t.NdJ("click",function(){return i.openEditComponent()}),t.TgZ(15,"mat-icon"),t._uU(16,"print"),t.qZA(),t.TgZ(17,"span"),t.SDv(18,5),t.qZA()()()(),t.TgZ(19,"div",6),t.YNc(20,x,1,1,"sz-ui-card",7),t.qZA(),t.TgZ(21,"div",8)(22,"sz-ui-table",9),t.NdJ("update",function(){return i.getAnalysisTests()}),t.qZA()()),2&s){const u=t.MAs(7);t.xp6(2),t.Oqu(i.analysis.code),t.xp6(1),t.Q6J("matMenuTriggerFor",u),t.xp6(17),t.Q6J("ngForOf",i.cards),t.xp6(2),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",i.testsDataSource)}},dependencies:[r.sg,g.VK,g.OP,g.p6,y.Hw,c.RK,G.d,V.K,j.z,W.X],encapsulation:2}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[f.K],imports:[r.ez,m.u5,m.UX,T.Bz.forChild(H),p.Is,e.Bb,C.c,U.E3,J.SD,v.p9,g.Tx,y.Ps,c.ot,O.LD,R.T5,$.AV,Y.ie,a.QW,I.Cq,A.XK,S.FA,E.Vn,K.n,Z.p0,D.TU,L.JX,F.c,B.V,z.L]}),o})()},465:(M,d,n)=>{n.d(d,{L:()=>m});var r=n(5879);let m=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},9060:(M,d,n)=>{n.d(d,{Y:()=>m});var r=n(5879);let m=(()=>{class e{transform(a,v=!1){if(!a.names||0===a.names.length)return`${a.id}`;const A=a.names[0].firstName,S=a.names[0].lastName,p=S?`${A} ${S}`:`${A}`;return v&&a.birthDate?""+(+new Date-+a.birthDate):p}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=r.Yjl({name:"personName",type:e,pure:!0,standalone:!0}),e})()}}]);