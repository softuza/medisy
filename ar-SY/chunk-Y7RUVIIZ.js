import"./chunk-LEC3MP4T.js";import{g as _}from"./chunk-AMBD42VP.js";import"./chunk-YGCATYA7.js";import{g as se}from"./chunk-ACY3TFT2.js";import"./chunk-ZENDRPYK.js";import{a as P,b as ae}from"./chunk-7CAN5NDU.js";import{a as N,b as te,c as oe,e as ie,o as re,p as ne}from"./chunk-ZXC77473.js";import{c as H,h as q,i as J,j as K,l as Q,m as W,n as ee}from"./chunk-TZHDOS7D.js";import{a as j,b as w,d as B,e as k,g as M}from"./chunk-MLSRSUWT.js";import{q as Y,t as Z}from"./chunk-DPUIQT2Q.js";import{i as V}from"./chunk-32W7D3XL.js";import{d as p,g as v,h as D,l as z,n as I,o as F,p as b,s as $}from"./chunk-UZRVZSRL.js";import{c as T}from"./chunk-VXIMUH5R.js";import"./chunk-FVPLSC3A.js";import"./chunk-5YXUG2NC.js";import"./chunk-25UH3N2F.js";import{a as C}from"./chunk-O5KLIVQ3.js";import{a as x}from"./chunk-HSBTPXYW.js";import{e as L}from"./chunk-7EL7DJOA.js";import"./chunk-YSHIJLQQ.js";import"./chunk-PHZ6OWUT.js";import{a as y,c as G}from"./chunk-45S7AHWB.js";import{Ra as X}from"./chunk-5YRGD4YU.js";import{$b as R,Ab as a,Bb as l,Cb as d,L as u,Mb as A,Ob as c,Yb as E,a as g,cb as S,da as U,db as s,kb as O,la as f,ma as h,nb as m}from"./chunk-MK3KDUIH.js";var Se=(()=>{let i=class i extends q{constructor(t,o,e,n){super(e),this.adminService=t,this.fb=o,this.dialog=e,this.data=n,this.form=o.group({username:[n?.username,[p.required,p.email]],firstName:[n?.firstName,[p.maxLength(128)]],lastName:[n?.lastName,[p.maxLength(128)]]});}submit(){this.IsValid()&&(this.data?this.save(this.adminService.updateUser(this.data.id,g(g({},this.data),this.form.value))):this.save(this.adminService.createUser(this.form.value)));}};i.ɵfac=function(o){return new(o||i)(s(_),s(b),s(j),s(w));},i.ɵcmp=f({type:i,selectors:[["softuza-users-save"]],standalone:!0,features:[E([]),O,R],decls:8,vars:3,consts:()=>{let t;t="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645";let o;o="\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644";let e;return e="\u0627\u0644\u0643\u0646\u064A\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","username","label",t],[1,"sz-form-row"],["formControlName","firstName","label",o],["formControlName","lastName","label",e],[3,"actions"]];},template:function(o,e){o&1&&(d(0,"sz-ui-dialog-header",0),a(1,"mat-dialog-content")(2,"form",1),d(3,"sz-ui-form-field-input",2),a(4,"div",3),d(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-input",5),l()()(),d(7,"sz-ui-dialog-actions",6)),o&2&&(m("header",e.header),S(2),m("formGroup",e.form),S(5),m("actions",e.actions));},dependencies:[$,z,v,D,I,F,M,k,V,W,J,K,Z,Y],encapsulation:2});let r=i;return r;})();var le=(()=>{let i=class i{constructor(t,o){this.dialog=t,this.adminService=o,this.dataSource=new te(x.paged()),this.dataSource.addRows([oe.default([N.text("username",P.username),N.text("name",P.name,e=>`${e.firstName??""} ${e.lastName??""}`),ae.menu([T.edit(e=>this.openSaveComponent(e)),T.delete(e=>this.openUserDeleteComponent(e))])])]),this.get();}openSaveComponent(t){this.dialog.open(Se,{data:t}).afterClosed().pipe(u(1)).subscribe(()=>{this.get();});}openUserDeleteComponent(t){this.dialog.open(Q,{data:ee.delete(this.adminService.deleteUser(t.id),t)}).afterClosed().pipe(u(1)).subscribe(()=>{this.get();});}get(){this.adminService.getUsers().pipe(H(this.dataSource.indicator),u(1)).subscribe(t=>{console.log(t),this.dataSource.set(t,t.length);});}};i.ɵfac=function(o){return new(o||i)(s(B),s(_));},i.ɵcmp=f({type:i,selectors:[["softuza-users"]],features:[E([se])],decls:8,vars:4,consts:()=>{let t;t="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646";let o;return o="\u0625\u0636\u0627\u0641\u0629",[["start","",1,"sz-h5"],t,[3,"dataSource","search"],["mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(o,e){o&1&&(a(0,"sz-ui-header-basic")(1,"h5",0),A(2,1),l()(),a(3,"sz-ui-table-filter",2),c("search",function(){return e.get();}),a(4,"button",3),c("click",function(){return e.openSaveComponent();}),a(5,"span"),A(6,4),l()()(),a(7,"sz-ui-table",5),c("update",function(){return e.get();}),l()),o&2&&(S(3),m("dataSource",e.dataSource),S(4),m("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[y,re,ie,C],encapsulation:2});let r=i;return r;})();var _e=[{path:"",component:le}];var at=(()=>{let i=class i{};i.ɵfac=function(o){return new(o||i)();},i.ɵmod=h({type:i}),i.ɵinj=U({providers:[_],imports:[L.forChild(_e),M,G,ne,C,X]});let r=i;return r;})();export{at as UsersModule};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/