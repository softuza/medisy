"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[536],{6536:(h,T,t)=>{t.r(T),t.d(T,{ReferenceValuesModule:()=>G});var i=t(6814),a=t(6223),_=t(2296),c=t(7700),p=t(617),n=t(8109),S=t(6883),A=t(758),C=t(3576),g=t(5041),R=t(7239),m=t(3572),f=t(1175),u=t(9598),E=t(8721),O=t(8180),F=t(4889),N=t(4796),L=t(5828),D=t(8930),e=t(5879);let v=(()=>{class l extends L.m{constructor(o,r){super(o),this.ngControl=o,this.mlabService=r,this.label="\u0648\u062D\u062F\u0629",this.contentFormat=s=>s.name,this.valueFormat=s=>s.id,this.items$=this.mlabService.units.getItems(u.J.unpagedSorted("name")).pipe((0,O.q)(1),(0,E.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(a.a5,10),e.Y36(S.t))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[e._Bn([S.t]),e.qOj,e.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","optionContentFn","optionValueFn"]],template:function(o,r){1&o&&(e._UZ(0,"sz-ui-form-field-select",0),e.ALo(1,"async")),2&o&&e.Q6J("formControl",r.control)("indicator",r.indicator)("items",e.lcZ(1,9,r.items$))("label",r.label)("placeholder",r.placeholder)("emptyOption",r.emptyOption)("multiple",r.multiple)("optionContentFn",r.contentFormat)("optionValueFn",r.valueFormat)},dependencies:[i.ez,i.Ov,a.UX,a.JJ,a.oH,D.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]}),l})();var U=t(7263),I=t(4622),P=t(6091);let y=(()=>{class l extends C.Z2{constructor(o,r,s){super(r),this.fb=o,this.dialog=r,this.data=s,this.comparisonOperators=Object.values(U.v),this.form=o.group({testClassId:[s.testClassId],unitId:[s.unitId],includeLaboratoryIds:[s.includeLaboratoryIds]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(a.qu),e.Y36(c.so),e.Y36(c.WI))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-reference-values-filter"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(o,r){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",r.header),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("actions",r.actions))},dependencies:[i.ez,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,c.Is,c.xY,C.su,I.Y,P.t,N.U,v,F.w],encapsulation:2}),l})();var z=t(5986),V=t(9157),Y=t(9004),$=t(5974),X=t(8873);let J=(()=>{class l extends C.Ku{constructor(o,r,s,M){super(s),this.mlabService=o,this.fb=r,this.dialog=s,this.data=M,this.form=r.group({description:[M?.description,[a.kI.maxLength(4096)]],testClassId:[M?.testClassId,[a.kI.required]],unitId:[M?.unitId,[]],multiplier:[M?.multiplier,[]]})}submit(){this.IsValid()&&this.save(this.data?this.mlabService.referenceValues.update(this.data.id,this.form.value):this.mlabService.referenceValues.create(this.form.value))}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(S.t),e.Y36(a.qu),e.Y36(c.so),e.Y36(c.WI))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-analysis-management-reference-values-save"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:8,vars:3,consts:function(){let d,o;return d="\u0627\u0644\u0648\u0635\u0641",o="\u0645\u0636\u0627\u0639\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",d],["formControlName","unitId"],["formControlName","multiplier","label",o],["formControlName","testClassId"],[3,"actions"]]},template:function(o,r){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),e.qZA()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&o&&(e.Q6J("header",r.header),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(5),e.Q6J("actions",r.actions))},dependencies:[i.ez,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,c.Is,c.xY,V.lN,z.p9,C.su,I.Y,P.t,Y.g,$.g,X.L,v,N.U],encapsulation:2}),l})();var B=t(2516),Z=t(8359),b=t(3144);const x=[{path:"",component:(()=>{class l{constructor(o,r){this.dialog=o,this.mlabService=r,this.dataSource=new m.b2(u.J.paged()),this.dataSource.columns=[m.UC.hyperlink("testClass","\u0635\u0646\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",s=>s.id,s=>s.testClass.name),m.UC.text("unit","\u0648\u062D\u062F\u0629",s=>s.multiplier?`10^${s.multiplier.toExponential(0).split("e").map(M=>Number(M))[1]}/${s.unit?.abbreviation}`:s.unit?.abbreviation),f.h.createdAt(),f.h.menu([m.od.edit(s=>this.openSaveComponent(s)),m.od.delete(s=>this.openReferenceValueDeleteComponent(s))])],this.get()}openSaveComponent(o){this.dialog.open(J,{data:o}).afterClosed().pipe((0,O.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(y,{data:this.dataSource.filterModel}).afterClosed().pipe((0,O.q)(1)).subscribe(r=>{this.dataSource.updateFilterModel(r),this.get()})}openReferenceValueDeleteComponent(o){this.dialog.open(C.fN,{data:C.cb.delete(this.mlabService.referenceValues.delete(o.id),o)}).afterClosed().pipe((0,O.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.mlabService.referenceValues.get(this.dataSource.filterModel).pipe((0,E.sU)(this.dataSource.indicator),(0,O.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return l.\u0275fac=function(o){return new(o||l)(e.Y36(c.uw),e.Y36(S.t))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let d,o;return d="\u0627\u0644\u0642\u064A\u0645 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629",o="\u0625\u0636\u0627\u0641\u0629",[["start","",1,"sz-h5"],d,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,r){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return r.get()})("filter",function(){return r.openFilterComponent()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return r.get()}),e.qZA()),2&o&&(e.xp6(3),e.Q6J("dataSource",r.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",r.dataSource))},dependencies:[_.lW,B.z,Z.K,b.f],encapsulation:2}),l})()}];let G=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[S.t],imports:[i.ez,a.u5,a.UX,n.Bz.forChild(x),c.Is,p.Ps,_.ot,g.n,m.Vn,R.h,A.E3,C.su]}),l})()},7263:(h,T,t)=>{t.d(T,{i:()=>a,v:()=>i});var i=(()=>((i=i||{}).Equal="Equal",i.GreaterThan="GreaterThan",i.GreaterThanOrEqual="GreaterThanOrEqual",i.LessThan="LessThan",i.LessThanOrEqual="LessThanOrEqual",i.Not="Not",i.RangeWithBoundaries="RangeWithBoundaries",i.RangeWithoutBoundaries="RangeWithoutBoundaries",i))();const a=Object.keys(i).map(_=>i[_])},8873:(h,T,t)=>{t.d(T,{L:()=>R});var i=t(6814),a=t(6223),_=t(9157),c=t(2032),p=t(8237),n=t(5879);function S(m,f){if(1&m&&(n.TgZ(0,"mat-label"),n._uU(1),n.qZA()),2&m){const u=n.oxw();n.xp6(1),n.Oqu(u.label)}}function A(m,f){1&m&&(n.TgZ(0,"mat-error"),n.SDv(1,3),n.qZA())}function C(m,f){1&m&&(n.TgZ(0,"mat-error"),n.SDv(1,4),n.qZA())}function g(m,f){1&m&&(n.TgZ(0,"mat-error"),n.SDv(1,5),n.qZA())}let R=(()=>{class m extends p.l{constructor(u){super(u),this.ngControl=u}ngOnInit(){this.control=this.ngControl.control}writeValue(u){this.value=u}}return m.\u0275fac=function(u){return new(u||m)(n.Y36(a.a5,10))},m.\u0275cmp=n.Xpm({type:m,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[n.qOj,n.jDz],decls:7,vars:7,consts:function(){let f,u,E;return f="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628",u="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u0627 \u064A\u062D\u0642\u0642 \u0627\u0644\u062D\u062F \u0627\u0644\u0627\u062F\u0646\u064A \u0644\u0644\u0637\u0648\u0644",E="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],f,u,E]},template:function(u,E){1&u&&(n.TgZ(0,"mat-form-field",0),n.YNc(1,S,2,1,"mat-label",1),n.TgZ(2,"textarea",2),n._uU(3,"  "),n.qZA(),n.YNc(4,A,2,0,"mat-error",1),n.YNc(5,C,2,0,"mat-error",1),n.YNc(6,g,2,0,"mat-error",1),n.qZA()),2&u&&(n.xp6(1),n.Q6J("ngIf",E.label),n.xp6(1),n.Q6J("formControl",E.control)("value",E.value)("placeholder",E.placeholder),n.xp6(2),n.Q6J("ngIf",E.control.hasError("required")),n.xp6(1),n.Q6J("ngIf",E.control.hasError("minlength")),n.xp6(1),n.Q6J("ngIf",E.control.hasError("maxlength")))},dependencies:[i.ez,i.O5,a.UX,a.Fj,a.JJ,a.oH,_.lN,_.KE,_.hX,_.TO,c.c,c.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),m})()},9004:(h,T,t)=>{t.d(T,{g:()=>c});var i=t(5974),a=t(8873),_=t(5879);let c=(()=>{class p{}return p.\u0275fac=function(S){return new(S||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[i.g,a.L]}),p})()}}]);