"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[602],{2602:(L,T,o)=>{o.r(T),o.d(T,{ReferenceValuesModule:()=>_e});var C=o(6814),e=o(6223),E=o(4630),g=o(9014),c=o(2296),N=o(5195),I=o(5986),h=o(3680),f=o(7700),R=o(617),A=o(2032),_=o(9038),i=o(7988),s=o(1476),m=o(5940),u=o(8525),P=o(3566),v=o(1545),B=o(5313),G=o(2596),Q=o(8109),K=o(6981),W=o(465),F=o(8380),j=o(4407),S=o(5436),b=o(9004),H=o(5041),q=o(8766),O=o(3572),U=o(2191),D=o(9598),y=o(2119),M=o(8180),w=o(7263),t=o(5879),$=o(4889),z=o(1175),Y=o(9862),k=o(3971),V=o(7398);let Z=(()=>{class l{constructor(n){this.http=n,this.path="medisy-laboratory/v1/units",this.units$=this.getUnits().pipe((0,M.q)(1)).pipe((0,V.U)(r=>r.items))}getUnits(n=D.J.unpagedSorted("name")){return this.http.get(`${this.path}`,{params:new Y.LE({fromObject:(0,k.c)(n)})})}}return l.\u0275fac=function(n){return new(n||l)(t.LFG(Y.eN))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac}),l})();var ee=o(6893),te=o(8930);let X=(()=>{class l extends ee.m{constructor(n,r){super(n),this.ngControl=n,this.unitService=r,this.label="\u0648\u062D\u062F\u0629",this.indicator=(0,t.tdS)(!0),this.contentFormat=a=>a.name,this.valueFormat=a=>a.id,this.items$=this.unitService.getUnits().pipe((0,M.q)(1),(0,V.U)(a=>a.items)).pipe((0,y.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}writeValue(n){this.value=n}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(e.a5,10),t.Y36(Z))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-form-field-unit"]],features:[t._Bn([Z]),t.qOj],decls:2,vars:11,consts:[[3,"formControl","loading","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(n,r){1&n&&(t._UZ(0,"sz-ui-form-field-select",0),t.ALo(1,"async")),2&n&&t.Q6J("formControl",r.control)("loading",r.indicator())("items",t.lcZ(1,9,r.items$))("label",r.label)("placeholder",r.placeholder)("emptyOption",r.emptyOption)("multiple",r.multiple)("contentFn",r.contentFormat)("valueFn",r.valueFormat)},dependencies:[e.JJ,e.oH,te.E,C.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),l})();var J=o(4622),x=o(6091);let oe=(()=>{class l extends S.Z2{constructor(n,r,a){super(r),this.fb=n,this.dialog=r,this.data=a,this.comparisonOperators=Object.values(w.v),this.form=n.group({testClassId:[a.testClassId],unitId:[a.unitId],laboratoryId:[a.laboratoryId]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(e.qu),t.Y36(f.so),t.Y36(f.WI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-reference-values-filter"]],features:[t._Bn([]),t.qOj],decls:7,vars:6,consts:[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","laboratoryId",3,"emptyOption"],[3,"actions"]],template:function(n,r){1&n&&(t._UZ(0,"sz-ui-dialog-header",0),t.TgZ(1,"mat-dialog-content")(2,"form",1),t._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),t.qZA()(),t._UZ(6,"sz-ui-dialog-actions",5)),2&n&&(t.Q6J("header",r.header),t.xp6(2),t.Q6J("formGroup",r.form),t.xp6(1),t.Q6J("emptyOption",!0),t.xp6(1),t.Q6J("emptyOption",!0),t.xp6(1),t.Q6J("emptyOption",!0),t.xp6(1),t.Q6J("actions",r.actions))},dependencies:[e._Y,e.JJ,e.JL,e.sg,e.u,f.xY,$.w,z.U,X,J.Y,x.t],encapsulation:2}),l})();var ne=o(6187),re=o(5974),le=o(8873);let ae=(()=>{class l extends S.Ku{constructor(n,r,a,p){super(a),this.referenceValueService=n,this.fb=r,this.dialog=a,this.data=p,this.form=r.group({description:[p?.description,[e.kI.maxLength(4096)]],testClassId:[p?.testClassId,[e.kI.required]],unitId:[p?.unitId,[]],multiplier:[p?.multiplier,[]],laboratoryId:[p?.laboratoryId,[e.kI.required]]})}submit(){this.IsValid()&&this.save(this.data?this.referenceValueService.updateReferenceValue(this.data.id,this.form.value):this.referenceValueService.createReferenceValue(this.form.value))}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(F.U),t.Y36(e.qu),t.Y36(f.so),t.Y36(f.WI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-analysis-management-reference-values-save"]],features:[t._Bn([ne.T]),t.qOj],decls:9,vars:3,consts:function(){let d,n;return d="\u0627\u0644\u0648\u0635\u0641",n="\u0645\u0636\u0627\u0639\u0641",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","label",d],["formControlName","unitId"],["formControlName","multiplier","label",n],["formControlName","testClassId"],["formControlName","laboratoryId"],[3,"actions"]]},template:function(n,r){1&n&&(t._UZ(0,"sz-ui-dialog-header",0),t.TgZ(1,"mat-dialog-content")(2,"form",1),t._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5)(7,"medisy-form-field-laboratory",6),t.qZA()(),t._UZ(8,"sz-ui-dialog-actions",7)),2&n&&(t.Q6J("header",r.header),t.xp6(2),t.Q6J("formGroup",r.form),t.xp6(6),t.Q6J("actions",r.actions))},dependencies:[e._Y,e.JJ,e.JL,e.sg,e.u,f.xY,re.g,le.J,$.w,z.U,X,J.Y,x.t],encapsulation:2}),l})();var ie=o(2516),se=o(9692),me=o(9288);const de=[{path:"",component:(()=>{class l{constructor(n,r){this.dialog=n,this.valueReferenceService=r,this.dataSource=new O.b2(D.J.paged()),this.dataSource.columns=[O.UC.hyperlink("testClass","\u0635\u0646\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",a=>a.id,a=>a.testClass.name),O.UC.text("unit","\u0648\u062D\u062F\u0629",a=>a.multiplier?`10^${a.multiplier.toExponential(0).split("e").map(p=>Number(p))[1]}/${a.unit?.abbreviation}`:a.unit?.abbreviation),U.h.createdAt(),U.h.menu([O.od.edit(a=>this.openSaveComponent(a)),O.od.delete(a=>this.openReferenceValueDeleteComponent(a))])],this.get()}openSaveComponent(n){this.dialog.open(ae,{data:n}).afterClosed().pipe((0,M.q)(1)).subscribe(a=>{this.dataSource.updateOrPushItem(a)})}openFilterComponent(){this.dialog.open(oe,{data:this.dataSource.filterModel}).afterClosed().pipe((0,M.q)(1)).subscribe(r=>{this.dataSource.updateFilterModel(r),this.get()})}openReferenceValueDeleteComponent(n){this.dialog.open(S.fN,{data:S.cb.delete(this.valueReferenceService.deleteReferenceValue(n.id),n.id)}).afterClosed().pipe((0,M.q)(1)).subscribe(a=>{this.dataSource.delete(a)})}get(){this.valueReferenceService.getReferenceValues(this.dataSource.filterModel).pipe((0,y.sU)(this.dataSource.indicator),(0,M.q)(1)).subscribe(n=>{this.dataSource.set(n.items,n.count)})}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(f.uw),t.Y36(F.U))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let d,n;return d="\u0627\u0644\u0642\u064A\u0645 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629",n="\u0625\u0636\u0627\u0641\u0629",[["start","",1,"sz-h5"],d,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],n,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(n,r){1&n&&(t.TgZ(0,"sz-ui-header-basic")(1,"h5",0),t.SDv(2,1),t.qZA()(),t.TgZ(3,"sz-ui-table-filter",2),t.NdJ("search",function(){return r.get()})("filter",function(){return r.openFilterComponent()}),t.TgZ(4,"button",3),t.NdJ("click",function(){return r.openSaveComponent()}),t.TgZ(5,"span"),t.SDv(6,4),t.qZA()()(),t.TgZ(7,"sz-ui-table",5),t.NdJ("update",function(){return r.get()}),t.qZA()),2&n&&(t.xp6(3),t.Q6J("dataSource",r.dataSource),t.xp6(4),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",r.dataSource))},dependencies:[ie.z,se.K,me.f,c.lW],encapsulation:2}),l})()}];let _e=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[F.U],imports:[C.ez,e.u5,e.UX,Q.Bz.forChild(de),f.Is,E.Bb,B.p0,s.TU,A.c,H.n,O.Vn,q.h,b.g,K.F,j.E,S.su,I.p9,i.Tx,R.Ps,c.ot,u.LD,v.T5,G.AV,_.ie,P.JX,g.g,h.XK,N.QW,m.Cq,W.L,S.su]}),l})()},5974:(L,T,o)=>{o.d(T,{g:()=>_});var C=o(2757),e=o(5879),E=o(6223),g=o(6814),c=o(9157),N=o(2032);function I(i,s){if(1&i&&(e.TgZ(0,"mat-label"),e._uU(1),e.qZA()),2&i){const m=e.oxw();e.xp6(1),e.Oqu(m.label)}}function h(i,s){1&i&&(e.TgZ(0,"mat-error"),e.SDv(1,2),e.qZA())}function f(i,s){1&i&&(e.TgZ(0,"mat-error"),e.SDv(1,3),e.qZA())}function R(i,s){1&i&&(e.TgZ(0,"mat-error"),e.SDv(1,4),e.qZA())}function A(i,s){1&i&&(e.TgZ(0,"mat-error"),e.SDv(1,5),e.qZA())}let _=(()=>{class i extends C.l{constructor(m){super(m),this.ngControl=m}ngOnInit(){this.control=this.ngControl.control}writeValue(m){this.value=m}}return i.\u0275fac=function(m){return new(m||i)(e.Y36(E.a5,10))},i.\u0275cmp=e.Xpm({type:i,selectors:[["sz-ui-form-field-input"]],features:[e.qOj],decls:7,vars:8,consts:function(){let s,m,u,P;return s="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628",m="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u0627 \u064A\u062D\u0642\u0642 \u0627\u0644\u062D\u062F \u0627\u0644\u0627\u062F\u0646\u064A \u0644\u0644\u0637\u0648\u0644",u="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",P="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0637\u0644\u0648\u0628",[[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],s,m,u,P]},template:function(m,u){1&m&&(e.TgZ(0,"mat-form-field"),e.YNc(1,I,2,1,"mat-label",0),e._UZ(2,"input",1),e.YNc(3,h,2,0,"mat-error",0),e.YNc(4,f,2,0,"mat-error",0),e.YNc(5,R,2,0,"mat-error",0),e.YNc(6,A,2,0,"mat-error",0),e.qZA()),2&m&&(e.xp6(1),e.Q6J("ngIf",u.label),e.xp6(1),e.Q6J("formControl",u.control)("value",u.value)("placeholder",u.placeholder),e.xp6(1),e.Q6J("ngIf",u.control.hasError("required")),e.xp6(1),e.Q6J("ngIf",u.control.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",u.control.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",u.control.hasError("email")))},dependencies:[g.O5,E.Fj,E.JJ,E.oH,c.KE,c.hX,c.TO,N.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})()},8873:(L,T,o)=>{o.d(T,{J:()=>A});var C=o(2757),e=o(5879),E=o(6223),g=o(6814),c=o(9157),N=o(2032);function I(_,i){if(1&_&&(e.TgZ(0,"mat-label"),e._uU(1),e.qZA()),2&_){const s=e.oxw();e.xp6(1),e.Oqu(s.label)}}function h(_,i){1&_&&(e.TgZ(0,"mat-error"),e.SDv(1,3),e.qZA())}function f(_,i){1&_&&(e.TgZ(0,"mat-error"),e.SDv(1,4),e.qZA())}function R(_,i){1&_&&(e.TgZ(0,"mat-error"),e.SDv(1,5),e.qZA())}let A=(()=>{class _ extends C.l{constructor(s){super(s),this.ngControl=s}ngOnInit(){this.control=this.ngControl.control}writeValue(s){this.value=s}}return _.\u0275fac=function(s){return new(s||_)(e.Y36(E.a5,10))},_.\u0275cmp=e.Xpm({type:_,selectors:[["sz-ui-form-field-textarea"]],features:[e.qOj],decls:7,vars:7,consts:function(){let i,s,m;return i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628",s="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u0627 \u064A\u062D\u0642\u0642 \u0627\u0644\u062D\u062F \u0627\u0644\u0627\u062F\u0646\u064A \u0644\u0644\u0637\u0648\u0644",m="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],i,s,m]},template:function(s,m){1&s&&(e.TgZ(0,"mat-form-field",0),e.YNc(1,I,2,1,"mat-label",1),e.TgZ(2,"textarea",2),e._uU(3,"  "),e.qZA(),e.YNc(4,h,2,0,"mat-error",1),e.YNc(5,f,2,0,"mat-error",1),e.YNc(6,R,2,0,"mat-error",1),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngIf",m.label),e.xp6(1),e.Q6J("formControl",m.control)("value",m.value)("placeholder",m.placeholder),e.xp6(2),e.Q6J("ngIf",m.control.hasError("required")),e.xp6(1),e.Q6J("ngIf",m.control.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",m.control.hasError("maxlength")))},dependencies:[g.O5,E.Fj,E.JJ,E.oH,c.KE,c.hX,c.TO,N.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),_})()}}]);