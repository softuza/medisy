import{a as c,b as C}from"./chunk-FU3AHCU2.js";import{a as y,b as B}from"./chunk-5E7MF7QM.js";import{a}from"./chunk-K4OOKUQ2.js";import{a as l}from"./chunk-HLRWMEWV.js";import"./chunk-K6V7CDNO.js";import{a as m}from"./chunk-RZMF5OBM.js";import{g as o}from"./chunk-2H57PQRQ.js";import{h as j}from"./chunk-WSRIOYTJ.js";import{b as w,c as t}from"./chunk-4NIIIJVR.js";import"./chunk-6FRRGOY6.js";import{c as I,e as N}from"./chunk-OML62A3D.js";import{ia as $}from"./chunk-YDNNJYIT.js";import"./chunk-7BDCTZU5.js";import{Fb as T,Hb as d,Ib as f,Jb as g,Kb as h,Lb as _,Mb as v,Zb as S,bb as p,cb as M,ea as F,ic as x,ja as z,jc as A,na as R,oa as k,vb as G,zb as u}from"./chunk-5JWJCQP4.js";import"./chunk-E7WAML37.js";function L(r,i){if(r&1&&(h(0,"sz-ui-card",2)(1,"p",3),x(2),_()()),r&2){let n=i.$implicit;u("card",n),p(2),A(n.content)}}function P(r,i){if(r&1&&(v(0,"sz-ui-app-bar",0),h(1,"div",1),f(2,L,3,2,"sz-ui-card",2,d),_()),r&2){let n=S().$implicit,e=S();u("config",e.getGroupAppBarConfig(n)),p(2),g(n.cards)}}function U(r,i){if(r&1&&G(0,P,4,1),r&2){let n=i.$implicit;T(n.cards.length>0?0:-1)}}var D=(()=>{let i=class i{constructor(e){this.router=e,this.identityService=z(B),this.appBarConfig={title:t.settings},this.cardGroups=[{id:"admin",title:t.users,cards:[]}],this.identityService.hasResource("medisy-laboratory-api")&&this.cardGroups.push(...this.addMedisySettings()),this.identityService.hasResource("constr-construction-api")&&this.cardGroups.push(...this.AddConstrSettings()),this.identityService.hasResource("softuza-notification-api")&&this.cardGroups.push(...this.addSoftuzaNotificationSettings()),this.identityService.hasResource("softuza-reporting-api")&&this.cardGroups.push(...this.addSoftuzaReportingSettings()),this.setupAccessManagementSection()}getGroupAppBarConfig(e){return{title:e.title}}addMedisySettings(){let e=[],s=[{id:"mlab",title:t.laboratories,cards:e}];return e.push({icon:o.biotech,header:{title:t.laboratories,subtitle:t.manage_laboratories},clickFn:()=>this.router.navigate([a.Laboratories])},{icon:o.science,header:{title:t.test_types,subtitle:t.manage_test_types},clickFn:()=>this.router.navigate([a.TestTypes])},{icon:o.science,header:{title:t.test_groups,subtitle:t.manage_test_groups},clickFn:()=>this.router.navigate([a.TestGroups])},{icon:o.compare_arrows,header:{title:t.reference_values,subtitle:t.manage_reference_values},clickFn:()=>this.router.navigate([a.ReferenceValues])},{icon:o.type_specimen,header:{title:t.specimen_types,subtitle:t.view_specimen_types},clickFn:()=>this.router.navigate([a.SpecimenTypes])},{icon:o.people_outline,header:{title:t.referrers,subtitle:t.manage_referrers},clickFn:()=>this.router.navigate([a.Referrers])}),s}AddConstrSettings(){let e=[];return[]}addSoftuzaNotificationSettings(){let e=[],s=[{id:"snti",title:t.notifications,cards:e}];return e.push({icon:o.notifications,header:{title:t.notifications,subtitle:t.manage_notifications},clickFn:()=>this.router.navigate([c.Notifications])},{icon:o.email,header:{title:t.email_notification,subtitle:t.manage_emails},clickFn:()=>this.router.navigate([c.NotificationEmails])},{icon:o.sms,header:{title:t.sms_notification,subtitle:t.manage_sms},clickFn:()=>this.router.navigate([c.NotificationSmses])},{icon:o.announcement,header:{title:t.push_notification,subtitle:t.manage_push},clickFn:()=>this.router.navigate([c.NotificationPushes])},{icon:o.messages,header:{title:t.messages,subtitle:t.manage_messages},clickFn:()=>this.router.navigate([c.Messages])}),s}addSoftuzaReportingSettings(){let e=[],s=[{id:"srpt",title:t.reporting,cards:e}];return e.push({icon:o.summarize,header:{title:t.templates,subtitle:t.manage_templates},clickFn:()=>this.router.navigate([`/${C.Templates}`])},{icon:o.printer,header:{title:t.printers,subtitle:t.manage_printers},clickFn:()=>this.router.navigate([`/${C.Printers}`])}),s}setupAccessManagementSection(){let e=this.cardGroups.find(s=>s.id==="admin");e&&this.identityService.hasResource("realm-management")&&(this.identityService.hasResouceRole("realm-management","manage-users")&&e.cards.push({icon:o.group,header:{title:t.users,subtitle:t.manage_users},clickFn:()=>this.router.navigate([y.Users])}),e.cards.push({icon:o.groups,header:{title:t.groups,subtitle:t.manage_groups},clickFn:()=>this.router.navigate([y.Groups])}))}};i.\u0275fac=function(s){return new(s||i)(M(I))},i.\u0275cmp=R({type:i,selectors:[["portal-settings"]],decls:3,vars:1,consts:[[3,"config"],[1,"sz-grid-card"],[3,"card"],["title",""]],template:function(s,b){s&1&&(v(0,"sz-ui-app-bar",0),f(1,U,1,1,null,null,d)),s&2&&(u("config",b.appBarConfig),p(),g(b.cardGroups))},dependencies:[l,m],encapsulation:2});let r=i;return r})();var pt=(()=>{let i=class i{};i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=k({type:i}),i.\u0275inj=F({imports:[N.forChild([{path:"",component:D}]),j,$,l,w,m]});let r=i;return r})();export{pt as SettingsModule};
/**i18n:0723fdc6bb4a61bdf6e4521b7e87431ed83fc9fa1984f79dc75da1b4dd886659*/
