import{a as ne,b as C}from"./chunk-OVW7HIAR.js";import{a as de,b as fe}from"./chunk-FBTQAZLL.js";import{a as le}from"./chunk-XCORAYD3.js";import{a as pe}from"./chunk-6BXMILMW.js";import{a as M}from"./chunk-HQ4HWYF5.js";import"./chunk-2C6ZG32C.js";import"./chunk-BFNKN4FR.js";import"./chunk-J77FR5T5.js";import"./chunk-U2CX3P3A.js";import{h as k}from"./chunk-R5DLLZNU.js";import{h as me,i as ae,j as se,m as h}from"./chunk-Z7KLU4V7.js";import{a as W,b as Z,d as ee,e as oe,g as c}from"./chunk-KTE63I7O.js";import{D as Q,x as J,y as K}from"./chunk-OTJHTEGW.js";import{d as g,g as L,h as b,l as $,n as V,o as Y,p as j,r as G,s as B}from"./chunk-PM3MLZ5N.js";import{a as d}from"./chunk-BKOX3ZG5.js";import{a as _}from"./chunk-6S7G73HY.js";import{b as E}from"./chunk-NT6UYCEL.js";import"./chunk-D6GK7FD3.js";import{a as x,c as U,e as X}from"./chunk-RKRWHYTW.js";import{d as te,f as ie,i as s,j as re}from"./chunk-XH773ZYS.js";import{b as q}from"./chunk-RWS4GOM6.js";import{Ra as w,Ua as H}from"./chunk-5FPJF3YL.js";import{Bb as f,Cb as l,Db as a,L as v,Zb as S,ac as T,cb as P,da as D,db as m,ec as F,fc as R,kb as I,la as u,ma as y,nb as p,wb as O,xb as A,yb as z}from"./chunk-QHZO24TE.js";var Se=(()=>{let o=class o extends me{constructor(i,t,r,n){super(r),this.mpplService=i,this.fb=t,this.dialog=r,this.data=n,this.form=t.group({sex:[n.sex,[g.required]],languageId:[n.languageId,[g.required]],title:[n.title,[]],ssn:[n.ssn,[]],nationalityId:[n.nationalityId,[]],birthDate:[n.birthDate,[]]});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,this.form.value));}};o.ɵfac=function(t){return new(t||o)(m(M),m(j),m(W),m(Z));},o.ɵcmp=u({type:o,selectors:[["medisy-people-person-save"]],standalone:!0,features:[S([]),I,T],decls:12,vars:3,consts:()=>{let i;i="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let t;t="\u0627\u0644\u0644\u0642\u0628";let r;return r="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",i],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",t],["formControlName","birthDate","label",r],[3,"actions"]];},template:function(t,r){t&1&&(a(0,"sz-ui-dialog-header",0),f(1,"mat-dialog-content")(2,"form",1)(3,"div",2),a(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),l(),a(6,"medisy-form-field-language",5),f(7,"div",2),a(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),l(),a(10,"sz-ui-form-field-date",8),l()(),a(11,"sz-ui-dialog-actions",9)),t&2&&(p("header",r.header),P(2),p("formGroup",r.form),P(9),p("actions",r.actions));},dependencies:[B,$,L,b,V,Y,h,ae,se,Q,K,c,oe,de,J,fe,le],encapsulation:2});let e=o;return e;})();function Ee(e,o){if(e&1&&a(0,"sz-ui-card",2),e&2){let Me=o.$implicit;p("card",Me);}}var ce=(()=>{let o=class o{constructor(i,t,r,n){this.dialog=i,this.mlabService=t,this.route=r,this.router=n,this.items=[],this.personMenu=re.more([s.edit(()=>this.openSaveComponent()),s.divider(),s.default(d.names,"info",()=>this.navigate("names")),s.default(d.phones,"phone",()=>this.navigate("phones")),s.default(d.emails,"alternate_email",()=>this.navigate("emails")),s.default(d.addresses,"home",()=>this.navigate("addresses")),s.default(d.documents,"badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let N={title:0,type:ne.Counter,icon:"science",subtitle:"\u0627\u0644\u062A\u062D\u0627\u0644\u064A\u0644",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(N),this.getAnalysisCount(N);}navigate(i){this.router.navigate([i],{relativeTo:this.route});}getAnalysisCount(i){this.mlabService.analyses.count().subscribe(t=>{i.title=t;});}openSaveComponent(){this.dialog.open(Se,{data:this.person}).afterClosed().pipe(v(1)).subscribe(i=>{i&&(this.person=i);});}};o.ɵfac=function(t){return new(t||o)(m(ee),m(_),m(x),m(U));},o.ɵcmp=u({type:o,selectors:[["medisy-peopel-person"]],features:[S([_])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(t,r){t&1&&(a(0,"sz-ui-header-info",0),F(1,"personName"),f(2,"div",1),A(3,Ee,1,1,"sz-ui-card",2,O),l()),t&2&&(p("title",R(1,2,r.person))("menu",r.personMenu),z(3,r.items));},dependencies:[C,E,pe],encapsulation:2});let e=o;return e;})();var _e=[{path:"",component:ce},{path:"names",loadComponent:()=>import("./chunk-ROHNL7WE.js").then(e=>e.PersonNamesComponent)},{path:"phones",loadComponent:()=>import("./chunk-PEIZTBEL.js").then(e=>e.PersonPhonesComponent)},{path:"emails",loadComponent:()=>import("./chunk-5LGRVE64.js").then(e=>e.PersonEmailsComponent)},{path:"documents",loadComponent:()=>import("./chunk-MZIXRBCI.js").then(e=>e.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>import("./chunk-PQRPIJ7Y.js").then(e=>e.PersonAddressesComponent)}];var _o=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=y({type:o}),o.ɵinj=D({providers:[M],imports:[G,X.forChild(_e),k,H,C,h,E,te,q,c,w,ie]});let e=o;return e;})();export{_o as PersonModule};/**i18n:57dc3d08d446ad135ce8eaf97a2b2ecae498355fbf7683f31ebc8820589c1c80*/