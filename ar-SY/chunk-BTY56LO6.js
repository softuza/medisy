import{g as r}from"./chunk-5NBLFYXZ.js";import{b as j}from"./chunk-RQPF7GIR.js";import{a as n,b as A,c as R,q as E,r as _}from"./chunk-4NDBE333.js";import{c as T,l as D,n as I}from"./chunk-UJAW327Y.js";import{d as v}from"./chunk-JW5GSDNP.js";import{c as M}from"./chunk-ZVQOD7OG.js";import{a as C}from"./chunk-TJ6J6WZC.js";import{a as z}from"./chunk-OGDXQP2U.js";import{a as h,e as g}from"./chunk-KYUPPZUX.js";import{Bb as u,Cb as f,L as l,Pb as S,Zb as y,ac as b,db as o,la as d,nb as c}from"./chunk-3QIFGVJ6.js";var Y=(()=>{let a=class a{constructor(e,i,s,m){this.route=e,this.dialog=i,this.mlabService=s,this.typeI18nPipe=m,this.dataSource=new A(z.unpagedSorted("-createdAt")),this.analysis=this.route.snapshot.data.analysis,this.dataSource.addRows(R.default([n.hyperlink("code","\u0627\u0644\u0631\u0645\u0632",t=>t.id,t=>t.specimen.code.toString()),n.text("specimen.type","\u0627\u0644\u0646\u0645\u0637",t=>t.specimen.type.name),n.text("specimen.state","\u0627\u0644\u062D\u0627\u0644\u0629",t=>m.transform(t.specimen.state)),j.menu([M.delete(t=>this.openDeleteAnalysisSpecimenComponent(t))])])),this.get();}openDeleteAnalysisSpecimenComponent(e){this.dialog.open(D,{data:I.delete(this.mlabService.analyses.specimens.delete(e.analysisId,e.id),e)}).afterClosed().pipe(l(1)).subscribe(i=>{this.dataSource.delete(i);});}get(){this.mlabService.analyses.specimens.get(this.analysis.id,this.dataSource.filterModel).pipe(T(this.dataSource.indicator)).pipe(l(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};a.ɵfac=function(i){return new(i||a)(o(h),o(v),o(C),o(r));},a.ɵcmp=d({type:a,selectors:[["medisy-laboratory-analysis-specimens"]],standalone:!0,features:[y([r]),b],decls:1,vars:3,consts:[[3,"paginationEnabled","stateEnabled","dataSource","update"]],template:function(i,s){i&1&&(u(0,"sz-ui-table",0),S("update",function(){return s.get();}),f()),i&2&&c("paginationEnabled",!1)("stateEnabled",!0)("dataSource",s.dataSource);},dependencies:[g,_,E],encapsulation:2});let p=a;return p;})();export{Y as a};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/