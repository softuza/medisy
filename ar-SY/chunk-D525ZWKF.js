import{e as ve}from"./chunk-OIBPFNT7.js";import"./chunk-DYF5VNNH.js";import{b as A}from"./chunk-BXRRBUXH.js";import{b as Ie}from"./chunk-EPZDIXX3.js";import{a as g}from"./chunk-A7GQRDTI.js";import{a as he,b as Ae,c as Re,d as De,e as ye}from"./chunk-XQJTLSW3.js";import{a as L}from"./chunk-VRSIL5GJ.js";import{h as Se}from"./chunk-2XAO4NGN.js";import"./chunk-4LPXBF4W.js";import{a as $e}from"./chunk-RZK5BQ6B.js";import"./chunk-TWBGWNGA.js";import"./chunk-JRUBGHEE.js";import{a as c}from"./chunk-PL4MR2GH.js";import{f as ge,g as Te,h as Le,k as I}from"./chunk-7X57PM37.js";import"./chunk-JQT4R7GV.js";import"./chunk-FJN7IPRV.js";import{b as T}from"./chunk-IQZQN23K.js";import{d as fe,g as C,h as Pe,j as Ce,l as ce}from"./chunk-DVP7SI2Y.js";import{a as _e,b as ae,d as le,e as se,g as f}from"./chunk-A4VZDCMN.js";import{c as de,d as pe,m as Me,q as Oe,r as Ne,t as ue}from"./chunk-56B7SY65.js";import"./chunk-5U3VDL4S.js";import{b as h}from"./chunk-TLW5FHGJ.js";import"./chunk-BLWEVJSC.js";import{b as Ee,c as P}from"./chunk-IPNLK4JQ.js";import"./chunk-AFEBAW55.js";import{d as M,f as q,g as W,j as O,k as J,m as K,p as Q,q as Z,s as ee,t as oe}from"./chunk-BHEDLFH7.js";import"./chunk-M3ENAOYB.js";import{a as ie,c as te,e as ne}from"./chunk-KE6LGXGX.js";import{c as me}from"./chunk-C5QDVZ7D.js";import{ia as re}from"./chunk-HX7WXKH6.js";import"./chunk-OC2OOWUG.js";import{Fb as Y,Gb as x,Hb as j,Ib as S,Jb as _,Kb as a,Ub as p,a as B,b as F,ha as G,jb as E,kb as s,kc as u,nc as w,qa as N,ra as U,rb as X,rc as k,sc as H,yb as m}from"./chunk-G52QRAV6.js";var Ve=(()=>{let e=class e extends ge{constructor(t,o,n,r){super(n),this.mpplService=t,this.fb=o,this.dialog=n,this.data=r,this.nationalities=this.mpplService.nationalities.getAll({orderBy:["name"]}),this.languages=this.mpplService.languages.getAll({orderBy:["name"]}),this.sexes=Object.keys(A).map(d=>A[d]),this.form=o.group({sex:[r.sex,[M.required]],languageId:[r.languageId,[M.required]],title:[r.title,[$e()]],ssn:[r.ssn,[]],nationalityId:[r.nationalityId,[]],birthDate:[r.birthDate,[]],primaryEmail:[r?.primaryEmail,[M.email]],secondaryEmail:[r?.secondaryEmail,[M.email]],mobilePhone:new O(r?.mobilePhone),homePhone:new O(r?.homePhone),workPhone:new O(r?.workPhone),homeAddress:new O(r?.homeAddress)});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,F(B({},this.form.value),{titleId:this.form.value.title?.id})));}};e.ɵfac=function(o){return new(o||e)(s(g),s(Z),s(_e),s(ae));},e.ɵcmp=N({type:e,selectors:[["sz-medisy-people-person-save"]],standalone:!0,features:[u([]),X,w],decls:40,vars:7,consts:()=>{let t;t="\u0627\u0644\u062C\u0646\u0633\u064A\u0629";let o;o="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let n;n="\u0627\u0644\u0644\u063A\u0629";let r;r="\u0627\u0644\u062C\u0646\u0633";let d;d="\u0627\u0644\u0644\u0642\u0628";let R;R="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629";let D;D="\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0646\u0632\u0644";let y;y="\u0627\u0644\u0647\u0627\u062A\u0641 \u0627\u0644\u062C\u0648\u0627\u0644";let $;$="\u0647\u0627\u062A\u0641 \u0627\u0644\u0645\u0646\u0632\u0644";let v;v="\u0647\u0627\u062A\u0641 \u0627\u0644\u0639\u0645\u0644";let z;z="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A";let V;V="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0627\u0644\u0627\u0633\u0627\u0633\u064A";let b;return b="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0627\u0644\u062B\u0627\u0646\u0648\u064A",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId","label",t,3,"source"],["formControlName","ssn","label",o],["formControlName","languageId","label",n,3,"source"],["formControlName","sex","label",r,3,"source","localizedValue"],["formControlName","title","label",d],["formControlName","birthDate","label",R],[1,"tw-mb-4"],["multi",""],D,["formControlName","homeAddress"],y,["formControlName","mobilePhone"],$,["formControlName","homePhone"],v,["formControlName","workPhone"],z,["formControlName","primaryEmail","label",V],["formControlName","secondaryEmail","label",b],[3,"actions"]];},template:function(o,n){o&1&&(a(0,"sz-ui-dialog-header",0),S(1,"mat-dialog-content")(2,"form",1)(3,"div",2),a(4,"sz-ui-form-field-select",3)(5,"sz-ui-form-field-input",4),_(),a(6,"sz-ui-form-field-select",5),S(7,"div",2),a(8,"sz-ui-form-field-select",6)(9,"sz-medisy-people-title-search",7),_(),a(10,"sz-ui-form-field-date",8),S(11,"div",9)(12,"mat-accordion",10)(13,"mat-expansion-panel")(14,"mat-expansion-panel-header")(15,"mat-panel-title"),p(16,11),_()(),a(17,"sz-ui-form-field-address",12),_(),S(18,"mat-expansion-panel")(19,"mat-expansion-panel-header")(20,"mat-panel-title"),p(21,13),_()(),a(22,"sz-ui-form-field-phone-number",14),_(),S(23,"mat-expansion-panel")(24,"mat-expansion-panel-header")(25,"mat-panel-title"),p(26,15),_()(),a(27,"sz-ui-form-field-phone-number",16),_(),S(28,"mat-expansion-panel")(29,"mat-expansion-panel-header")(30,"mat-panel-title"),p(31,17),_()(),a(32,"sz-ui-form-field-phone-number",18),_(),S(33,"mat-expansion-panel")(34,"mat-expansion-panel-header")(35,"mat-panel-title"),p(36,19),_()(),a(37,"sz-ui-form-field-input",20)(38,"sz-ui-form-field-input",21),_()()()()(),a(39,"sz-ui-dialog-actions",22)),o&2&&(m("header",n.header),E(2),m("formGroup",n.form),E(2),m("source",n.nationalities),E(2),m("source",n.languages),E(2),m("source",n.sexes)("localizedValue",!0),E(31),m("actions",n.actions));},dependencies:[oe,J,q,W,K,Q,I,Te,Le,ue,de,f,se,ye,De,he,Ae,Re,Me,ve,Oe,pe,Ne],encapsulation:2});let i=e;return i;})();function Ue(i,e){if(i&1&&a(0,"sz-ui-card",2),i&2){let Fe=e.$implicit;m("card",Fe);}}var be=(()=>{let e=class e{constructor(t,o,n,r){this.dialog=t,this.mlabService=o,this.route=n,this.router=r,this.items=[],this.personMenu=ce.more([Ce.edit(()=>this.openSaveComponent()),C.divider(),C.item(P.names,"info",()=>this.navigate("names")),C.item(P.documents,"badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let d={title:0,icon:"science",subtitle:P.analyses,indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{state:{filter:{field:"personId",op:h.Equal,value:this.person.id}}})};this.items.push(d),this.getAnalysisCount(d);}navigate(t){this.router.navigate([t],{relativeTo:this.route});}getAnalysisCount(t){this.mlabService.analyses.count({filters:[{field:"personId",op:h.Equal,value:this.person.id}]}).subscribe(o=>{t.title=o;});}openSaveComponent(){this.dialog.open(Ve,{data:this.person}).afterClosed().subscribe(t=>{t&&(this.person=t);});}};e.ɵfac=function(o){return new(o||e)(s(le),s(c),s(ie),s(te));},e.ɵcmp=N({type:e,selectors:[["sz-medisy-people-person"]],features:[u([c])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(o,n){o&1&&(a(0,"sz-ui-header-info",0),k(1,"personName"),S(2,"div",1),x(3,Ue,1,1,"sz-ui-card",2,Y),_()),o&2&&(m("title",H(1,2,n.person))("menu",n.personMenu),E(3),j(n.items));},dependencies:[L,T,Ie],encapsulation:2});let i=e;return i;})();var Be=[{path:"",component:be},{path:"names",loadComponent:()=>import("./chunk-2TJFQPBG.js").then(i=>i.PersonNamesComponent)},{path:"documents",loadComponent:()=>import("./chunk-2M5MSMCO.js").then(i=>i.PersonDocumentsComponent)}];var Go=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=U({type:e}),e.ɵinj=G({providers:[g],imports:[ee,ne.forChild(Be),Se,re,L,I,T,fe,Ee,f,me,Pe]});let i=e;return i;})();export{Go as PersonModule};/**i18n:3c79f61dd4ae219236c62485f036b897dde9f999c4ae619f8589958cf23779e7*/