import{a as De}from"./chunk-Z4QHTS72.js";import{b as Ne}from"./chunk-QP7T6DKG.js";import{a as Re,c as Fe,e as ve,g as Le,q as Ie,r as be,s as _}from"./chunk-UVZVL7YE.js";import{a as F}from"./chunk-VIRVU42S.js";import{a as p}from"./chunk-3HOMBLD6.js";import{a as L,h as Oe,i as Te,j as he,l as Ae,m as I,n as Pe}from"./chunk-I7URJTBN.js";import"./chunk-OON45GFZ.js";import{b as v}from"./chunk-AZIM6N3H.js";import{g as z}from"./chunk-F2NCOJMX.js";import{a as Me,b as Ee,d as Ce,e as ge,g as R}from"./chunk-GX7FEJ3W.js";import{A as Se,a as oe,b as re,g as ne,h as ae,o as pe,v as _e,w as ce,x as ue,z as fe}from"./chunk-HN3QCICR.js";import{L as W,N as Z,Q as me,R as se,d as y,e as Y,f as N,g as H,k,l as w,m as q,p as J,q as K,s as Q,t as C,xa as de}from"./chunk-BXVEVM4T.js";import"./chunk-MCX5CS6H.js";import{Ea as te,Ga as ie,Ja as le,ya as ee}from"./chunk-ILHRA673.js";import{Bb as B,Cb as j,Db as X,Eb as l,Fb as m,Gb as c,M as f,Qb as M,Sb as E,Ub as b,a as $,b as V,dc as h,ea as x,ec as D,fb as a,gb as s,gc as A,jc as P,na as S,nb as T,oa as G,qb as g,ub as d,zb as u}from"./chunk-ORGLCS6N.js";function Be(r,e){if(r&1&&(l(0,"mat-label"),h(1),m()),r&2){let O=b();a(),D(O.label);}}function je(r,e){r&1&&(l(0,"mat-option"),h(1,"-"),m());}function Xe(r,e){if(r&1&&(l(0,"mat-option",4),h(1),m()),r&2){let O=e.$implicit,t=b();d("value",t.getOptionValue(O)),a(),D(t.getOptionContent(O));}}function Ye(r,e){r&1&&(l(0,"mat-error"),M(1,5),m());}function He(r,e){r&1&&(l(0,"mat-error"),M(1,6),m());}function ke(r,e){r&1&&(l(0,"mat-error"),M(1,7),m());}function we(r,e){r&1&&c(0,"mat-progress-bar",3);}var ze=(()=>{let e=class e extends pe{constructor(t,i){super(t),this.ngControl=t,this.mlabService=i,this.label=F.unit;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.units.get(V($({},de.unpaged()),{orderBy:"name"})).pipe(f(1),L(this.indicator)).subscribe(t=>{this.options.push(...t.items),this.totalPages=t.totalPages;});}};e.ɵfac=function(i){return new(i||e)(s(Y,10),s(p));},e.ɵcmp=S({type:e,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[A([p]),T,P],decls:11,vars:10,consts:()=>{let t;t="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u064A\u0633 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644";let o;return o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],t,i,o];},template:function(i,o){i&1&&(l(0,"div",0)(1,"mat-form-field",1),g(2,Be,2,1,"mat-label"),l(3,"mat-select",2),E("szScrolled",function(){return o.scroll();}),g(4,je,2,0,"mat-option"),j(5,Xe,2,2,"mat-option",4,B),m(),g(7,Ye,2,0,"mat-error")(8,He,2,0,"mat-error")(9,ke,2,0,"mat-error"),m(),g(10,we,1,0,"mat-progress-bar",3),m()),i&2&&(a(2),u(2,o.label?2:-1),a(),d("formControl",o.control)("multiple",o.multiple)("placeholder",o.placeholder)("szScrollIgnored",o.indicator()),a(),u(4,o.emptyOption?4:-1),a(),X(o.options),a(2),u(7,o.control.hasError("required")?7:-1),a(),u(8,o.control.hasError("min")?8:-1),a(),u(9,o.control.hasError("max")?9:-1),a(),u(10,o.indicator()?10:-1));},dependencies:[C,N,w,ue,ne,oe,re,ce,ee,se,me,Ne],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let r=e;return r;})();var Ue=(()=>{let e=class e extends Oe{constructor(t,i,o,n){super(o),this.mlabService=t,this.fb=i,this.dialog=o,this.data=n,this.form=i.group({description:[n?.description,[y.maxLength(4096)]],testClassId:[n?.testClassId,[y.required]],unitId:[n?.unitId,[]],multiplier:[n?.multiplier,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceValues.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceValues.create(this.form.value)));}};e.ɵfac=function(i){return new(i||e)(s(p),s(K),s(Me),s(Ee));},e.ɵcmp=S({type:e,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[A([]),T,P],decls:8,vars:3,consts:()=>{let t;t="\u0645\u0636\u0627\u0639\u0641";let i;return i="\u0627\u0644\u0648\u0635\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId"],["formControlName","unitId"],["formControlName","multiplier","label",t],["formControlName","description","label",i],[3,"actions"]];},template:function(i,o){i&1&&(c(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),c(3,"medisy-form-field-test-class",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-textarea",5),m()(),c(7,"sz-ui-dialog-actions",6)),i&2&&(d("header",o.header),a(2),d("formGroup",o.form),a(5),d("actions",o.actions));},dependencies:[C,k,N,H,q,J,R,ge,ae,Le,I,Te,he,Se,_e,fe,ze,De],encapsulation:2});let r=e;return r;})();var $e=(()=>{let e=class e{constructor(t,i,o){this.dialog=t,this.mlabService=i,this.router=o,this.title=F.referenceValues,this.dataSource=new Fe(),this.dataSource.fields.push(_.uuid("id"),_.uuid("testClassId"),_.uuid("unitId"),_.hyperlink("testClass.name",n=>this.router.navigate([`/mlab/reference-values/${n.id}`])),_.stringFormated("unit",n=>n.multiplier?`10^${n.multiplier.toExponential(0).split("e").map(xe=>Number(xe))[1]}/${n.unit?.abbreviation}`:n.unit?.abbreviation),_.number("multiplier"),_.string("description"),_.date("createdAt",!1),_.date("updatedAt",!1),Re.menu([z.edit(n=>this.openSaveComponent(n)),z.delete(n=>this.openReferenceValueDeleteComponent(n))])),this.get();}openSaveComponent(t){this.dialog.open(Ue,{data:t}).afterClosed().pipe(f(1)).subscribe(i=>{this.dataSource.addOrUpdateItem(i);});}openReferenceValueDeleteComponent(t){this.dialog.open(Ae,{data:Pe.delete(this.mlabService.referenceValues.delete(t.id),t)}).afterClosed().pipe(f(1)).subscribe(i=>{this.dataSource.delete(i);});}get(){this.mlabService.referenceValues.get(this.dataSource.buildRequest()).pipe(L(this.dataSource.indicator),f(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};e.ɵfac=function(i){return new(i||e)(s(Ce),s(p),s(W));},e.ɵcmp=S({type:e,selectors:[["medisy-laboratory-reference-values"]],decls:6,vars:4,consts:()=>{let t;return t="\u0625\u0636\u0627\u0641\u0629",[[3,"title"],[3,"dataSource","changed"],["mat-flat-button","","color","primary","start","",3,"click"],t,[3,"stateEnabled","dataSource","update"]];},template:function(i,o){i&1&&(c(0,"sz-ui-header-info",0),l(1,"sz-ui-table-search-filter",1),E("changed",function(){return o.get();}),l(2,"button",2),E("click",function(){return o.openSaveComponent();}),l(3,"span"),M(4,3),m()()(),l(5,"sz-ui-table",4),E("update",function(){return o.get();}),m()),i&2&&(d("title",o.title),a(),d("dataSource",o.dataSource),a(4),d("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[te,v,Ie,ve],encapsulation:2});let r=e;return r;})();var Ve=[{path:"",component:$e}];var li=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵmod=G({type:e}),e.ɵinj=x({providers:[p],imports:[Q,C,Z.forChild(Ve),R,le,ie,v,be,I]});let r=e;return r;})();export{li as ReferenceValuesModule};/**i18n:8e9b4850590b6fa147a647198c020a875dcb2f3f874168f5a397dc75d2bcd225*/