"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[612],{9456:(D,T,s)=>{s.r(T),s.d(T,{AnalysisModule:()=>Ye});var _=s(6895),i=s(4392),Z=s(7579),g=s(5698),N=s(9739),P=s(9939),C=s(3593),e=s(4650),f=s(5412),r=s(8255),M=s(7392),u=s(4859),L=s(4850),$=s(5509),x=s(9293),R=s(2700),E=s(529);let h=(()=>{class t{constructor(n){this.http=n,this.path="medisy-analysis/v1/tests"}getTests(n){return this.http.get(`${this.path}`,{params:new E.LE({fromObject:n})})}getTestsCount(n){return this.http.get(`${this.path}/count`,{params:new E.LE({fromObject:n})})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(E.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var y=s(6709),G=s(3104),U=s(7885),S=s(671),p=s(6308),z=s(1749);function X(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-header-cell",24)(1,"mat-checkbox",25),e.NdJ("change",function(a){e.CHM(n);const c=e.oxw();return e.KtG(a?c.masterToggle():null)}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function Q(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-cell",24)(1,"mat-checkbox",26),e.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const m=e.CHM(n).$implicit,d=e.oxw();return e.KtG(a?d.selection.toggle(m):null)}),e.qZA()()}if(2&t){const n=l.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(n))}}function J(t,l){1&t&&(e.TgZ(0,"mat-header-cell",27),e._uU(1," #"),e.qZA())}function B(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",n.id," ")}}function F(t,l){1&t&&(e.TgZ(0,"mat-header-cell",27),e.SDv(1,28),e.qZA())}function j(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",29)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&t){const n=l.$implicit;e.xp6(4),e.hij(" ",n.description," ")}}function H(t,l){1&t&&(e.TgZ(0,"mat-header-cell",27),e.SDv(1,30),e.qZA())}function b(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.createdAt,"medium")," ")}}function K(t,l){1&t&&(e.TgZ(0,"mat-header-cell",27),e.SDv(1,31),e.qZA())}function w(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.startedAt,"medium")," ")}}function V(t,l){1&t&&(e.TgZ(0,"mat-header-cell",27),e.SDv(1,32),e.qZA())}function q(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.finishedAt,"medium")," ")}}function k(t,l){1&t&&(e.TgZ(0,"mat-header-cell",27),e.SDv(1,33),e.qZA())}function W(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",29)(2,"div")(3,"strong"),e._uU(4),e.qZA()(),e.TgZ(5,"div"),e._uU(6),e.qZA()()()),2&t){const n=l.$implicit;e.xp6(4),e.Oqu(null==n.testType?null:n.testType.name),e.xp6(2),e.hij(" ",n.description," ")}}function ee(t,l){1&t&&(e.TgZ(0,"mat-header-cell",34),e.SDv(1,35),e.qZA())}function te(t,l){if(1&t&&(e.TgZ(0,"mat-cell",24),e._uU(1),e.ALo(2,"dataUnitI18n"),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.dataUnit,!0)," ")}}function ne(t,l){1&t&&e._UZ(0,"mat-header-cell",24)}function le(t,l){if(1&t&&(e.TgZ(0,"mat-cell",36)(1,"button",37)(2,"mat-icon",38),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,39)(6,"button",40)(7,"mat-icon",38),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,41),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",40)(13,"mat-icon",42),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,43),e.qZA()()()()),2&t){const n=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",n)}}function se(t,l){1&t&&e._UZ(0,"mat-header-row")}function oe(t,l){1&t&&e._UZ(0,"mat-row")}function ie(t,l){if(1&t&&(e._UZ(0,"softuza-ui-table-state",44),e.ALo(1,"async")),2&t){const n=e.oxw();e.Q6J("loading",e.lcZ(1,1,n.indicator$))}}let ae=(()=>{class t extends R.a{constructor(n){super(),this.testService=n,this._analysis=null,this.displayedColumns=["TestType","StartedAt","menu"]}set analysis(n){this._analysis=n,this.get()}get(){this.testService.getTests({pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,analysisId:this._analysis?.id}).pipe((0,x.sU)(this.indicator$)).pipe((0,g.q)(1)).subscribe(o=>{this.set(o.count,o.items)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["softuza-medisy-analysis-tests"]],inputs:{analysis:"analysis"},features:[e._Bn([h]),e.qOj],decls:40,vars:8,consts:function(){let l,n,o,a,c,m,d,O,v;return l="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",n="\u0627\u0644\u0648\u0635\u0641",o="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u0634\u0627\u0621",a="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629",c="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0647\u0627\u064A\u0629",m="\u0646\u0648\u0639 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",d="\u0648\u062D\u062F\u0629",O="\u062A\u0639\u062F\u064A\u0644",v="\u062D\u0630\u0641",[[1,"header"],[1,"title"],l,[1,"spacer"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","CreatedAt"],["matColumnDef","StartedAt"],["matColumnDef","FinishedDate"],["matColumnDef","TestType"],["matColumnDef","DataUnit"],["class","table-column-small","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],n,[1,"table-cell-stacked"],o,a,c,m,["mat-sort-header","",1,"table-column-small"],d,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["fontSet","material-symbols-outlined"],["itemMenu","matMenu"],["mat-menu-item",""],O,["color","warn"],v,[3,"loading"]]},template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e.SDv(3,2),e.qZA(),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"softuza-ui-table-selection",4)(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"span",3),e.qZA(),e.TgZ(9,"mat-table",5),e.NdJ("matSortChange",function(c){return o.onSort(c.active,c.direction)}),e.ynx(10,6),e.YNc(11,X,2,2,"mat-header-cell",7),e.YNc(12,Q,2,1,"mat-cell",8),e.BQk(),e.ynx(13,9),e.YNc(14,J,2,0,"mat-header-cell",10),e.YNc(15,B,2,1,"mat-cell",11),e.BQk(),e.ynx(16,12),e.YNc(17,F,2,0,"mat-header-cell",10),e.YNc(18,j,5,1,"mat-cell",11),e.BQk(),e.ynx(19,13),e.YNc(20,H,2,0,"mat-header-cell",10),e.YNc(21,b,3,4,"mat-cell",11),e.BQk(),e.ynx(22,14),e.YNc(23,K,2,0,"mat-header-cell",10),e.YNc(24,w,3,4,"mat-cell",11),e.BQk(),e.ynx(25,15),e.YNc(26,V,2,0,"mat-header-cell",10),e.YNc(27,q,3,4,"mat-cell",11),e.BQk(),e.ynx(28,16),e.YNc(29,k,2,0,"mat-header-cell",10),e.YNc(30,W,7,2,"mat-cell",11),e.BQk(),e.ynx(31,17),e.YNc(32,ee,2,0,"mat-header-cell",18),e.YNc(33,te,3,4,"mat-cell",8),e.BQk(),e.ynx(34,19),e.YNc(35,ne,1,0,"mat-header-cell",7),e.YNc(36,le,17,1,"mat-cell",20),e.BQk(),e.YNc(37,se,1,0,"mat-header-row",21),e.YNc(38,oe,1,0,"mat-row",22),e.qZA(),e.YNc(39,ie,2,3,"softuza-ui-table-state",23),e.qZA()),2&n&&(e.xp6(5),e.Q6J("visible",o.selection.hasValue()),e.xp6(2),e.hij("",o.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",o.sortBy),e.Q6J("dataSource",o.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===o.count))},dependencies:[_.O5,y.oG,r.VK,r.OP,r.p6,M.Hw,u.RK,L.d,G.R,U.H,S.BZ,S.fO,S.as,S.w1,S.Dz,S.nj,S.ge,S.ev,S.XQ,S.Gk,p.YE,p.nU,_.Ov,_.uU,z.h],encapsulation:2}),t})();function Se(t,l){1&t&&e._UZ(0,"softuza-ui-card",13),2&t&&e.Q6J("card",l.$implicit)}const _e=[{path:"",component:(()=>{class t{constructor(n,o,a,c,m){this.dialog=n,this.route=o,this.analysisService=a,this.personService=c,this.personNamePipe=m,this.alert$=new Z.x,this.cards=[{counter:0,url:"samples",icon:"science",title:"\u0639\u064A\u0646\u0627\u062A"}],this.analysis=this.route.snapshot.data.analysis,this.analysis.personId&&this.getPerson()}getPerson(){this.personService.getPerson(this.analysis.personId).pipe((0,g.q)(1)).subscribe(n=>{this.cards.splice(0,0,{subtitle:"\u0627\u0644\u0634\u062E\u0635",icon:"person",title:this.personNamePipe.transform(n)}),console.log(this.personNamePipe.transform(n))})}openEditComponent(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.uw),e.Y36(i.gz),e.Y36(N.K),e.Y36(P.R),e.Y36(C.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["softuza-medisy-analysis"]],features:[e._Bn([N.K,P.R,C.Y])],decls:28,vars:5,consts:function(){let l,n;return l="\u062A\u0639\u062F\u064A\u0644",n="\u0637\u0628\u0627\u0639\u0629",[[1,"header-main"],[1,"title-stacked"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["fontSet","material-symbols-outlined"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],l,n,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-2","tw-py-2"],[3,"card",4,"ngFor","ngForOf"],[1,"tw-flex","tw-flex-col","tw-gap-2"],[1,"tw-flex-1",3,"analysis"],[3,"card"]]},template:function(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"span",2),e.TgZ(8,"button",3)(9,"mat-icon",4),e._uU(10,"more_vert"),e.qZA()(),e.TgZ(11,"mat-menu",null,5)(13,"button",6),e.NdJ("click",function(){return o.openEditComponent()}),e.TgZ(14,"mat-icon",4),e._uU(15,"edit"),e.qZA(),e.TgZ(16,"span"),e.SDv(17,7),e.qZA()(),e._UZ(18,"mat-divider"),e.TgZ(19,"button",6),e.NdJ("click",function(){return o.openEditComponent()}),e.TgZ(20,"mat-icon",4),e._uU(21,"print"),e.qZA(),e.TgZ(22,"span"),e.SDv(23,8),e.qZA()()()(),e.TgZ(24,"div",9),e.YNc(25,Se,1,1,"softuza-ui-card",10),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"softuza-medisy-analysis-tests",12),e.qZA()()),2&n){const a=e.MAs(12);e.xp6(4),e.Oqu(o.analysis.code),e.xp6(2),e.Oqu(o.analysis.note),e.xp6(2),e.Q6J("matMenuTriggerFor",a),e.xp6(17),e.Q6J("ngForOf",o.cards),e.xp6(2),e.Q6J("analysis",o.analysis)}},dependencies:[_.sg,r.VK,r.OP,r.p6,M.Hw,u.RK,L.d,$.A,ae],encapsulation:2}),t})()}];let ce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.Bz.forChild(_e),i.Bz]}),t})();var Ae=s(4144),re=s(7957),me=s(4385),Y=s(4006),Te=s(6257),de=s(266),Ne=s(3546),Me=s(6338),ue=s(1572),Ee=s(9602),pe=s(3238),ge=s(8739),Pe=s(2597),Ce=s(4053),I=s(1143),fe=s(4905);let Le=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();var he=s(4001),ye=s(6220);let Ye=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[N.K],imports:[_.ez,Y.u5,Y.UX,ce,f.Is,re.Bb,Ae.c,I.n,Le,y.p9,r.Tx,M.Ps,u.ot,I.n,me.LD,Te.T5,de.AV,Me.ie,Ne.QW,ue.Cq,pe.XK,Ee.FA,he.U,S.p0,ge.TU,p.JX,Pe.k,fe.d,Ce.L,ye.v]}),t})()},3835:(D,T,s)=>{s.d(T,{e:()=>_});var _=(()=>{return(i=_||(_={})).Second="Second",i.Minute="Minute",i.Hour="Hour",i.Day="Day",i.Month="Month",i.Year="Year",i.MicrogramPerMilliliter="MicrogramPerMilliliter",i.MilligramPerMilliliter="MilligramPerMilliliter",i.NanogramPerDeciliter="NanogramPerDeciliter",i.MicrogramPerDeciliter="MicrogramPerDeciliter",i.MilligramPerDeciliter="MilligramPerDeciliter",i.GramPerDeciliter="GramPerDeciliter",i.UnitPerMilliliter="UnitPerMilliliter",i.UnitPerLiter="UnitPerLiter",i.SiMicromolePerLiter="SiMicromolePerLiter",i.SiMillimolePerLiter="SiMillimolePerLiter",i.SiMicrokatalPerLiiter="SiMicrokatalPerLiiter",i.Percent="Percent",_;var i})()}}]);