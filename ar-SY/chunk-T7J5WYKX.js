import{a as Fe,b as we,c as Pe}from"./chunk-BJVDHX2A.js";import{a as P}from"./chunk-NDH3JEG3.js";import{a as F,d as ze,e as Oe}from"./chunk-TFY2D5UP.js";import"./chunk-GYUI2SSN.js";import"./chunk-CHPZASVR.js";import"./chunk-D7QF6LJS.js";import{a as Ne}from"./chunk-NE7X3SPH.js";import{a as Te}from"./chunk-7FA4ZYOE.js";import"./chunk-HGFYK4WW.js";import{a as w}from"./chunk-4CB46PZO.js";import"./chunk-Z6KDOQJY.js";import{e as Le}from"./chunk-SBZ6SE5I.js";import"./chunk-LUYVV6ZZ.js";import"./chunk-KQZBZKEV.js";import{a as p}from"./chunk-4A4DWX3B.js";import{d as be,f as Re,g as L,h as z,k as O}from"./chunk-ZZAXMQCW.js";import"./chunk-WL4FKIHI.js";import"./chunk-CBIY2ZLG.js";import{b as R}from"./chunk-WZL7BTCT.js";import{g as C,h as Ie,i as Ee,j as Q,l as De}from"./chunk-J5QZPDV7.js";import{a as N,b as T,d as Ce,e as b,g}from"./chunk-UN7ZV7OU.js";import{l as Ae,r as ve}from"./chunk-YSCQPVVT.js";import"./chunk-L2KLTZKL.js";import{a as q}from"./chunk-CJ662YDS.js";import"./chunk-RH3HJREX.js";import{c as X}from"./chunk-O6G4W4SF.js";import"./chunk-3MHW6B4E.js";import{f as de,g as ce,k as ue,m as fe,p as Se,q as E,t as D}from"./chunk-U3CUVO3E.js";import"./chunk-72GYWXTT.js";import{a as he,c as ge,e as Me}from"./chunk-D3PLXWXH.js";import"./chunk-IFFAZPN3.js";import{c as ye}from"./chunk-AHPLM44D.js";import{ia as _e}from"./chunk-Y7MZZUBM.js";import{o as pe}from"./chunk-AD74A3E4.js";import{Cb as re,Hb as d,Ib as c,Jb as a,O as H,Xb as ae,a as ee,b as te,cc as se,dc as me,ea as W,eb as ne,ec as le,ha as ie,ib as u,jb as r,jc as h,mc as I,pa as V,qa as S,qb as y,ra as oe,tb as _,ub as A,vb as v,xb as l}from"./chunk-MNGWH3SB.js";var Ze=["container"],Be=(()=>{let i=class i extends be{constructor(o,e,t){super(e),this.fb=o,this.dialog=e,this.data=t,this.minHeight=W(200),this.minWidth=W(200),this.quietZoneSize=4;}ngAfterViewInit(){this.generate();}generate(){this.containerElement||this.alert.set({message:"Container not found",type:q.Error,timeout:5e3});let o=this.containerElement.nativeElement.offsetWidth,e=this.containerElement.nativeElement.offsetHeight,t=new Map(),m=new Oe().encode("Hello",ze.DATA_MATRIX,300,300);try{let M=m.getWidth(),Y=m.getHeight(),Z=M+this.quietZoneSize*2,k=Y+this.quietZoneSize*2,B=Math.max(o,Z),$=Math.max(e,k),f=Math.min(Math.floor(B/Z),Math.floor($/k)),He=Math.floor((B-M*f)/2),We=Math.floor(($-Y*f)/2),x=this.createSVGElement(B,$),Ve=this.createSvgPathPlaceholderElement(o,e);x.append(Ve),this.containerElement.nativeElement.appendChild(x);for(let j=0,J=We;j<Y;j++,J+=f)for(let G=0,K=He;G<M;G++,K+=f)if(m.get(G,j)){let qe=this.createSvgRectElement(K,J,f,f);x.appendChild(qe);}}catch(M){this.alert.set({message:`${M}`,type:q.Error,timeout:5e3});}}createSVGElement(o,e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttributeNS(null,"width",e.toString()),t.setAttributeNS(null,"height",o.toString()),t;}createSvgRectElement(o,e,t,s){let m=document.createElementNS("http://www.w3.org/2000/svg","rect");return m.setAttributeNS(null,"x",o.toString()),m.setAttributeNS(null,"y",e.toString()),m.setAttributeNS(null,"height",t.toString()),m.setAttributeNS(null,"width",s.toString()),m.setAttributeNS(null,"fill","#000000"),m;}createSvgPathPlaceholderElement(o,e){let t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",`M0 0h${o}v${e}H0z`),t.setAttributeNS(null,"fill","none"),t;}};i.ɵfac=function(e){return new(e||i)(r(E),r(N),r(T));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-analysis-qr"]],viewQuery:function(e,t){if(e&1&&se(Ze,5),e&2){let s;me(s=le())&&(t.containerElement=s.first);}},inputs:{minHeight:[V.SignalBased,"minHeight"],minWidth:[V.SignalBased,"minWidth"]},standalone:!0,features:[h([]),y,I],decls:5,vars:2,consts:[[3,"header"],["container",""],[3,"actions"]],template:function(e,t){e&1&&(a(0,"sz-ui-dialog-header",0),d(1,"mat-dialog-content"),a(2,"div",null,1),c(),a(4,"sz-ui-dialog-actions",2)),e&2&&(l("header",t.header),u(4),l("actions",t.actions));},dependencies:[D,g,b,O,L,z],encapsulation:2});let n=i;return n;})();var $e=(()=>{let i=class i extends Re{constructor(o,e,t,s){super(t),this.mlabService=o,this.fb=e,this.dialog=t,this.data=s,this.form=e.group({note:[s?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,te(ee({},this.data),{note:this.form.value.note})));}};i.ɵfac=function(e){return new(e||i)(r(p),r(E),r(N),r(T));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-analysis-save"]],standalone:!0,features:[h([p]),y,I],decls:5,vars:3,consts:()=>{let o;return o="\u0645\u0644\u0627\u062D\u0638\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",o],[3,"actions"]];},template:function(e,t){e&1&&(a(0,"sz-ui-dialog-header",0),d(1,"mat-dialog-content")(2,"form",1),a(3,"sz-ui-form-field-input",2),c()(),a(4,"sz-ui-dialog-actions",3)),e&2&&(l("header",t.header),u(2),l("formGroup",t.form),u(2),l("actions",t.actions));},dependencies:[D,ue,de,ce,fe,Se,g,b,O,L,z,ve,Ae],encapsulation:2});let n=i;return n;})();var Je=()=>[w],Ke=()=>[P],et=()=>[F];function tt(n,i){if(n&1&&a(0,"sz-medisy-people-person-card",5),n&2){let Ge=ae(2);l("personId",Ge.analysis.personId);}}function it(n,i){n&1&&(_(0,tt,1,1),A(1,0,et),v());}function ot(n,i){n&1&&a(0,"sz-medisy-laboratory-analysis-tests");}function nt(n,i){n&1&&a(0,"sz-medisy-laboratory-analysis-specimens");}var xe=(()=>{let i=class i{constructor(o,e,t,s){this.dialog=o,this.route=e,this.router=t,this.mlabService=s,this.alert$=ne(void 0),this.tiles=[],this.analysisMenu=De.more([Q.edit(()=>this.openSaveComponent()),C.divider(),Q.print(()=>this.opendPrintComponent),C.item(X.publish,"publish",this.openPublishComponent),C.divider(),C.item(X.qr,Ee.qr,()=>this.openQRCodeComponent())]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open($e,{data:this.analysis}).afterClosed().pipe(H(1)).subscribe(o=>{o&&(this.analysis=o);});}opendPrintComponent(){}openPublishComponent(){}openQRCodeComponent(){this.dialog.open(Be,{data:this.analysis}).afterClosed().pipe(H(1)).subscribe({});}};i.ɵfac=function(e){return new(e||i)(r(Ce),r(he),r(ge),r(p));},i.ɵcmp=S({type:i,selectors:[["sz-medisy-laboratory-analysis"]],features:[h([p,Ne])],decls:12,vars:4,consts:()=>{let o;o="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let e;return e="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[[3,"title","subtitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",o],["label",e],[3,"personId"]];},template:function(e,t){e&1&&(a(0,"sz-ui-header-info",0),d(1,"div",1),_(2,it,3,0),c(),d(3,"mat-tab-group",2)(4,"mat-tab",3),_(5,ot,1,0),A(6,5,Je),v(),c(),d(8,"mat-tab",4),_(9,nt,1,0),A(10,9,Ke),v(),c()()),e&2&&(l("title",t.analysis.code)("subtitle",t.analysis.note)("menu",t.analysisMenu),u(2),re(2,t.analysis.personId?2:-1));},dependencies:[Fe,we,R],encapsulation:2});let n=i;return n;})();var je=[{path:"",component:xe},{path:"tests",loadComponent:()=>import("./chunk-CSGBVL6D.js").then(n=>n.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-5RKD3G5R.js").then(n=>n.AnalysisSpecimensComponent)}];var pi=(()=>{let i=class i{};i.ɵfac=function(e){return new(e||i)();},i.ɵmod=oe({type:i}),i.ɵinj=ie({providers:[p],imports:[pe,Me.forChild(je),g,_e,ye,Le,Pe,R,Te,Ie,w,P,F]});let n=i;return n;})();export{xe as AnalysisComponent,pi as AnalysisModule};/**i18n:93110c93724266b1c17cde4cedf877a4f3393465ad71eafcdf9d2e9828471749*/