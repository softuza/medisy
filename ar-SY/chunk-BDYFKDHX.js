import{a as b}from"./chunk-ULTUW4IP.js";import{c as Q}from"./chunk-WWLJIFKX.js";import{b as K,f as W}from"./chunk-26Z5FPBL.js";import{a as J}from"./chunk-FIREYTYE.js";import{a as z,b as k,c as w,e as D,f as X,g as j,h as x,i as V,j as q}from"./chunk-CTLHETRS.js";import{a as U,b as H}from"./chunk-RRB2RUNU.js";import{i as $}from"./chunk-LCPKSQJI.js";import"./chunk-RGJQRW2Q.js";import{d as _,f as L,g as h,k as v,m as y,p as E,r as T,t as G}from"./chunk-VOPXBGHU.js";import"./chunk-RJITGV4Q.js";import{c as A}from"./chunk-NBJEKYXR.js";import{ga as F,ha as R,ia as B,ka as P}from"./chunk-VXXQSTLE.js";import"./chunk-WHAEY7W6.js";import{Cc as O,Db as S,Ib as i,Jb as a,Kb as m,Ub as u,Vb as M,ab as s,bb as d,kc as I,lc as N,na as g,nb as p,ub as C,yb as c}from"./chunk-WEQMZHJB.js";import{i as f}from"./chunk-ZSRQUDS2.js";function Z(l,o){l&1&&m(0,"mat-progress-bar",10);}var ye=(()=>{let o=class o{constructor(r,t,e,n){this.locale=r,this.fb=t,this.router=e,this.identityService=n,this.alert=p(void 0),this.indicator=p(!1);let Y=this.identityService.storage.get();this.form=this.fb.group({email:[Y?.username,[_.required,_.minLength(1),_.email]]});}login(){return f(this,null,function*(){if(!W(this.form))return!1;this.indicator.set(!0);try{yield this.identityService.login({loginHint:this.form.value.email,locale:this.locale,redirectUri:this.identityService.getBaseUrl()});}catch{this.alert.set({message:"Failed to login",type:J.Error,timeout:5e3});}finally{this.indicator.set(!1);}return!0;});}};o.ɵfac=function(t){return new(t||o)(d(O),d(T),d(A),d(b));},o.ɵcmp=g({type:o,selectors:[["sz-iam-auth-login"]],standalone:!0,features:[I([]),N],decls:17,vars:4,consts:()=>{let r;r="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A";let t;t="\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644";let e;return e="\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",[t,e,[1,"content-center"],["svgIcon","logo",1,"logo"],[1,"tw-m-2"],[2,"padding","16px"],[3,"alert"],[3,"keyup.enter","formGroup"],["formControlName","email","label",r],["mat-button","",1,"button-submit",3,"click","disabled"],["mode","indeterminate"]];},template:function(t,e){t&1&&(i(0,"div",2),m(1,"mat-icon",3),i(2,"mat-card",4)(3,"mat-card-header")(4,"mat-card-title"),u(5,0),a()(),i(6,"mat-card-content",5),m(7,"sz-ui-alert",6),i(8,"form",7),M("keyup.enter",function(){return e.login();}),m(9,"sz-ui-form-field-input",8),a(),m(10,"mat-divider"),a(),i(11,"mat-card-actions")(12,"button",9),M("click",function(){return e.login();}),i(13,"span"),u(14,1),a()()(),i(15,"mat-card-footer"),C(16,Z,1,0,"mat-progress-bar",10),a()()()),t&2&&(s(7),c("alert",e.alert()),s(),c("formGroup",e.form),s(4),c("disabled",e.indicator()),s(4),S(e.indicator()?16:-1));},dependencies:[G,v,L,h,y,E,x,z,D,w,j,X,k,q,V,$,R,F,H,U,P,B,K,Q],styles:[".content-center[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.logo[_ngcontent-%COMP%]{width:128px;height:128px;transform:scale(2);margin:16px}.button-submit[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{text-align:center;margin:16px 0;font-size:12px;cursor:pointer}"]});let l=o;return l;})();export{ye as SzAuthLoginComponent};/**i18n:d557e35d8fc734d6151249497f9d9ce2c625cbce110bd82ca76d6bd769fb64f8*/