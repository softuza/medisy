import{a as j,b as T,c as at}from"./chunk-5TXAVLPT.js";import{h as D}from"./chunk-JIYGV4IV.js";import{a as u}from"./chunk-BUSYHZDZ.js";import{a as s}from"./chunk-VU3TSLPI.js";import{h as nt,i as st,j as mt,m as ct}from"./chunk-DJTHGJMD.js";import{b as z}from"./chunk-KIWKP6WG.js";import{d as G}from"./chunk-EVZ4I5QA.js";import{a as tt,b as et,d as M,e as it,g as ot}from"./chunk-VQ3CVIXE.js";import{A as Z}from"./chunk-75XLR4TY.js";import{A as F,J as Y,q as U,t as W,w as y,y as X}from"./chunk-VZUJMTKN.js";import{i as B,j as rt}from"./chunk-FVDEVSJ2.js";import{q as I}from"./chunk-OHNFTK26.js";import{Ja as g,r as Q}from"./chunk-TT7ZQ2V6.js";import{Bb as w,Cb as P,Db as _,Eb as h,Fb as v,Gb as m,Ub as A,a as S,b as H,da as E,ea as N,fb as p,gb as a,gc as b,ja as O,jc as d,na as l,nb as f,oa as V,pa as q,qb as J,ub as n,zb as K}from"./chunk-CQJO6ZYU.js";var x=(()=>{let t=class t{constructor(o){this.http=o,this.basePath="softuza-portal",this.tiles=new G(this.http,`${this.basePath}/v1/tiles`),this.tileGroups=new G(this.http,`${this.basePath}/v1/tile-groups`)}};t.\u0275fac=function(i){return new(i||t)(O(Q))},t.\u0275prov=E({token:t,factory:t.\u0275fac});let e=t;return e})();var L=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=q({type:t,inputs:{id:"id"}});let e=t;return e})();var lt=(()=>{let t=class t extends L{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"science",subtitle:u.analyses,clickFn:()=>this.navigate("/mlab/analyses"),actions:[at.action(u.add,()=>this.navigate("/mlab/analyses/create"))]},console.log(this.card),this.get()}get(){this.mlabService.analyses.count({filters:[]}).subscribe(o=>{this.card.title=o})}navigate(o){this.router.navigate([o])}};t.\u0275fac=function(i){return new(i||t)(a(s),a(M),a(y))},t.\u0275cmp=l({type:t,selectors:[["medisy-laboratory-tiles-analyses-count"]],standalone:!0,features:[f,d],decls:2,vars:2,consts:[[3,"card"],["title","",3,"value"]],template:function(i,r){i&1&&(h(0,"sz-ui-card",0),m(1,"sz-ui-counter",1),v()),i&2&&(n("card",r.card),p(),n("value",55))},dependencies:[D,g,I,F,T,j],encapsulation:2});let e=t;return e})();var dt=(()=>{let t=class t extends nt{constructor(o,i,r,R){super(r),this.mlabService=o,this.fb=i,this.dialog=r,this.data=R,this.form=i.group({})}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,H(S({},this.data),{note:this.form.value.note})))}};t.\u0275fac=function(i){return new(i||t)(a(s),a(U),a(tt),a(et))},t.\u0275cmp=l({type:t,selectors:[["medisy-dashboard-save"]],standalone:!0,features:[b([s]),f,d],decls:3,vars:2,consts:[[3,"header"],[3,"actions"]],template:function(i,r){i&1&&m(0,"sz-ui-dialog-header",0)(1,"mat-dialog-content")(2,"sz-ui-dialog-actions",1),i&2&&(n("header",r.header),p(2),n("actions",r.actions))},dependencies:[W,ot,it,ct,st,mt,Z],encapsulation:2});let e=t;return e})();var ut=(()=>{let t=class t extends L{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"label",subtitle:u.specimens,clickFn:()=>this.navigate("/mlab/specimens")},console.log(this.card),this.get()}get(){this.mlabService.specimens.count({filters:[]}).subscribe(o=>{this.card.title=o})}navigate(o){this.router.navigate([o])}};t.\u0275fac=function(i){return new(i||t)(a(s),a(M),a(y))},t.\u0275cmp=l({type:t,selectors:[["medisy-laboratory-tiles-specimens-count"]],standalone:!0,features:[f,d],decls:2,vars:2,consts:[[3,"card"],["title","",3,"value"]],template:function(i,r){i&1&&(h(0,"sz-ui-card",0),m(1,"sz-ui-counter",1),v()),i&2&&(n("card",r.card),p(),n("value",55))},dependencies:[D,g,I,F,T,j],encapsulation:2});let e=t;return e})();function yt(e,t){if(e&1&&m(0,"medisy-laboratory-tiles-analyses-count",3),e&2){let c=A().$implicit;n("id",c.id)}}function gt(e,t){if(e&1&&m(0,"medisy-laboratory-tiles-specimens-count",3),e&2){let c=A().$implicit;n("id",c.id)}}function Mt(e,t){if(e&1&&J(0,yt,1,1,"medisy-laboratory-tiles-analyses-count",3)(1,gt,1,1),e&2){let c=t.$implicit;K(0,c.tileType.identifier==="analyses-count"?0:c.tileType.identifier==="specimens-count"?1:-1)}}function Ct(e,t){if(e&1&&(m(0,"sz-ui-header-info",1),h(1,"div",2),P(2,Mt,2,1,null,null,w),v()),e&2){let c=t.$implicit;n("title",c.name)("subTitle",c.description),p(2),_(c.tiles)}}var ft=(()=>{let t=class t{constructor(o,i,r,R){this.mlabService=o,this.sprtService=i,this.dialog=r,this.router=R,this.tileGroups=[],this.title=u.dashboard,this.menu=rt.more([B.edit(()=>this.openSaveComponent()),B.divider()]),this.get()}openSaveComponent(){this.dialog.open(dt,{data:null}).afterClosed().subscribe(o=>{})}get(){this.sprtService.tileGroups.get(S({},Y.unpaged())).subscribe(o=>{this.tileGroups=o.items})}};t.\u0275fac=function(i){return new(i||t)(a(s),a(x),a(M),a(y))},t.\u0275cmp=l({type:t,selectors:[["medisy-dashboard"]],standalone:!0,features:[b([s,x]),d],decls:3,vars:2,consts:[[3,"title","menu"],[3,"title","subTitle"],[1,"sz-grid-card"],[3,"id"]],template:function(i,r){i&1&&(m(0,"sz-ui-header-info",0),P(1,Ct,4,2,null,null,w)),i&2&&(n("title",r.title)("menu",r.menu),p(),_(r.tileGroups))},dependencies:[z,lt,ut],encapsulation:2});let e=t;return e})();var ht=[{path:"",component:ft}];var je=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=V({type:t}),t.\u0275inj=N({imports:[X.forChild(ht),g,z]});let e=t;return e})();export{je as DashboardModule};
/**i18n:70191478f6ac7be8bdb3241746fcd9e1f236a6362603c105af1f0a7330a6840e*/
