import{b as ce}from"./chunk-WBDFNOIY.js";import"./chunk-46TYKK4H.js";import{d as I}from"./chunk-GXK5DAM4.js";import{b as Ee}from"./chunk-X6SJ6HWT.js";import{a as g}from"./chunk-GSY2T3N2.js";import{a as O}from"./chunk-E2IFR5GG.js";import{h as te}from"./chunk-JUXA3TTM.js";import"./chunk-E7V2G3VZ.js";import{a as C}from"./chunk-6KCGB4R6.js";import{e as Se,f as _e,g as ue,j as h}from"./chunk-EZC2CU7X.js";import"./chunk-OA72TFHI.js";import"./chunk-RACJZOAS.js";import{b as N}from"./chunk-JFEHKKCJ.js";import{d as me,e as S,f as le,h as pe,i as de}from"./chunk-PLTQMWDZ.js";import{a as Q,b as W,d as Z,e as ee,g as M}from"./chunk-V6ACGGWJ.js";import{k as re,l as ne,p as se,r as ae}from"./chunk-VBUQVK7Q.js";import"./chunk-IYSGQK54.js";import"./chunk-D4OS2O7B.js";import"./chunk-QTM2YACZ.js";import{b as ie,c as d}from"./chunk-2W3OIU7Y.js";import"./chunk-OIFHB67M.js";import{d as P,f as G,g as j,k as U,m as X,p as Y,q as x,s as k,t as w}from"./chunk-H52WVCBC.js";import"./chunk-4HG3UR3K.js";import{a as q,c as H,e as J}from"./chunk-YYZRSXTZ.js";import{c as oe}from"./chunk-B3RLTRYJ.js";import{ha as K}from"./chunk-PMB5EPNY.js";import"./chunk-2HDHH4PW.js";import{Cb as z,Db as $,Eb as V,Fb as E,Gb as _,Hb as m,M as D,a as T,b as L,fa as y,gb as l,hb as s,hc as f,kc as F,nc as b,oa as c,ob as R,oc as B,pa as A,vb as a}from"./chunk-UDYUYOMJ.js";var Me=(()=>{let o=class o extends Se{constructor(i,t,r,n){super(r),this.mpplService=i,this.fb=t,this.dialog=r,this.data=n,this.nationalities=this.mpplService.nationalities.getAll({orderBy:["name"]}),this.languages=this.mpplService.languages.getAll({orderBy:["name"]}),this.sexes=Object.keys(I).map(p=>I[p]),this.form=t.group({sex:[n.sex,[P.required]],languageId:[n.languageId,[P.required]],title:[n.title,[ce()]],ssn:[n.ssn,[]],nationalityId:[n.nationalityId,[]],birthDate:[n.birthDate,[]]});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,L(T({},this.form.value),{titleId:this.form.value.title?.id})));}};o.ɵfac=function(t){return new(t||o)(s(g),s(x),s(Q),s(W));},o.ɵcmp=c({type:o,selectors:[["sz-medisy-people-person-save"]],standalone:!0,features:[f([]),R,F],decls:12,vars:7,consts:()=>{let i;i="\u0627\u0644\u062C\u0646\u0633\u064A\u0629";let t;t="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let r;r="\u0627\u0644\u0644\u063A\u0629";let n;n="\u0627\u0644\u062C\u0646\u0633";let p;p="\u0627\u0644\u0644\u0642\u0628";let v;return v="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId","label",i,3,"source"],["formControlName","ssn","label",t],["formControlName","languageId","label",r,3,"source"],["formControlName","sex","label",n,3,"source","localizedValue"],["formControlName","title","label",p],["formControlName","birthDate","label",v],[3,"actions"]];},template:function(t,r){t&1&&(m(0,"sz-ui-dialog-header",0),E(1,"mat-dialog-content")(2,"form",1)(3,"div",2),m(4,"sz-ui-form-field-select",3)(5,"sz-ui-form-field-input",4),_(),m(6,"sz-ui-form-field-select",5),E(7,"div",2),m(8,"sz-ui-form-field-select",6)(9,"medisy-form-field-title-search",7),_(),m(10,"sz-ui-form-field-date",8),_()(),m(11,"sz-ui-dialog-actions",9)),t&2&&(a("header",r.header),l(2),a("formGroup",r.form),l(2),a("source",r.nationalities),l(2),a("source",r.languages),l(2),a("source",r.sexes)("localizedValue",!0),l(3),a("actions",r.actions));},dependencies:[w,U,G,j,X,Y,h,_e,ue,ae,ne,M,ee,re,se],encapsulation:2});let e=o;return e;})();function he(e,o){if(e&1&&m(0,"sz-ui-card",2),e&2){let Ne=o.$implicit;a("card",Ne);}}var Ce=(()=>{let o=class o{constructor(i,t,r,n){this.dialog=i,this.mlabService=t,this.route=r,this.router=n,this.items=[],this.personMenu=de.more([pe.edit(()=>this.openSaveComponent()),S.divider(),S.item(d.names,"info",()=>this.navigate("names")),S.item(d.phones,"phone",()=>this.navigate("phones")),S.item(d.emails,"alternate_email",()=>this.navigate("emails")),S.item(d.addresses,"home",()=>this.navigate("addresses")),S.item(d.documents,"badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let p={title:0,icon:"science",subtitle:d.analyses,indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(p),this.getAnalysisCount(p);}navigate(i){this.router.navigate([i],{relativeTo:this.route});}getAnalysisCount(i){this.mlabService.analyses.count().subscribe(t=>{i.title=t;});}openSaveComponent(){this.dialog.open(Me,{data:this.person}).afterClosed().pipe(D(1)).subscribe(i=>{i&&(this.person=i);});}};o.ɵfac=function(t){return new(t||o)(s(Z),s(C),s(q),s(H));},o.ɵcmp=c({type:o,selectors:[["sz-medisy-people-person"]],features:[f([C])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(t,r){t&1&&(m(0,"sz-ui-header-info",0),b(1,"personName"),E(2,"div",1),$(3,he,1,1,"sz-ui-card",2,z),_()),t&2&&(a("title",B(1,2,r.person))("menu",r.personMenu),l(3),V(r.items));},dependencies:[O,N,Ee],encapsulation:2});let e=o;return e;})();var ge=[{path:"",component:Ce},{path:"names",loadComponent:()=>import("./chunk-C3HAJKBO.js").then(e=>e.PersonNamesComponent)},{path:"phones",loadComponent:()=>import("./chunk-XDJI2E5C.js").then(e=>e.PersonPhonesComponent)},{path:"emails",loadComponent:()=>import("./chunk-XD63Q4KQ.js").then(e=>e.PersonEmailsComponent)},{path:"documents",loadComponent:()=>import("./chunk-XGM2DXGE.js").then(e=>e.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>import("./chunk-DVKFMATW.js").then(e=>e.PersonAddressesComponent)}];var No=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=A({type:o}),o.ɵinj=y({providers:[g],imports:[k,J.forChild(ge),te,K,O,h,N,me,ie,M,oe,le]});let e=o;return e;})();export{No as PersonModule};/**i18n:441d79d171ba4e8fb8b617de1ef68214357f23bb2b2895fddc1630aee38796c8*/