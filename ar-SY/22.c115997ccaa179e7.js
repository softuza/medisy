"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[22],{6022:(U,R,n)=>{n.r(R),n.d(R,{ReferenceValueModule:()=>re});var p=n(6814),l=n(6223),m=n(2296),S=n(5986),i=n(7700),g=n(617),Y=n(7988),y=n(8525),O=n(8109),z=n(465),M=n(6987),D=n(758),$=n(1462),F=n(2169),d=n(3576),Z=n(5041),J=n(7239),E=n(3572),G=n(8645),e=n(5879),B=n(2516),_=n(2191),c=n(7263);let C=(()=>{class r{transform(t,o=!1){switch(t){case c.v.Equal:return o?"==":"\u062A\u0633\u0627\u0648\u064A";case c.v.GreaterThan:return o?">":"\u0627\u0643\u0628\u0631 \u0645\u0646";case c.v.GreaterThanOrEqual:return o?">=":"\u0627\u0643\u0628\u0631 \u0645\u0646 \u0627\u0648 \u064A\u0633\u0627\u0648\u064A";case c.v.LessThan:return o?"<":"\u0623\u0635\u063A\u0631 \u0645\u0646";case c.v.LessThanOrEqual:return o?"<=":"\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0648 \u064A\u0633\u0627\u0648\u064A";case c.v.RangeWithBoundaries:return o?"<==>":"\u0645\u062C\u0627\u0644 \u0645\u0639 \u0627\u0644\u062D\u062F\u0648\u062F";case c.v.RangeWithoutBoundaries:return o?"<>":"\u0645\u062C\u0627\u0644 \u0628\u062F\u0648\u0646 \u0627\u0644\u062D\u062F\u0648\u062F";case c.v.Not:return o?"!=":"\u0644\u064A\u0633 \u0641\u064A";default:return""}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"comparisonOperatorI18n",type:r,pure:!0,standalone:!0}),r})();var X=n(9598),x=n(8721),h=n(8180),Q=n(6893),v=n(9004),j=n(8930);let N=(()=>{class r extends Q.m{constructor(t,o){super(t),this.ngControl=t,this.comparisonOperatorI18nPipe=o,this.items=Object.keys(c.v).map(s=>c.v[s]),this.label="\u0627\u0644\u0639\u0645\u0644\u064A\u0629",this.contentFormat=s=>this.comparisonOperatorI18nPipe.transform(s)}ngOnInit(){this.control=this.ngControl.control}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l.a5,10),e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-form-field-comparison-operator"]],standalone:!0,features:[e._Bn([C]),e.qOj,e.jDz],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(t,o){1&t&&e._UZ(0,"sz-ui-form-field-select",0),2&t&&e.Q6J("formControl",o.control)("items",o.items)("label",o.label)("placeholder",o.placeholder)("emptyOption",o.emptyOption)("multiple",o.multiple)("contentFn",o.contentFormat)},dependencies:[l.UX,l.JJ,l.oH,v.g,j.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),r})();var V=n(2557),W=n(6187),A=n(4622),T=n(6091);let K=(()=>{class r extends d.Z2{constructor(t,o,s){super(o),this.fb=t,this.dialog=o,this.data=s,this.form=t.group({referenceGroupId:[s.referenceGroupId],comparisonOperator:[s.comparisonOperator]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l.qu),e.Y36(i.so),e.Y36(i.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules-filter"]],standalone:!0,features:[e._Bn([W.T]),e.qOj,e.jDz],decls:6,vars:5,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","comparisonOperator",3,"emptyOption"],["formControlName","referenceGroupId",3,"emptyOption"],[3,"actions"]],template:function(t,o){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-comparison-operator",2)(4,"medisy-form-field-reference-group",3),e.qZA()(),e._UZ(5,"sz-ui-dialog-actions",4)),2&t&&(e.Q6J("header",o.header),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("actions",o.actions))},dependencies:[p.ez,l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,i.Is,i.xY,S.p9,d.su,A.Y,T.t,V.P,N],encapsulation:2}),r})();var P=n(9157),I=n(2032),L=n(8380),H=n(8873);function b(r,a){1&r&&(e.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"label"),e._UZ(3,"input",10),e.qZA()(),e.TgZ(4,"mat-form-field",9)(5,"label"),e._UZ(6,"input",11),e.qZA()()())}function w(r,a){1&r&&(e.TgZ(0,"mat-form-field",9)(1,"label"),e._UZ(2,"input",12),e.qZA()())}let q=(()=>{class r extends d.Ku{constructor(t,o,s,u){super(s),this.referenceValueService=t,this.fb=o,this.dialog=s,this.data=u,this.form=o.group({description:[u.referenceValueRule?.description,[l.kI.maxLength(4096)]],comparisonOperator:[u.referenceValueRule?.comparisonOperator??c.v.Equal,[l.kI.required]],referenceGroupId:[u.referenceValueRule?.referenceGroupId,[l.kI.required]],value:[u.referenceValueRule?.value,[]],start:[u.referenceValueRule?.start,[]],end:[u.referenceValueRule?.end,[]]})}isRange(){return this.form.value.comparisonOperator===c.v.RangeWithBoundaries||this.form.value.comparisonOperator===c.v.RangeWithoutBoundaries}submit(){this.IsValid()&&this.save(this.data.referenceValueRule?this.referenceValueService.updateReferenceValueRule(this.data.referenceValueId,this.data.referenceValueRule.id,this.form.value):this.referenceValueService.createReferenceValueRule(this.data.referenceValueId,this.form.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(L.U),e.Y36(l.qu),e.Y36(i.so),e.Y36(i.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules-save"]],standalone:!0,features:[e._Bn([M.C]),e.qOj,e.jDz],decls:9,vars:5,consts:function(){let a,t,o,s;return a="\u0627\u0644\u0648\u0635\u0641",t="\u0628\u062F\u0627\u064A\u0629",o="\u0646\u0647\u0627\u064A\u0629",s="\u0642\u064A\u0645\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",a],["formControlName","comparisonOperator"],["class","tw-flex md:tw-flex-row tw-flex-col md:tw-gap-4",4,"ngIf"],["class","tw-flex-1",4,"ngIf"],["formControlName","referenceGroupId"],[3,"actions"],[1,"tw-flex","md:tw-flex-row","tw-flex-col","md:tw-gap-4"],[1,"tw-flex-1"],["autocomplete","off","formControlName","start","matInput","","placeholder",t],["autocomplete","off","formControlName","end","matInput","","placeholder",o],["autocomplete","off","formControlName","value","matInput","","placeholder",s]]},template:function(t,o){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-comparison-operator",3),e.YNc(5,b,7,0,"div",4),e.YNc(6,w,3,0,"mat-form-field",5),e._UZ(7,"medisy-form-field-reference-group",6),e.qZA()(),e._UZ(8,"sz-ui-dialog-actions",7)),2&t&&(e.Q6J("header",o.header),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("ngIf",o.isRange()),e.xp6(1),e.Q6J("ngIf",!o.isRange()),e.xp6(2),e.Q6J("actions",o.actions))},dependencies:[p.ez,p.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,I.c,I.Nt,P.KE,i.Is,i.xY,P.lN,S.p9,d.su,A.Y,T.t,v.g,H.J,V.P,N],encapsulation:2}),r})();var k=n(3582),ee=n(3144);let te=(()=>{class r{constructor(t,o,s,u){this.dialog=t,this.route=o,this.referenceValueService=s,this.comparisonOperatorI18nPipe=u,this.dataSource=new E.b2(X.J.paged()),this.referenceValue=this.route.snapshot.data.referenceValue,this.dataSource.columns=[E.UC.text("referenceGroup","\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629",f=>f.referenceGroup.name),_.h.comparisonOperator(f=>u.transform(f.comparisonOperator)),E.UC.text("value","\u0642\u064A\u0645\u0629",f=>f.value?f.value:`${f.start} - ${f.end}`),_.h.createdAt(),_.h.menu([E.od.edit(f=>this.openSaveComponent(f)),E.od.delete(f=>{this.openReferenceValueRuleDeleteComponent(f)})])],this.get()}openSaveComponent(t){this.dialog.open(q,{data:{referenceValueId:this.referenceValue.id,referenceValueRule:t}}).afterClosed().pipe((0,h.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(K,{data:this.dataSource.filterModel}).afterClosed().pipe((0,h.q)(1)).subscribe(o=>{this.dataSource.updateFilterModel(o),this.get()})}openReferenceValueRuleDeleteComponent(t){this.dialog.open(d.fN,{data:d.cb.delete(this.referenceValueService.deleteReferenceValueRule(t.referenceValueId,t.id),t)}).afterClosed().pipe((0,h.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.referenceValueService.getReferenceValueRules(this.referenceValue.id,this.dataSource.filterModel).pipe((0,x.sU)(this.dataSource.indicator),(0,h.q)(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.uw),e.Y36(O.gz),e.Y36(L.U),e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules"]],features:[e._Bn([C])],decls:5,vars:4,consts:function(){let a;return a="\u0625\u0636\u0627\u0641\u0629",[[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],a,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(t,o){1&t&&(e.TgZ(0,"sz-ui-table-filter",0),e.NdJ("search",function(){return o.get()})("filter",function(){return o.openFilterComponent()}),e.TgZ(1,"button",1),e.NdJ("click",function(){return o.openSaveComponent()}),e.TgZ(2,"span"),e.SDv(3,2),e.qZA()()(),e.TgZ(4,"sz-ui-table",3),e.NdJ("update",function(){return o.get()}),e.qZA()),2&t&&(e.Q6J("dataSource",o.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",o.dataSource))},dependencies:[m.lW,k.K,ee.f],encapsulation:2}),r})();const oe=[{path:"",component:(()=>{class r{constructor(t,o){this.dialog=t,this.route=o,this.alert$=new G.x,this.referenceValue=this.route.snapshot.data.referenceValue}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.uw),e.Y36(O.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value"]],features:[e._Bn([])],decls:10,vars:2,consts:[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["mat-icon-button","","routerLink","../","end",""]],template:function(t,o){1&t&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e._uU(3),e.qZA(),e.TgZ(4,"span",2),e._uU(5),e.qZA()(),e.TgZ(6,"button",3)(7,"mat-icon"),e._uU(8,"arrow_back"),e.qZA()()(),e._UZ(9,"medisy-laboratory-reference-value-rules")),2&t&&(e.xp6(3),e.Oqu(o.referenceValue.testClass.name),e.xp6(2),e.Oqu(o.referenceValue.description))},dependencies:[O.rH,g.Hw,m.RK,B.z,te],encapsulation:2}),r})()}];let re=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[M.C],imports:[p.ez,l.u5,O.Bz.forChild(oe),i.Is,S.p9,Y.Tx,g.Ps,m.ot,y.LD,D.E3,E.Vn,F.c,$.V,J.h,d.su,Z.n,z.X]}),r})()},465:(U,R,n)=>{n.d(R,{X:()=>l});var p=n(5879);let l=(()=>{class m{}return m.\u0275fac=function(i){return new(i||m)},m.\u0275mod=p.oAB({type:m}),m.\u0275inj=p.cJS({}),m})()}}]);