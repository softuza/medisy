import{g as m}from"./chunk-BE5RJSSS.js";import{a as P}from"./chunk-PQALM6DK.js";import{b as r,c as R,d as _,s as j,t as w}from"./chunk-G4WGWXCP.js";import{c as D,l as I,n as A}from"./chunk-AS5U2OT3.js";import{d as z}from"./chunk-GP3W3GGO.js";import{a as n}from"./chunk-KMOC5U6F.js";import{a as M}from"./chunk-C3UREHHC.js";import{a as g,e as v,h as C}from"./chunk-2IOOD4ZB.js";import{i as T}from"./chunk-DESFHGZ3.js";import{Bb as f,Cb as S,L as l,Pb as y,Zb as h,ac as b,db as a,la as c,nb as u}from"./chunk-J5YYK5S2.js";var ee=(()=>{let o=class o{constructor(e,i,s,d){this.route=e,this.dialog=i,this.mlabService=s,this.typeI18nPipe=d,this.dataSource=new _,this.analysis=this.route.snapshot.data.analysis,this.dataSource.addRows(R.default([r.hyperlink("code",n.code,t=>t.id,t=>t.specimen.code.toString()),r.text("specimen.type",n.type,t=>t.specimen.type.name),r.text("specimen.state",n.state,t=>d.transform(t.specimen.state)),P.menu([T.delete(t=>this.openDeleteAnalysisSpecimenComponent(t))])])),this.get()}openDeleteAnalysisSpecimenComponent(e){this.dialog.open(I,{data:A.delete(this.mlabService.analyses.specimens.delete(e.analysisId,e.id),e)}).afterClosed().pipe(l(1)).subscribe(i=>{this.dataSource.delete(i)})}get(){this.mlabService.analyses.specimens.get(this.analysis.id,C.unpaged()).pipe(D(this.dataSource.indicator)).pipe(l(1)).subscribe(e=>{this.dataSource.set(e.items,e.count)})}};o.\u0275fac=function(i){return new(i||o)(a(g),a(z),a(M),a(m))},o.\u0275cmp=c({type:o,selectors:[["medisy-laboratory-analysis-specimens"]],standalone:!0,features:[h([m]),b],decls:1,vars:2,consts:[[3,"stateEnabled","dataSource","update"]],template:function(i,s){i&1&&(f(0,"sz-ui-table",0),y("update",function(){return s.get()}),S()),i&2&&u("stateEnabled",!0)("dataSource",s.dataSource)},dependencies:[v,w,j],encapsulation:2});let p=o;return p})();export{ee as a};
/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/
