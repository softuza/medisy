import{a as ne}from"./chunk-WMR7Q26G.js";import{a as M}from"./chunk-Z2RPXGB3.js";import{b as Z,c as x,d as ee,f as te,h as ie,r as oe,s as re}from"./chunk-7RJ5EIRJ.js";import{c as b,h as H,i as X,j as J,l as K,m as Q,n as W}from"./chunk-AS5U2OT3.js";import{a as V,b as $,d as k,e as B,g as U}from"./chunk-GP3W3GGO.js";import{C as w,p as Y}from"./chunk-HSZRRRQX.js";import{d as z,f as E,g as C,h as D,l as G,m as O,n as F,o as P,p as N,s as v}from"./chunk-DOVRWRQU.js";import"./chunk-VLCPYEZN.js";import{a as f}from"./chunk-JFXMSXD3.js";import{b as q}from"./chunk-MDQJK7YC.js";import{a as _}from"./chunk-6ILUQYS3.js";import{a as R,e as A}from"./chunk-2WUPC45G.js";import{i as g}from"./chunk-DESFHGZ3.js";import"./chunk-PLPMFK4N.js";import"./chunk-GNPEYPQP.js";import{Pa as L,Ra as j}from"./chunk-26JDY2BM.js";import{Bb as m,Cb as S,Db as p,L as l,Nb as I,Pb as y,Zb as T,ac as u,cb as c,db as r,kb as h,la as d,nb as s}from"./chunk-J5YYK5S2.js";var pe=(()=>{let o=class o extends Y{constructor(e,i){super(e),this.ngControl=e,this.mlabService=i,this.options=[],this.label="\u0646\u0645\u0637 \u0627\u0644\u0639\u064A\u0646\u0629",this.optionContent=t=>t.name,this.optionValue=t=>t.id;}ngOnInit(){this.control=this.ngControl.control,this.mlabService.specimenTypes.getItems(_.unpagedSorted("name")).pipe(b(this.indicator),l(1)).subscribe(e=>{this.options=e;});}};o.ɵfac=function(i){return new(i||o)(r(E,10),r(f));},o.ɵcmp=d({type:o,selectors:[["medisy-form-field-specimen-type"]],standalone:!0,features:[T([]),h,u],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(i,t){i&1&&p(0,"sz-ui-form-field-select",0),i&2&&s("formControl",t.control)("indicator",t.indicator)("options",t.options)("label",t.label)("placeholder",t.placeholder)("emptyOption",t.emptyOption)("multiple",t.multiple)("szOptionContentFn",t.optionContent)("szOptionValueFn",t.optionValue);},dependencies:[v,C,O,w],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let n=o;return n;})();var me=(()=>{let o=class o extends H{constructor(e,i,t,a){super(t),this.mlabService=e,this.fb=i,this.dialog=t,this.data=a,this.form=i.group({specimenTypeId:[a.testGroupSpecimenType?.specimenTypeId,[z.required]]});}submit(){this.IsValid()&&(this.data.testGroupSpecimenType?this.save(this.mlabService.testGroups.specimenTypes.update(this.data.testGroupId,this.data.testGroupSpecimenType?.id,this.form.value)):this.save(this.mlabService.testGroups.specimenTypes.create(this.data.testGroupId,this.form.value)));}};o.ɵfac=function(i){return new(i||o)(r(f),r(N),r(V),r($));},o.ɵcmp=d({type:o,selectors:[["medisy-test-group-specimen-types-save"]],standalone:!0,features:[T([]),h,u],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","specimenTypeId"],[3,"actions"]],template:function(i,t){i&1&&(p(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-specimen-type",2),S()(),p(4,"sz-ui-dialog-actions",3)),i&2&&(s("header",t.header),c(2),s("formGroup",t.form),c(2),s("actions",t.actions));},dependencies:[v,G,C,D,F,P,U,B,ie,Q,X,J,pe],encapsulation:2});let n=o;return n;})();var Ze=(()=>{let o=class o{constructor(e,i,t){this.dialog=e,this.mlabService=i,this.route=t,this.title=ne.specimenTypes,this.dataSource=new x(_.paged()),this.testGroup=this.route.snapshot.data.testGroup,this.dataSource.addRows(ee.default([Z.text("specimenType","\u0646\u0645\u0637 \u0627\u0644\u0639\u064A\u0646\u0629",a=>a.specimenType.name),M.createdAt(),M.menu([g.edit(a=>this.openSaveComponent(a)),g.delete(a=>this.openTestTypeSpecimenTypeDeleteComponent(a))])])),this.get();}openSaveComponent(e){this.dialog.open(me,{data:{testGroupId:this.testGroup.id,testGroupSpecimenType:e}}).afterClosed().pipe(l(1)).subscribe(i=>{this.dataSource.addOrUpdateItem(i);});}openTestTypeSpecimenTypeDeleteComponent(e){this.dialog.open(K,{data:W.delete(this.mlabService.testGroups.specimenTypes.delete(e.testGroupId,e.id),e)}).afterClosed().pipe(l(1)).subscribe(i=>{this.dataSource.delete(i);});}updateItem(e){this.mlabService.testGroups.specimenTypes.update(e.testGroupId,e.id,e).subscribe(i=>{this.dataSource.update(i);});}get(){this.mlabService.testGroups.specimenTypes.get(this.testGroup.id,this.dataSource.filterModel).pipe(b(this.dataSource.indicator),l(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};o.ɵfac=function(i){return new(i||o)(r(k),r(f),r(R));},o.ɵcmp=d({type:o,selectors:[["medisy-laboratory-test-group-specimen-types"]],standalone:!0,features:[u],decls:6,vars:6,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[[3,"title","subTitle"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(i,t){i&1&&(p(0,"sz-ui-header-info",0),m(1,"sz-ui-table-filter",1),y("search",function(){return t.get();}),m(2,"button",2),y("click",function(){return t.openSaveComponent();}),m(3,"span"),I(4,3),S()()(),m(5,"sz-ui-table",4),y("update",function(){return t.get();}),S()),i&2&&(s("title",t.title)("subTitle",t.testGroup.name),c(1),s("dataSource",t.dataSource),c(4),s("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource));},dependencies:[A,j,L,re,oe,te,q],encapsulation:2});let n=o;return n;})();export{Ze as TestGroupSpecimenTypesComponent};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/