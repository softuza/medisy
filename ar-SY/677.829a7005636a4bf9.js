"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[677],{2677:(V,g,n)=>{n.r(g),n.d(g,{TestGroupModule:()=>Q});var _=n(6814),c=n(2296),u=n(7700),O=n(617),T=n(8109),m=n(6987),R=n(758),d=n(4110),E=n(5041),C=n(2191),l=n(3572),y=n(9598),h=n(8721),S=n(8180),p=n(6223),f=n(5986),M=n(8518),b=n(6893),z=n(9004),D=n(7398),e=n(5879),L=n(8930);let U=(()=>{class o extends b.m{constructor(t,s){super(t),this.ngControl=t,this.testClassService=s,this.label="\u0646\u0645\u0637 \u0627\u0644\u0639\u064A\u0646\u0629",this.contentFormat=r=>r.name,this.valueFormat=r=>r.id}ngOnInit(){this.control=this.ngControl.control,this.items$=this.testClassService.getSpecimenTypes({pageIndex:1,pageSize:20}).pipe((0,h.sU)(this.indicator),(0,D.U)(t=>t.items))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.a5,10),e.Y36(M.I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["medisy-form-field-specimen-type"]],standalone:!0,features:[e._Bn([M.I]),e.qOj,e.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(t,s){1&t&&(e._UZ(0,"sz-ui-form-field-select",0),e.ALo(1,"async")),2&t&&e.Q6J("formControl",s.control)("indicator",s.indicator)("items",e.lcZ(1,9,s.items$))("label",s.label)("placeholder",s.placeholder)("emptyOption",s.emptyOption)("multiple",s.multiple)("contentFn",s.contentFormat)("valueFn",s.valueFormat)},dependencies:[_.ez,_.Ov,p.UX,p.JJ,p.oH,z.g,L.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})();var P=n(4622),v=n(6091);let Z=(()=>{class o extends d.Ku{constructor(t,s,r,i){super(r),this.testGroupService=t,this.fb=s,this.dialog=r,this.data=i,this.form=s.group({testClassId:[i.testGroupSpecimenType?.specimenTypeId,[p.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.testGroupSpecimenType?this.testGroupService.updateTestGroupSpecimenType(this.data.testGroupId,this.data.testGroupSpecimenType?.id,this.form.value):this.testGroupService.createTestGroupSpecimenType(this.data.testGroupId,this.form.value))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.C),e.Y36(p.qu),e.Y36(u.so),e.Y36(u.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["medisy-test-group-specimen-types-save"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","specimenTypeId"],[3,"actions"]],template:function(t,s){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-specimen-type",2),e.qZA()(),e._UZ(4,"sz-ui-dialog-actions",3)),2&t&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(2),e.Q6J("actions",s.actions))},dependencies:[p.UX,p._Y,p.JJ,p.JL,p.sg,p.u,u.Is,u.xY,f.p9,d.su,P.Y,v.t,U],encapsulation:2}),o})();var A=n(3582),I=n(3144),G=n(2516);let N=(()=>{class o{constructor(t,s,r){this.dialog=t,this.testGroupService=s,this.route=r,this.dataSource=new l.b2(y.J.paged()),this.testGroup=this.route.snapshot.data.testGroup,this.dataSource.columns=[l.UC.text("specimenType","\u0646\u0645\u0637 \u0627\u0644\u0639\u064A\u0646\u0629",i=>i.specimenType.name),C.h.createdAt(),C.h.menu([l.od.edit(i=>this.openSaveComponent(i)),l.od.delete(i=>this.openTestTypeSpecimenTypeDeleteComponent(i))])],this.get()}openSaveComponent(t){this.dialog.open(Z,{data:{testGroupId:this.testGroup.id,testGroupSpecimenType:t}}).afterClosed().pipe((0,S.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openTestTypeSpecimenTypeDeleteComponent(t){this.dialog.open(d.fN,{data:d.cb.delete(this.testGroupService.deleteTestGroupSpecimenType(t.testGroupId,t.id),t)}).afterClosed().pipe((0,S.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}updateItem(t){this.testGroupService.updateTestGroupSpecimenType(t.testGroupId,t.id,t).subscribe(s=>{this.dataSource.update(s)})}get(){this.testGroupService.getTestGroupSpecimenTypes(this.testGroup.id,this.dataSource.filterModel).pipe((0,h.sU)(this.dataSource.indicator),(0,S.q)(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.uw),e.Y36(m.C),e.Y36(T.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["medisy-laboratory-test-group-specimen-types"]],standalone:!0,features:[e.jDz],decls:8,vars:4,consts:function(){let a,t;return a="\u0623\u0646\u0645\u0627\u0637 \u0627\u0644\u0639\u064A\u0646\u0627\u062A",t="\u0625\u0636\u0627\u0641\u0629",[["start",""],a,[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(t,s){1&t&&(e.TgZ(0,"sz-ui-header-basic")(1,"strong",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return s.get()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return s.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return s.get()}),e.qZA()),2&t&&(e.xp6(3),e.Q6J("dataSource",s.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",s.dataSource))},dependencies:[c.ot,c.lW,l.Vn,A.K,I.f,E.n,G.z],encapsulation:2}),o})();var $=n(1175);const J=function(){return[]},F=function(o){return[o]};let X=(()=>{class o extends d.Ku{constructor(t,s,r,i){super(r),this.testGroupService=t,this.fb=s,this.dialog=r,this.data=i,this.form=s.group({testClassId:[i.testGroupTestClass?.testClassId,[p.kI.required]],enabled:[i.testGroupTestClass?.enabled??!0,[]]})}submit(){this.IsValid()&&this.save(this.data.testGroupTestClass?this.testGroupService.updateTestGroupTestClass(this.data.testGroupId,this.data.testGroupTestClass?.id,this.form.value):this.testGroupService.createTestGroupTestClass(this.data.testGroupId,this.form.value))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.C),e.Y36(p.qu),e.Y36(u.so),e.Y36(u.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["medisy-test-group-test-classes-save"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:7,vars:7,consts:function(){let a;return a="\u0645\u0641\u0639\u0644",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId",3,"excludeTestGroupIds"],["formControlName","enabled"],a,[3,"actions"]]},template:function(t,s){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-test-class",2),e.TgZ(4,"mat-checkbox",3),e.SDv(5,4),e.qZA()()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&t&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(1),e.Q6J("excludeTestGroupIds",s.data.testGroupTestClass?e.DdM(4,J):e.VKq(5,F,s.data.testGroupId)),e.xp6(3),e.Q6J("actions",s.actions))},dependencies:[p.UX,p._Y,p.JJ,p.JL,p.sg,p.u,u.Is,u.xY,f.p9,f.oG,d.su,P.Y,v.t,$.U],encapsulation:2}),o})(),Y=(()=>{class o{constructor(t,s,r){this.dialog=t,this.testGroupService=s,this.route=r,this.dataSource=new l.b2(y.J.paged()),this.testGroup=this.route.snapshot.data.testGroup,this.dataSource.columns=[l.UC.text("testClass","\u0635\u0646\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631",i=>i.testClass.name),C.h.createdAt(),l.UC.checkbox("enabled","\u0645\u0641\u0639\u0644",(i,j)=>{i.enabled=j,this.updateItem(i)}),C.h.menu([l.od.edit(i=>this.openSaveComponent(i)),l.od.delete(i=>this.openTestTypeTestClassDeleteComponent(i))])],this.get()}openSaveComponent(t){this.dialog.open(X,{data:{testGroupId:this.testGroup.id,testGroupTestClass:t}}).afterClosed().pipe((0,S.q)(1)).subscribe(r=>{this.dataSource.updateOrPushItem(r)})}openTestTypeTestClassDeleteComponent(t){this.dialog.open(d.fN,{data:d.cb.delete(this.testGroupService.deleteTestGroupTestClass(t.testGroupId,t.id),t)}).afterClosed().pipe((0,S.q)(1)).subscribe(r=>{this.dataSource.delete(r)})}updateItem(t){this.testGroupService.updateTestGroupTestClass(t.testGroupId,t.id,t).subscribe(s=>{this.dataSource.update(s)})}get(){this.testGroupService.getTestGroupTestClasses(this.testGroup.id,this.dataSource.filterModel).pipe((0,h.sU)(this.dataSource.indicator),(0,S.q)(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.uw),e.Y36(m.C),e.Y36(T.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["medisy-laboratory-test-group-test-classes"]],standalone:!0,features:[e.jDz],decls:8,vars:4,consts:function(){let a,t;return a="\u0623\u0635\u0646\u0627\u0641 \u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",t="\u0625\u0636\u0627\u0641\u0629",[["start",""],a,[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(t,s){1&t&&(e.TgZ(0,"sz-ui-header-basic")(1,"strong",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return s.get()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return s.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return s.get()}),e.qZA()),2&t&&(e.xp6(3),e.Q6J("dataSource",s.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",s.dataSource))},dependencies:[c.ot,c.lW,l.Vn,A.K,I.f,E.n,G.z],encapsulation:2}),o})();const B=[{path:"",component:(()=>{class o{constructor(t,s){this.dialog=t,this.route=s,this.testGroup=this.route.snapshot.data.testGroup}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.uw),e.Y36(T.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["medisy-laboratory-test-group"]],features:[e._Bn([])],decls:11,vars:2,consts:[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["mat-icon-button","","routerLink","../","end",""]],template:function(t,s){1&t&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e._uU(3),e.qZA(),e.TgZ(4,"span",2),e._uU(5),e.qZA()(),e.TgZ(6,"button",3)(7,"mat-icon"),e._uU(8,"arrow_back"),e.qZA()()(),e._UZ(9,"medisy-laboratory-test-group-test-classes")(10,"medisy-laboratory-test-group-specimen-types")),2&t&&(e.xp6(3),e.Oqu(s.testGroup.name),e.xp6(2),e.Oqu(s.testGroup.description))},dependencies:[T.rH,O.Hw,c.RK,G.z,Y,N],encapsulation:2}),o})()}];let Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[m.C],imports:[_.ez,T.Bz.forChild(B),u.Is,O.Ps,c.ot,R.E3,E.n,d.su,Y,N]}),o})()}}]);