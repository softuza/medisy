import{a as E}from"./chunk-ROAOVI5H.js";import{h as H}from"./chunk-EYGAI5PJ.js";import{a as fe,b as ue,c as ce}from"./chunk-YRRUDDK2.js";import{a as de}from"./chunk-5DTWCOKK.js";import"./chunk-SXHZRCDT.js";import{a as le}from"./chunk-LTYLJZW4.js";import{a as P}from"./chunk-ICIFQ36O.js";import"./chunk-IR4ZVDHN.js";import"./chunk-CUIKVH6O.js";import{a as M}from"./chunk-B6BGJAKF.js";import{h as me,i as se,j as pe,m as h}from"./chunk-UVKODSF3.js";import"./chunk-LB4M65MR.js";import{b as C}from"./chunk-I3RE2UAN.js";import{a as l,e as re,f as ne,g as s,h as ae}from"./chunk-E2YN42QZ.js";import{a as ee,b as oe,d as te,e as ie,g as _}from"./chunk-2OM43JW4.js";import{A as Z,u as Q,v as W}from"./chunk-PSHVV3L5.js";import{J as Y,L as w,N as k,P as J,d as g,f as $,g as V,k as j,m as G,p as B,q as x,s as U,t as X}from"./chunk-7YDZJT25.js";import{Ga as q,Ja as K}from"./chunk-NQOK3G2M.js";import{Cb as I,Db as z,Eb as R,Fb as u,Gb as d,Hb as m,M as A,a as N,b as O,fa as y,gb as f,hb as a,hc as S,kc as F,oa as c,ob as T,oc as L,pa as D,pc as b,vb as p}from"./chunk-XEAZENSO.js";var _e=(()=>{let o=class o extends me{constructor(i,t,r,n){super(r),this.mpplService=i,this.fb=t,this.dialog=r,this.data=n,this.form=t.group({sex:[n.sex,[g.required]],languageId:[n.languageId,[g.required]],title:[n.title,[]],ssn:[n.ssn,[]],nationalityId:[n.nationalityId,[]],birthDate:[n.birthDate,[]]});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,O(N({},this.form.value),{titleId:this.form.value.title?.id})));}};o.ɵfac=function(t){return new(t||o)(a(P),a(x),a(ee),a(oe));},o.ɵcmp=c({type:o,selectors:[["medisy-people-person-save"]],standalone:!0,features:[S([]),T,F],decls:12,vars:3,consts:()=>{let i;i="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let t;t="\u0627\u0644\u0644\u0642\u0628";let r;return r="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",i],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",t],["formControlName","birthDate","label",r],[3,"actions"]];},template:function(t,r){t&1&&(m(0,"sz-ui-dialog-header",0),u(1,"mat-dialog-content")(2,"form",1)(3,"div",2),m(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),d(),m(6,"medisy-form-field-language",5),u(7,"div",2),m(8,"medisy-form-field-sex",6)(9,"medisy-form-field-title-search",7),d(),m(10,"sz-ui-form-field-date",8),d()(),m(11,"sz-ui-dialog-actions",9)),t&2&&(p("header",r.header),f(2),p("formGroup",r.form),f(9),p("actions",r.actions));},dependencies:[X,j,$,V,G,B,h,se,pe,Z,W,_,ie,fe,Q,ce,de,ue],encapsulation:2});let e=o;return e;})();function Ee(e,o){if(e&1&&m(0,"sz-ui-card",2),e&2){let Ce=o.$implicit;p("card",Ce);}}var Me=(()=>{let o=class o{constructor(i,t,r,n){this.dialog=i,this.mlabService=t,this.route=r,this.router=n,this.items=[],this.personMenu=ae.more([s.edit(()=>this.openSaveComponent()),s.divider(),s.default(l.names,"info",()=>this.navigate("names")),s.default(l.phones,"phone",()=>this.navigate("phones")),s.default(l.emails,"alternate_email",()=>this.navigate("emails")),s.default(l.addresses,"home",()=>this.navigate("addresses")),s.default(l.documents,"badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let v={title:0,icon:"science",subtitle:l.analyses,indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(v),this.getAnalysisCount(v);}navigate(i){this.router.navigate([i],{relativeTo:this.route});}getAnalysisCount(i){this.mlabService.analyses.count().subscribe(t=>{i.title=t;});}openSaveComponent(){this.dialog.open(_e,{data:this.person}).afterClosed().pipe(A(1)).subscribe(i=>{i&&(this.person=i);});}};o.ɵfac=function(t){return new(t||o)(a(te),a(M),a(Y),a(w));},o.ɵcmp=c({type:o,selectors:[["medisy-peopel-person"]],features:[S([M])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(t,r){t&1&&(m(0,"sz-ui-header-info",0),L(1,"personName"),u(2,"div",1),z(3,Ee,1,1,"sz-ui-card",2,I),d()),t&2&&(p("title",b(1,2,r.person))("menu",r.personMenu),f(3),R(r.items));},dependencies:[E,C,le],encapsulation:2});let e=o;return e;})();var Pe=[{path:"",component:Me},{path:"names",loadComponent:()=>import("./chunk-PRAPRG56.js").then(e=>e.PersonNamesComponent)},{path:"phones",loadComponent:()=>import("./chunk-X57TQVOM.js").then(e=>e.PersonPhonesComponent)},{path:"emails",loadComponent:()=>import("./chunk-WHVUZXW6.js").then(e=>e.PersonEmailsComponent)},{path:"documents",loadComponent:()=>import("./chunk-ZX7NAG2I.js").then(e=>e.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>import("./chunk-YEAKMBBP.js").then(e=>e.PersonAddressesComponent)}];var Co=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=D({type:o}),o.ɵinj=y({providers:[P],imports:[U,k.forChild(Pe),H,K,E,h,C,re,J,_,q,ne]});let e=o;return e;})();export{Co as PersonModule};/**i18n:f1993a9d8de25a460a4edd4e25b48862b3dd863aec93a795c43b451741326090*/