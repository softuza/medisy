import{a as z,b as N,c as A}from"./chunk-LI7I2GFE.js";import{h as I}from"./chunk-FWZEH63T.js";import{b as xe}from"./chunk-BVDDTOMA.js";import{a as d}from"./chunk-JHPSZAE5.js";import{a as O}from"./chunk-LAXXIHXK.js";import{c as T,h as Oe,i as ze,j as Ne,l as Ae,m as Re,n as Le}from"./chunk-CWT2QOXX.js";import{b as X}from"./chunk-FYBE5DC6.js";import{d as U}from"./chunk-I5QX4CCA.js";import{a as De,b as Fe,d as y,e as Ie,g as Pe}from"./chunk-3NLMA3OD.js";import{A as be,a as Se,b as he,g as Ce,o as ve,v as ge,w as ye,x as Te,z as Ee}from"./chunk-7ERNPK3U.js";import{A as g,d as J,e as se,f as Y,g as le,k as me,l as pe,m as ce,p as de,q as ue,t as V,w as M,y as fe,z as Me}from"./chunk-HA3OCK63.js";import{i as L,j as K}from"./chunk-TRBAPJPW.js";import{q as P}from"./chunk-QFHU2GEW.js";import{Ja as v,r as ae,ya as _e}from"./chunk-T2UVNK6V.js";import{Bb as G,Cb as $,Db as j,Eb as c,Fb as m,Gb as p,M as Z,Qb as B,Sb as ne,Ub as b,bb as F,da as ee,dc as H,ea as te,ec as q,fb as l,gb as n,gc as x,ja as ie,jc as f,na as u,nb as _,oa as oe,pa as re,qb as E,ub as a,zb as C}from"./chunk-T2ST7G6M.js";var S=(()=>{let e=class e{constructor(o){this.http=o,this.basePath="softuza-portal",this.tiles=new U(this.http,`${this.basePath}/v1/tiles`),this.tileGroups=new U(this.http,`${this.basePath}/v1/tile-groups`),this.tileTypes=new U(this.http,`${this.basePath}/v1/tile-types`);}};e.ɵfac=function(i){return new(i||e)(ie(ae));},e.ɵprov=ee({token:e,factory:e.ɵfac});let t=e;return t;})();var R=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵdir=re({type:e,inputs:{id:"id",config:"config"}});let t=e;return t;})();var Ge=(()=>{let e=class e extends R{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"science",subtitle:d.analyses,clickFn:()=>this.router.navigate(["/mlab/analyses"]),actions:[A.action(d.add,()=>this.router.navigate(["/mlab/analyses/create"]))]},this.value=null,this.indicator=F(!1),this.get();}get(){this.mlabService.analyses.count({filters:[]}).pipe(T(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(i){return new(i||e)(n(O),n(y),n(M));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-analyses-count"]],standalone:!0,features:[_,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(i,r){i&1&&(c(0,"sz-ui-card",0),p(1,"sz-ui-counter",1),m()),i&2&&(a("card",r.card)("indicator",r.indicator),l(),a("value",r.value));},dependencies:[I,v,P,g,N,z],encapsulation:2});let t=e;return t;})();var $e=(()=>{let e=class e extends R{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"biotech",subtitle:d.laboratories,clickFn:()=>this.router.navigate(["/mlab/laboratories"]),actions:[A.action(d.show,()=>this.router.navigate(["/mlab/laboratories"]))]},this.value=null,this.indicator=F(!1),this.get();}get(){this.mlabService.laboratories.count({filters:[]}).pipe(T(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(i){return new(i||e)(n(O),n(y),n(M));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-laboratories-count"]],standalone:!0,features:[_,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(i,r){i&1&&(c(0,"sz-ui-card",0),p(1,"sz-ui-counter",1),m()),i&2&&(a("card",r.card)("indicator",r.indicator),l(),a("value",r.value));},dependencies:[I,v,P,g,N,z],encapsulation:2});let t=e;return t;})();var je=(()=>{let e=class e extends R{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"label",subtitle:d.specimens,clickFn:()=>this.router.navigate(["/mlab/specimens"]),actions:[A.action(d.show,()=>this.router.navigate(["/mlab/specimens"]))]},this.value=null,this.indicator=F(!1),this.get();}get(){this.mlabService.specimens.count({filters:[]}).pipe(T(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(i){return new(i||e)(n(O),n(y),n(M));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-specimens-count"]],standalone:!0,features:[_,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(i,r){i&1&&(c(0,"sz-ui-card",0),p(1,"sz-ui-counter",1),m()),i&2&&(a("card",r.card)("indicator",r.indicator),l(),a("value",r.value));},dependencies:[I,v,P,g,N,z],encapsulation:2});let t=e;return t;})();var we=(()=>{let e=class e extends R{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"lab_profile",subtitle:d.testClasses,clickFn:()=>this.router.navigate(["/mlab/test-classes"]),actions:[A.action(d.show,()=>this.router.navigate(["/mlab/test-classes"]))]},this.value=null,this.indicator=F(!1),this.get();}get(){this.mlabService.testClasses.count({filters:[]}).pipe(T(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(i){return new(i||e)(n(O),n(y),n(M));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-test-classes-count"]],standalone:!0,features:[_,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(i,r){i&1&&(c(0,"sz-ui-card",0),p(1,"sz-ui-counter",1),m()),i&2&&(a("card",r.card)("indicator",r.indicator),l(),a("value",r.value));},dependencies:[I,v,P,g,N,z],encapsulation:2});let t=e;return t;})();function Xe(t,e){if(t&1&&(c(0,"mat-label"),H(1),m()),t&2){let s=b();l(),q(s.label);}}function ke(t,e){t&1&&(c(0,"mat-option"),H(1,"-"),m());}function qe(t,e){if(t&1&&(c(0,"mat-option",4),H(1),m()),t&2){let s=e.$implicit,o=b();a("value",o.getOptionValue(s)),l(),q(o.getOptionContent(s));}}function Je(t,e){t&1&&(c(0,"mat-error"),B(1,5),m());}function Ke(t,e){t&1&&(c(0,"mat-error"),B(1,6),m());}function Qe(t,e){t&1&&(c(0,"mat-error"),B(1,7),m());}function We(t,e){t&1&&p(0,"mat-progress-bar",3);}var Be=(()=>{let e=class e extends ve{constructor(o,i){super(o),this.ngControl=o,this.sprtService=i,this.label=d.abbreviation;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.sprtService.tileTypes.getAll(null,["name"]).pipe(Z(1)).pipe(T(this.indicator)).subscribe(o=>{this.options.push(...o.items),this.totalPages=o.totalPages;});}};e.ɵfac=function(i){return new(i||e)(n(se,10),n(S));},e.ɵcmp=u({type:e,selectors:[["medisy-form-field-tile-type"]],standalone:!0,features:[x([S]),_,f],decls:11,vars:10,consts:()=>{let o;o="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628";let i;i="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0644\u064A\u0633 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644";let r;return r="\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u064A\u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0637\u0648\u0644",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],o,i,r];},template:function(i,r){i&1&&(c(0,"div",0)(1,"mat-form-field",1),E(2,Xe,2,1,"mat-label"),c(3,"mat-select",2),ne("szScrolled",function(){return r.scroll();}),E(4,ke,2,0,"mat-option"),$(5,qe,2,2,"mat-option",4,G),m(),E(7,Je,2,0,"mat-error")(8,Ke,2,0,"mat-error")(9,Qe,2,0,"mat-error"),m(),E(10,We,1,0,"mat-progress-bar",3),m()),i&2&&(l(2),C(2,r.label?2:-1),l(),a("formControl",r.control)("multiple",r.multiple)("placeholder",r.placeholder)("szScrollIgnored",r.indicator()),l(),C(4,r.emptyOption?4:-1),l(),j(r.options),l(2),C(7,r.control.hasError("required")?7:-1),l(),C(8,r.control.hasError("min")?8:-1),l(),C(9,r.control.hasError("max")?9:-1),l(),C(10,r.indicator()?10:-1));},dependencies:[V,Y,pe,Te,Ce,Se,he,ye,_e,g,Me,xe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=e;return t;})();function Ze(t,e){t&1&&p(0,"medisy-form-field-tile-type",4),t&2&&a("multiple",!0);}var He=(()=>{let e=class e extends Oe{constructor(o,i,r,h){super(r),this.sprtService=o,this.fb=i,this.dialog=r,this.data=h,this.form=i.group({name:[h?.name,[J.required,J.minLength(1)]],description:[h?.description,[]],tileTypeIds:[]});}submit(){this.IsValid()&&(this.data?this.save(this.sprtService.tileGroups.update(this.data.id,this.form.value)):this.save(this.sprtService.tileGroups.create(this.form.value)));}};e.ɵfac=function(i){return new(i||e)(n(S),n(ue),n(De),n(Fe));},e.ɵcmp=u({type:e,selectors:[["medisy-dashboard-save"]],standalone:!0,features:[x([S]),_,f],decls:7,vars:4,consts:()=>{let o;o="\u0627\u0644\u0627\u0633\u0645";let i;return i="\u0627\u0644\u0648\u0635\u0641",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","description","label",i],["formControlName","tileTypeIds",3,"multiple"],[3,"actions"]];},template:function(i,r){i&1&&(p(0,"sz-ui-dialog-header",0),c(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),E(5,Ze,1,1,"medisy-form-field-tile-type",4),m()(),p(6,"sz-ui-dialog-actions",5)),i&2&&(a("header",r.header),l(2),a("formGroup",r.form),l(3),C(5,r.data?-1:5),l(),a("actions",r.actions));},dependencies:[V,me,Y,le,ce,de,Pe,Ie,Re,ze,Ne,be,ge,Ee,Be],encapsulation:2});let t=e;return t;})();function et(t,e){if(t&1&&p(0,"medisy-laboratory-tiles-analyses-count",3),t&2){let s=b().$implicit;a("id",s.id)("config",s.config);}}function tt(t,e){if(t&1&&p(0,"medisy-laboratory-tiles-specimens-count",3),t&2){let s=b().$implicit;a("id",s.id)("config",s.config);}}function it(t,e){if(t&1&&p(0,"medisy-laboratory-tiles-laboratories-count",3),t&2){let s=b().$implicit;a("id",s.id)("config",s.config);}}function ot(t,e){if(t&1&&p(0,"medisy-laboratory-tiles-test-classes-count",3),t&2){let s=b().$implicit;a("id",s.id)("config",s.config);}}function rt(t,e){if(t&1&&E(0,et,1,2,"medisy-laboratory-tiles-analyses-count",3)(1,tt,1,2)(2,it,1,2)(3,ot,1,2),t&2){let s=e.$implicit;C(0,s.tileType.identifier==="mlab-analyses-count"?0:s.tileType.identifier==="mlab-specimens-count"?1:s.tileType.identifier==="mlab-laboratories-count"?2:s.tileType.identifier==="mlab-test-classes-count"?3:-1);}}function nt(t,e){if(t&1&&(p(0,"sz-ui-header-info",1),c(1,"div",2),$(2,rt,4,1,null,null,G),m()),t&2){let s=e.$implicit,o=b();a("title",s.name)("subtitle",s.description)("menu",o.tileGroupMenu)("data",s),l(2),j(s.tiles);}}var Ye=(()=>{let e=class e{constructor(o,i,r){this.sprtService=o,this.dialog=i,this.router=r,this.tileGroups=[],this.title=d.dashboard,this.manageTileGroups=!1,this.menu=K.more([L.add(()=>this.openSaveComponent()),L.divider(),L.manage(()=>{this.manageTileGroups=!this.manageTileGroups,this.manageTileGroups?this.tileGroupMenu=K.more([L.edit(h=>this.openSaveComponent(h)),L.divider(),L.delete(h=>this.openTileGroupDeleteComponent(h))]):this.tileGroupMenu=null;})]),this.tileGroupMenu=null,this.get();}openSaveComponent(o=null){this.dialog.open(He,{data:o}).afterClosed().subscribe(i=>{i&&this.get();});}openTileGroupDeleteComponent(o){console.log(o),this.dialog.open(Ae,{data:Le.delete(this.sprtService.tileGroups.delete(o.id),o)}).afterClosed().subscribe(i=>{if(i){let r=this.tileGroups.indexOf(o);r>=0&&this.tileGroups.splice(r,1);}});}get(){this.sprtService.tileGroups.getAll().subscribe(o=>{this.tileGroups=o.items;});}};e.ɵfac=function(i){return new(i||e)(n(S),n(y),n(M));},e.ɵcmp=u({type:e,selectors:[["medisy-dashboard"]],standalone:!0,features:[x([S]),f],decls:3,vars:2,consts:[[3,"title","menu"],[3,"title","subtitle","menu","data"],[1,"sz-grid-card","tw-mb-2"],[3,"id","config"]],template:function(i,r){i&1&&(p(0,"sz-ui-header-info",0),$(1,nt,4,4,null,null,G)),i&2&&(a("title",r.title)("menu",r.menu),l(),j(r.tileGroups));},dependencies:[X,Ge,je,$e,we],encapsulation:2});let t=e;return t;})();var Ve=[{path:"",component:Ye}];var fo=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵmod=oe({type:e}),e.ɵinj=te({imports:[fe.forChild(Ve),v,X]});let t=e;return t;})();export{fo as DashboardModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/