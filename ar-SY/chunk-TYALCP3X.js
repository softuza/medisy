import{a as ie}from"./chunk-ZTMON3MV.js";import{a as re}from"./chunk-LE4FS3VA.js";import{a as C}from"./chunk-6CAZFY3U.js";import{a as y,b as Q,c as W,e as Z,f as ee,g as T,o as te,p as oe}from"./chunk-BTAL4QP6.js";import"./chunk-BDKYF43S.js";import{c as w,h as X,i as q,j as H,l as x,m as J,n as K}from"./chunk-JUKWJGHA.js";import{a as F,b as B,d as $,e as U,g as k}from"./chunk-LR6DSKQQ.js";import"./chunk-CJ3L35E7.js";import{d as M,g as v,h as A,l as G,n as R,o as I,p as D,s as P}from"./chunk-FZFNR6NR.js";import"./chunk-MTTAGST2.js";import{a as b}from"./chunk-X3ZOFRYL.js";import{b as V}from"./chunk-KYTDMX2G.js";import{a as j}from"./chunk-AQB7U7BU.js";import{a as N,e as L}from"./chunk-4G55JY3H.js";import{i as h}from"./chunk-5QJH45WQ.js";import"./chunk-AWHXYS7Y.js";import"./chunk-EBVBFE7W.js";import{Pa as z,Ra as Y}from"./chunk-W55BWEJG.js";import{Bb as l,Cb as u,Db as p,L as m,Nb as S,Pb as _,ac as f,bc as E,cb as d,cc as O,db as n,kb as g,la as c,nb as s}from"./chunk-3QIFGVJ6.js";var me=()=>[],ue=a=>[a],ae=(()=>{let i=class i extends X{constructor(e,t,o,r){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=r,this.form=t.group({enabled:[r.laboratoryTestGroup?.enabled??!0,[M.required]],testGroupId:[r.laboratoryTestGroup?.testGroupId,[M.required]]});}submit(){this.IsValid()&&(this.data.laboratoryTestGroup?this.save(this.mlabService.laboratories.testGroups.update(this.data.laboratoryId,this.data.laboratoryTestGroup?.id,this.form.value)):this.save(this.mlabService.laboratories.testGroups.create(this.data.laboratoryId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(n(b),n(D),n(F),n(B));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[g,f],decls:7,vars:7,consts:()=>{let e;return e="\u0645\u0641\u0639\u0644",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testGroupId",3,"excludeLaboratoryIds"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,o){t&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-test-group-select",2),l(4,"mat-checkbox",3),S(5,4),u()()(),p(6,"sz-ui-dialog-actions",5)),t&2&&(s("header",o.header),d(2),s("formGroup",o.form),d(1),s("excludeLaboratoryIds",o.data.laboratoryTestGroup?E(4,me):O(5,ue,o.data.laboratoryId)),d(3),s("actions",o.actions));},dependencies:[P,G,v,A,R,I,J,q,H,k,U,T,ee,ie],encapsulation:2});let a=i;return a;})();var He=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.title=re.testGroups,this.dataSource=new Q(j.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(W.default([y.text("testGroup","\u0645\u062C\u0645\u0648\u0639\u0629 \u0627\u062E\u062A\u0628\u0627\u0631",r=>r.testGroup.name),C.createdAt(),y.checkbox("enabled","\u0645\u0641\u0639\u0644",(r,ne)=>{r.enabled=ne,this.mlabService.laboratories.testGroups.update(r.laboratoryId,r.id,r).pipe(m(1)).subscribe(se=>{r=se;});}),C.menu([h.edit(r=>{this.openSaveComponent(r);}),h.delete(r=>{this.openLaboratoryTestGroupDeleteComponent(r);})])])),this.get();}openSaveComponent(e){this.dialog.open(ae,{data:{laboratoryId:this.laboratory.id,laboratoryTestGroup:e}}).afterClosed().pipe(m(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openLaboratoryTestGroupDeleteComponent(e){this.dialog.open(x,{data:K.delete(this.mlabService.laboratories.testGroups.delete(e.laboratoryId,e.id),e)}).afterClosed().pipe(m(1)).subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.laboratories.testGroups.get(this.laboratory.id,this.dataSource.filterModel).pipe(w(this.dataSource.indicator)).pipe(m(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(n($),n(b),n(N));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-groups"]],standalone:!0,features:[f],decls:6,vars:6,consts:()=>{let e;return e="\u0625\u0636\u0627\u0641\u0629",[[3,"title","subTitle"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(t,o){t&1&&(p(0,"sz-ui-header-info",0),l(1,"sz-ui-table-filter",1),_("search",function(){return o.get();}),l(2,"button",2),_("click",function(){return o.openSaveComponent();}),l(3,"span"),S(4,3),u()()(),l(5,"sz-ui-table",4),_("update",function(){return o.get();}),u()),t&2&&(s("title",o.title)("subTitle",o.laboratory.name),d(1),s("dataSource",o.dataSource),d(4),s("paginationEnabled",!0)("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[L,V,oe,te,Z,T,Y,z],encapsulation:2});let a=i;return a;})();export{He as LaboratoryTestGroupsComponent};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/