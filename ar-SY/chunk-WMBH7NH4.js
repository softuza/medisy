import{a as q}from"./chunk-NTOFDNKI.js";import{b as H}from"./chunk-X6YFDI5K.js";import{a as f}from"./chunk-6JASRKM4.js";import{a as l}from"./chunk-HVDGC7SV.js";import{c as w,e as x,q as A,r as B,s as n}from"./chunk-D4I6EC7S.js";import{a as N}from"./chunk-VRN2YMLE.js";import{a as R}from"./chunk-I7URJTBN.js";import"./chunk-OON45GFZ.js";import{b as u}from"./chunk-AZIM6N3H.js";import"./chunk-F2NCOJMX.js";import{d as k,g as E}from"./chunk-GX7FEJ3W.js";import"./chunk-HN3QCICR.js";import{L as z,N as F}from"./chunk-BXVEVM4T.js";import"./chunk-MCX5CS6H.js";import{Fa as I,Ga as T,Ia as D,Ja as j,n as y}from"./chunk-ILHRA673.js";import{Eb as m,Fb as b,Gb as C,M as h,Sb as d,dc as P,ea as g,fb as S,gb as s,gc as _,na as v,oa as M,ub as c}from"./chunk-ORGLCS6N.js";var L=(()=>{let e=class e{constructor(t,i,o,p){this.dialog=t,this.mpplService=i,this.personNamePipe=o,this.router=p,this.title=N.persons,this.dataSource=new w,this.dataSource.fields.push(n.uuid("id"),n.hyperlink("names",a=>this.router.navigate([`/mppl/persons/${a.id}`])).setFormatFn(a=>o.transform(a)),n.string("sex").setFormatFn(a=>H(a.sex)),n.date("birthDate"),n.date("createdAt",!1),n.date("updatedAt",!1)),this.get()}openPersonScanComponent(){this.dialog.open(q).afterClosed().pipe(h(1)).subscribe(t=>{t&&this.get()})}get(){this.mpplService.persons.get(this.dataSource.buildRequest()).pipe(R(this.dataSource.indicator),h(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}};e.\u0275fac=function(i){return new(i||e)(s(k),s(l),s(f),s(z))},e.\u0275cmp=v({type:e,selectors:[["medisy-people-persons"]],features:[_([y,f])],decls:6,vars:4,consts:[[3,"title"],[3,"dataSource","changed"],["end","","mat-icon-button","",3,"click"],[3,"stateEnabled","dataSource","update"]],template:function(i,o){i&1&&(C(0,"sz-ui-header-info",0),m(1,"sz-ui-table-search-filter",1),d("changed",function(){return o.get()}),m(2,"button",2),d("click",function(){return o.openPersonScanComponent()}),m(3,"mat-icon"),P(4,"barcode"),b()()(),m(5,"sz-ui-table",3),d("update",function(){return o.get()}),b()),i&2&&(c("title",o.title),S(),c("dataSource",o.dataSource),S(4),c("stateEnabled",!0)("dataSource",o.dataSource))},dependencies:[I,A,x,u,D],encapsulation:2});let r=e;return r})();var $=[{path:"",component:L}];var _e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=g({providers:[l],imports:[F.forChild($),E,T,B,u,j]});let r=e;return r})();export{_e as PersonsModule};
/**i18n:8e9b4850590b6fa147a647198c020a875dcb2f3f874168f5a397dc75d2bcd225*/
