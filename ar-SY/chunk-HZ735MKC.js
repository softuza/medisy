import{a as u}from"./chunk-ZQRA3DQY.js";import{a as S,b as x,d as ee,f as te,i as ie,j as oe}from"./chunk-WMGRIY5K.js";import"./chunk-CQ7NM7SR.js";import"./chunk-OCQ23ONZ.js";import"./chunk-IYG2MVRE.js";import"./chunk-L3WCX2VW.js";import{e as K,f as W,g as Y,j as Z}from"./chunk-MXGWQWYW.js";import{a as E}from"./chunk-B7ZRILAL.js";import{h as J}from"./chunk-564657CZ.js";import{a as B,d as U,e as j,g as C}from"./chunk-OEY2SCBO.js";import"./chunk-VFSPSGE2.js";import{q as H,t as Q}from"./chunk-YEFGOYX6.js";import{c as w}from"./chunk-OUKY2LV5.js";import"./chunk-26QKYZ7E.js";import"./chunk-RNY2ZAXF.js";import{c as p,d as q}from"./chunk-DXLYU253.js";import{i as X}from"./chunk-NJX2JJKF.js";import{d as T,f as v,g as A,k as b,m as D,p as G,q as F,t as R}from"./chunk-LQY4W3AJ.js";import"./chunk-X3HTYEDH.js";import{c as L,e as $}from"./chunk-6ZNPQH75.js";import"./chunk-FD7GWJ3E.js";import{ha as P,ia as V,ka as k}from"./chunk-Z6LNH2JE.js";import"./chunk-FACP6A4L.js";import{Db as a,Nb as l,Ob as d,Pb as c,Zb as z,_b as _,hb as s,ib as m,ka as I,pc as M,qc as y,ua as f,ub as h,va as O}from"./chunk-YEAVYDV6.js";var g=function(r){return r.Email="Email",r.Sms="Sms",r.Push="Push",r;}(g||{});var N=(()=>{let i=class i extends K{constructor(o,t,e){super(e),this.sntiService=o,this.fb=t,this.dialog=e,this.title=p.create,this.notificaitons=this.sntiService.notifications.getAll({orderBy:["name"]}),this.categories=this.sntiService.categories.getAll({orderBy:["name"]}),this.notificationTypes=Object.keys(g).map(n=>g[n]),this.form=t.group({notificationId:[null,[T.required]],categoryId:[null,[]],notificationTypes:[null,[]],recipients:[[{identifier:"7e88a4f5-a2bb-48e6-8b84-823fb3fd3c86"}],[T.required]]});}submit(){this.IsValid()&&this.save(this.sntiService.messages.create(this.form.value));}};i.ɵfac=function(t){return new(t||i)(m(u),m(F),m(B));},i.ɵcmp=f({type:i,selectors:[["sz-mgmt-notification-messages-create"]],standalone:!0,features:[M([]),h,y],decls:7,vars:11,consts:()=>{let o;o="\u0625\u0634\u0639\u0627\u0631";let t;t="\u0627\u0644\u0623\u0646\u0645\u0627\u0637";let e;return e="\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0629",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","notificationId","label",o,3,"source"],["formControlName","notificationTypes","label",t,3,"source","localizedValue","multiple"],["formControlName","categoryId","label",e,3,"source","emptyOption"],[3,"actions"]];},template:function(t,e){t&1&&(c(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),c(3,"sz-ui-form-field-select",2)(4,"sz-ui-form-field-select",3)(5,"sz-ui-form-field-select",4),d()(),c(6,"sz-ui-dialog-actions",5)),t&2&&(a("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),s(2),a("formGroup",e.form),s(),a("source",e.notificaitons),s(),a("source",e.notificationTypes)("localizedValue",!0)("multiple",!0),s(),a("source",e.categories)("emptyOption",!0),s(),a("actions",e.actions));},dependencies:[R,b,v,A,D,G,C,j,X,Z,W,Y,Q,H],encapsulation:2});let r=i;return r;})();var ne=(()=>{let i=class i{constructor(o,t,e){this.dialog=o,this.sntiService=t,this.router=e,this.title=p.messages,this.dataSource=new ee(["-createdAt"]),this.dataSource.columnDefs.push(S.uuid("id"),S.date("createdAt").setStacked(S.enum("notificationType").setName(p.type).setValueGetter(n=>q(n.notificationType)).setValueClassFontSmall()),S.number("recipientsCount").setName(p.recipients),x.menu([J.info(n=>this.openInformationComponent(n))])),this.get();}openCreateComponent(){this.dialog.open(N).afterClosed().subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openInformationComponent(o){this.dialog.open(N).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}get(){this.sntiService.messages.get(this.dataSource.getQuery()).pipe(w(this.dataSource.indicator)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)(m(U),m(u),m(L));},i.ɵcmp=f({type:i,selectors:[["sz-mgmt-notification-messages"]],features:[M([])],decls:6,vars:4,consts:()=>{let o;return o="\u0625\u0636\u0627\u0641\u0629",[o,[3,"title"],[3,"changed","dataSource"],["mat-flat-button","","color","primary","start","",3,"click"],[3,"update","stateEnabled","dataSource"]];},template:function(t,e){t&1&&(c(0,"sz-ui-app-bar",1),l(1,"sz-ui-table-search-filter",2),_("changed",function(){return e.get();}),l(2,"button",3),_("click",function(){return e.openCreateComponent();}),l(3,"span"),z(4,0),d()()(),l(5,"sz-ui-table",4),_("update",function(){return e.get();}),d()),t&2&&(a("title",e.title),s(),a("dataSource",e.dataSource),s(4),a("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[V,ie,te,E],encapsulation:2});let r=i;return r;})();var Qe=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=O({type:i}),i.ɵinj=I({providers:[u],imports:[$.forChild([{path:"",component:ne}]),C,k,oe,E,P]});let r=i;return r;})();export{Qe as MessagesModule};/**i18n:0a288a4f0f2b4e95c2c7ac96666e2a5931342d8c0acbe20fb5b479c7dafc632c*/