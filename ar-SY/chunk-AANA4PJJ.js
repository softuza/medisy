import{a as se,b as M}from"./chunk-XZNQVZLE.js";import{a as ce,b as Se}from"./chunk-UJY2XSJK.js";import{a as ue}from"./chunk-OEO5GVAE.js";import{a as fe}from"./chunk-UR62DX7K.js";import{a as _}from"./chunk-L3MA6WSX.js";import"./chunk-S77WVTW6.js";import"./chunk-PPO5LMMV.js";import"./chunk-HJ4RP63E.js";import{h as H}from"./chunk-JI5I5E7Z.js";import{h as pe,i as le,j as de,m as C}from"./chunk-JUKWJGHA.js";import{a as ee,b as oe,d as te,e as ie,g as c}from"./chunk-LR6DSKQQ.js";import{E as Z,y as Q,z as W}from"./chunk-CJ3L35E7.js";import{d as P,g as b,h as V,l as Y,n as j,o as G,p as B,r as x,s as U}from"./chunk-FZFNR6NR.js";import{a as S}from"./chunk-X3ZOFRYL.js";import{b as E}from"./chunk-KYTDMX2G.js";import{a as re}from"./chunk-AQB7U7BU.js";import{a as X,c as q,e as w}from"./chunk-4G55JY3H.js";import{d as ne,f as ae,i as s,j as me}from"./chunk-5QJH45WQ.js";import{b as J}from"./chunk-AWHXYS7Y.js";import{Ra as k,Ua as K}from"./chunk-W55BWEJG.js";import{Bb as d,Cb as l,Db as m,L as I,Zb as u,a as N,ac as R,b as v,cb as h,da as y,db as a,ec as L,fc as $,kb as A,la as f,ma as O,nb as p,v as D,wb as z,xb as T,yb as F}from"./chunk-3QIFGVJ6.js";var Me=(()=>{let o=class o extends pe{constructor(i,t,r,n){super(r),this.mpplService=i,this.fb=t,this.dialog=r,this.data=n,this.form=t.group({sex:[n.sex,[P.required]],languageId:[n.languageId,[P.required]],title:[n.title,[]],ssn:[n.ssn,[]],nationalityId:[n.nationalityId,[]],birthDate:[n.birthDate,[]]});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,this.form.value));}};o.ɵfac=function(t){return new(t||o)(a(_),a(B),a(ee),a(oe));},o.ɵcmp=f({type:o,selectors:[["medisy-people-person-save"]],standalone:!0,features:[u([]),A,R],decls:12,vars:3,consts:()=>{let i;i="\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064A";let t;t="\u0627\u0644\u0644\u0642\u0628";let r;return r="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0648\u0644\u0627\u062F\u0629",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",i],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",t],["formControlName","birthDate","label",r],[3,"actions"]];},template:function(t,r){t&1&&(m(0,"sz-ui-dialog-header",0),d(1,"mat-dialog-content")(2,"form",1)(3,"div",2),m(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),l(),m(6,"medisy-form-field-language",5),d(7,"div",2),m(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),l(),m(10,"sz-ui-form-field-date",8),l()(),m(11,"sz-ui-dialog-actions",9)),t&2&&(p("header",r.header),h(2),p("formGroup",r.form),h(9),p("actions",r.actions));},dependencies:[U,Y,b,V,j,G,C,le,de,Z,W,c,ie,ce,Q,Se,ue],encapsulation:2});let e=o;return e;})();function ge(e,o){if(e&1&&m(0,"sz-ui-card",2),e&2){let he=o.$implicit;p("card",he);}}var Ee=(()=>{let o=class o{constructor(i,t,r,n){this.dialog=i,this.mlabService=t,this.route=r,this.router=n,this.items=[],this.personMenu=me.more([s.edit(()=>this.openSaveComponent()),s.divider(),s.default("\u0627\u0644\u0627\u0633\u0645\u0627\u0621","info",()=>this.navigate("names")),s.default("\u0627\u0644\u0647\u0648\u0627\u062A\u0641","phone",()=>this.navigate("phones")),s.default("\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A","alternate_email",()=>this.navigate("emails")),s.default("\u0627\u0644\u0639\u0646\u0627\u0648\u064A\u0646","home",()=>this.navigate("addresses")),s.default("\u0627\u0644\u0648\u062B\u0627\u0626\u0642","badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let g={title:0,type:se.Counter,icon:"science",subtitle:"\u0627\u0644\u062A\u062D\u0627\u0644\u064A\u0644",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(g),this.getAnalysisCount(g);}navigate(i){this.router.navigate([i],{relativeTo:this.route});}getAnalysisCount(i){this.mlabService.analyses.get(v(N({},re.count()),{personIds:[this.person.id]})).pipe(D(t=>t.count)).subscribe(t=>{i.title=t;});}openSaveComponent(){this.dialog.open(Me,{data:this.person}).afterClosed().pipe(I(1)).subscribe(i=>{i&&(this.person=i);});}};o.ɵfac=function(t){return new(t||o)(a(te),a(S),a(X),a(q));},o.ɵcmp=f({type:o,selectors:[["medisy-peopel-person"]],features:[u([S])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(t,r){t&1&&(m(0,"sz-ui-header-info",0),L(1,"personName"),d(2,"div",1),T(3,ge,1,1,"sz-ui-card",2,z),l()),t&2&&(p("title",$(1,2,r.person))("menu",r.personMenu),F(3,r.items));},dependencies:[M,E,fe],encapsulation:2});let e=o;return e;})();var Ce=[{path:"",component:Ee},{path:"names",loadComponent:()=>import("./chunk-BFKXTIMR.js").then(e=>e.PersonNamesComponent)},{path:"phones",loadComponent:()=>import("./chunk-55DKPBHI.js").then(e=>e.PersonPhonesComponent)},{path:"emails",loadComponent:()=>import("./chunk-4UUEUSLG.js").then(e=>e.PersonEmailsComponent)},{path:"documents",loadComponent:()=>import("./chunk-WMAB47E3.js").then(e=>e.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>import("./chunk-YYRS7NGQ.js").then(e=>e.PersonAddressesComponent)}];var ho=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=O({type:o}),o.ɵinj=y({providers:[_],imports:[x,w.forChild(Ce),H,K,M,C,E,ne,J,c,k,ae]});let e=o;return e;})();export{ho as PersonModule};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/