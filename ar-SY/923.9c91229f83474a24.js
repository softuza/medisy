"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[923],{5923:(Oo,T,a)=>{a.r(T),a.d(T,{LaboratoryModule:()=>_o});var M=a(6814),s=a(6223),D=a(4630),Z=a(9014),A=a(2296),$=a(5195),B=a(5986),y=a(3680),z=a(8034),l=a(7700),P=a(617),U=a(2032),J=a(9038),E=a(7988),L=a(1476),X=a(5940),G=a(8525),F=a(3566),V=a(1545),x=a(5313),Q=a(2596),p=a(8109),H=a(6981),K=a(465),c=a(8652),W=a(4407),j=a(2595),q=a(696),w=a(2169),m=a(5436),k=a(807),oo=a(5041),eo=a(8766),u=a(3572),_=a(2191),g=a(9598),C=a(2119),S=a(8180),o=a(5879),R=a(2406),O=a(4622),f=a(6091);let to=(()=>{class n extends m.Z2{constructor(e,t,i){super(t),this.fb=e,this.dialog=t,this.data=i,this.form=e.group({emailType:[i.emailType]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(s.qu),o.Y36(l.so),o.Y36(l.WI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-emails-filter"]],features:[o._Bn([]),o.qOj],decls:5,vars:3,consts:[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","emailType"],[3,"actions"]],template:function(e,t){1&e&&(o._UZ(0,"sz-ui-dialog-header",0),o.TgZ(1,"mat-dialog-content")(2,"form",1),o._UZ(3,"medisy-form-field-email-type",2),o.qZA()(),o._UZ(4,"sz-ui-dialog-actions",3)),2&e&&(o.Q6J("header",t.header),o.xp6(2),o.Q6J("formGroup",t.form),o.xp6(2),o.Q6J("actions",t.actions))},dependencies:[s._Y,s.JJ,s.JL,s.sg,s.u,l.xY,R.N,O.Y,f.t],encapsulation:2}),n})();var ao=a(3712),v=a(5974),Y=a(8873);let no=(()=>{class n extends m.Ku{constructor(e,t,i,d){super(i),this.laboratoryService=e,this.fb=t,this.dialog=i,this.data=d,this.form=t.group({value:[d.laboratoryEmail?.value,[s.kI.required,s.kI.email]],description:[d.laboratoryEmail?.description,[]],emailType:[d.laboratoryEmail?.emailType??ao.V.Public,[s.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.laboratoryEmail?this.laboratoryService.updateLaboratoryEmail(this.data.laboratoryId,this.data.laboratoryEmail?.id,this.form.value):this.laboratoryService.createLaboratoryEmail(this.data.laboratoryId,this.form.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(c.v),o.Y36(s.qu),o.Y36(l.so),o.Y36(l.WI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-emails-save"]],features:[o._Bn([]),o.qOj],decls:7,vars:3,consts:function(){let r,e;return r="\u0627\u0644\u0648\u0635\u0641",e="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","label",r],["formControlName","value","label",e],["formControlName","emailType"],[3,"actions"]]},template:function(e,t){1&e&&(o._UZ(0,"sz-ui-dialog-header",0),o.TgZ(1,"mat-dialog-content")(2,"form",1),o._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-email-type",4),o.qZA()(),o._UZ(6,"sz-ui-dialog-actions",5)),2&e&&(o.Q6J("header",t.header),o.xp6(2),o.Q6J("formGroup",t.form),o.xp6(4),o.Q6J("actions",t.actions))},dependencies:[s._Y,s.JJ,s.JL,s.sg,s.u,l.xY,v.g,Y.J,R.N,O.Y,f.t],encapsulation:2}),n})();var b=a(9692),N=a(9288),h=a(2516);let ro=(()=>{class n{constructor(e,t,i){this.dialog=e,this.laboratoryService=t,this.route=i,this.dataSource=new u.b2(g.J.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.columns=[u.UC.text("value","\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),_.h.createdAt(),_.h.menu([u.od.edit(d=>{this.openSaveComponent(d)}),u.od.delete(d=>{this.openEmailDeleteComponent(d)})])],this.get()}openSaveComponent(e){this.dialog.open(no,{data:{laboratoryId:this.laboratory.id,laboratoryEmail:e}}).afterClosed().pipe((0,S.q)(1)).subscribe(i=>{this.dataSource.updateOrPushItem(i)})}openFilterComponent(){this.dialog.open(to,{data:this.dataSource.filterModel}).afterClosed().pipe((0,S.q)(1)).subscribe(t=>{this.dataSource.updateFilterModel(t),this.get()})}openEmailDeleteComponent(e){this.dialog.open(m.fN,{data:m.cb.delete(this.laboratoryService.deleteLaboratoryEmail(e.laboratoryId,e.id),e)}).afterClosed().pipe((0,S.q)(1)).subscribe(i=>{this.dataSource.delete(i)})}get(){this.laboratoryService.getLaboratoryEmails(this.laboratory.id,this.dataSource.filterModel).pipe((0,C.sU)(this.dataSource.indicator)).pipe((0,S.q)(1)).subscribe(e=>{this.dataSource.set(e.items,e.count)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(l.uw),o.Y36(c.v),o.Y36(p.gz))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-emails"]],decls:11,vars:5,consts:function(){let r,e;return r="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",e="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],r,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(e,t){1&e&&(o.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),o.SDv(3,2),o.qZA(),o.TgZ(4,"a",3),o._uU(5),o.qZA()()(),o.TgZ(6,"sz-ui-table-filter",4),o.NdJ("search",function(){return t.get()})("filter",function(){return t.openFilterComponent()}),o.TgZ(7,"button",5),o.NdJ("click",function(){return t.openSaveComponent()}),o.TgZ(8,"span"),o.SDv(9,6),o.qZA()()(),o.TgZ(10,"sz-ui-table",7),o.NdJ("update",function(){return t.get()}),o.qZA()),2&e&&(o.xp6(5),o.Oqu(t.laboratory.name),o.xp6(1),o.Q6J("dataSource",t.dataSource),o.xp6(4),o.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[p.rH,A.lW,b.K,N.f,h.z],encapsulation:2}),n})();var io=a(8645),so=a(6385),lo=a(8145),mo=a(2286);function uo(n,r){if(1&n&&(o.TgZ(0,"sz-ui-card",13),o._UZ(1,"sz-ui-counter",14),o.qZA()),2&n){const e=r.$implicit;o.Q6J("card",e),o.xp6(1),o.Q6J("value",null==e?null:e.counter)}}let So=(()=>{class n{constructor(e,t,i){this.dialog=e,this.route=t,this.laboratoryService=i,this.alert$=new io.x,this.items=[],this.laboratory=this.route.snapshot.data.laboratory}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(l.uw),o.Y36(p.gz),o.Y36(c.v))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-laboratory"]],features:[o._Bn([])],decls:29,vars:4,consts:function(){let r,e,t;return r="\u062A\u0639\u062F\u064A\u0644",e="\u0627\u0644\u0647\u0648\u0627\u062A\u0641",t="\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item",""],r,["mat-menu-item","","routerLink","phones"],e,["mat-menu-item","","routerLink","emails"],t,[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],["title","",2,"font-size","24px",3,"value"]]},template:function(e,t){if(1&e&&(o.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),o._uU(3),o.qZA(),o.TgZ(4,"span",2),o._uU(5),o.qZA()(),o.TgZ(6,"button",3)(7,"mat-icon"),o._uU(8,"more_vert"),o.qZA()(),o.TgZ(9,"mat-menu",null,4)(11,"button",5)(12,"mat-icon"),o._uU(13,"edit"),o.qZA(),o.TgZ(14,"span"),o.SDv(15,6),o.qZA()(),o._UZ(16,"mat-divider"),o.TgZ(17,"button",7)(18,"mat-icon"),o._uU(19,"phone"),o.qZA(),o.TgZ(20,"span"),o.SDv(21,8),o.qZA()(),o.TgZ(22,"button",9)(23,"mat-icon"),o._uU(24,"email"),o.qZA(),o.TgZ(25,"span"),o.SDv(26,10),o.qZA()()()(),o.TgZ(27,"div",11),o.YNc(28,uo,2,2,"sz-ui-card",12),o.qZA()),2&e){const i=o.MAs(10);o.xp6(3),o.Oqu(t.laboratory.name),o.xp6(2),o.Oqu(t.laboratory.description),o.xp6(1),o.Q6J("matMenuTriggerFor",i),o.xp6(22),o.Q6J("ngForOf",t.items)}},dependencies:[M.sg,p.rH,E.VK,E.OP,E.p6,P.Hw,A.RK,so.d,lo.R,mo.A,h.z],encapsulation:2}),n})();var I=a(408);let po=(()=>{class n extends m.Z2{constructor(e,t,i){super(t),this.fb=e,this.dialog=t,this.data=i,this.form=e.group({phoneType:[i.phoneType]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(s.qu),o.Y36(l.so),o.Y36(l.WI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-phones-filter"]],features:[o._Bn([]),o.qOj],decls:5,vars:4,consts:[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","phoneType",3,"emptyOption"],[3,"actions"]],template:function(e,t){1&e&&(o._UZ(0,"sz-ui-dialog-header",0),o.TgZ(1,"mat-dialog-content")(2,"form",1),o._UZ(3,"medisy-form-field-phone-type",2),o.qZA()(),o._UZ(4,"sz-ui-dialog-actions",3)),2&e&&(o.Q6J("header",t.header),o.xp6(2),o.Q6J("formGroup",t.form),o.xp6(1),o.Q6J("emptyOption",!0),o.xp6(1),o.Q6J("actions",t.actions))},dependencies:[s._Y,s.JJ,s.JL,s.sg,s.u,l.xY,I.I,O.Y,f.t],encapsulation:2}),n})();var co=a(1101);let Ao=(()=>{class n extends m.Ku{constructor(e,t,i,d){super(i),this.laboratoryService=e,this.fb=t,this.dialog=i,this.data=d,this.form=t.group({value:[d.laboratoryPhone?.value,[s.kI.required]],description:[d.laboratoryPhone?.description,[]],phoneType:[d.laboratoryPhone?.phoneType??co.z.Home,[s.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.laboratoryPhone?this.laboratoryService.updateLaboratoryPhone(this.data.laboratoryId,this.data.laboratoryPhone?.id,this.form.value):this.laboratoryService.createLaboratoryPhone(this.data.laboratoryId,this.form.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(c.v),o.Y36(s.qu),o.Y36(l.so),o.Y36(l.WI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-phones-save"]],features:[o._Bn([]),o.qOj],decls:7,vars:3,consts:function(){let r,e;return r="\u0627\u0644\u0648\u0635\u0641",e="\u0627\u0644\u0631\u0642\u0645",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","label",r],["formControlName","value","label",e],["formControlName","phoneType"],[3,"actions"]]},template:function(e,t){1&e&&(o._UZ(0,"sz-ui-dialog-header",0),o.TgZ(1,"mat-dialog-content")(2,"form",1),o._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-phone-type",4),o.qZA()(),o._UZ(6,"sz-ui-dialog-actions",5)),2&e&&(o.Q6J("header",t.header),o.xp6(2),o.Q6J("formGroup",t.form),o.xp6(4),o.Q6J("actions",t.actions))},dependencies:[s._Y,s.JJ,s.JL,s.sg,s.u,l.xY,v.g,Y.J,I.I,O.Y,f.t],encapsulation:2}),n})();const Eo=[{path:"",component:So},{path:"phones",component:(()=>{class n{constructor(e,t,i){this.dialog=e,this.laboratoryService=t,this.route=i,this.dataSource=new u.b2(g.J.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.columns=[u.UC.text("value","\u0627\u0644\u0647\u0627\u062A\u0641"),_.h.createdAt(),_.h.menu([u.od.edit(d=>this.openSaveComponent(d)),u.od.delete(d=>this.openPhoneDeleteComponent(d))])],this.get()}openSaveComponent(e){this.dialog.open(Ao,{data:{laboratoryId:this.laboratory.id,laboratoryPhone:e}}).afterClosed().pipe((0,S.q)(1)).subscribe(i=>{this.dataSource.updateOrPushItem(i)})}openFilterComponent(){this.dialog.open(po,{data:this.dataSource.filterModel}).afterClosed().pipe((0,S.q)(1)).subscribe(t=>{this.dataSource.updateFilterModel(t),this.get()})}openPhoneDeleteComponent(e){this.dialog.open(m.fN,{data:m.cb.delete(this.laboratoryService.deleteLaboratoryPhone(e.laboratoryId,e.id),e)}).afterClosed().pipe((0,S.q)(1)).subscribe(i=>{this.dataSource.delete(i)})}get(){this.laboratoryService.getLaboratoryPhones(this.laboratory.id,this.dataSource.filterModel).pipe((0,C.sU)(this.dataSource.indicator),(0,S.q)(1)).subscribe(e=>{this.dataSource.set(e.items,e.count)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(l.uw),o.Y36(c.v),o.Y36(p.gz))},n.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-laboratory-phones"]],decls:11,vars:5,consts:function(){let r,e;return r="\u0627\u0644\u0647\u0648\u0627\u062A\u0641",e="\u0625\u0636\u0627\u0641\u0629",[["start",""],[1,"sz-h5"],r,["routerLink","../",1,"tw-underline"],[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(e,t){1&e&&(o.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),o.SDv(3,2),o.qZA(),o.TgZ(4,"a",3),o._uU(5),o.qZA()()(),o.TgZ(6,"sz-ui-table-filter",4),o.NdJ("search",function(){return t.get()})("filter",function(){return t.openFilterComponent()}),o.TgZ(7,"button",5),o.NdJ("click",function(){return t.openSaveComponent()}),o.TgZ(8,"span"),o.SDv(9,6),o.qZA()()(),o.TgZ(10,"sz-ui-table",7),o.NdJ("update",function(){return t.get()}),o.qZA()),2&e&&(o.xp6(5),o.Oqu(t.laboratory.name),o.xp6(1),o.Q6J("dataSource",t.dataSource),o.xp6(4),o.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[p.rH,A.lW,b.K,N.f,h.z],encapsulation:2}),n})()},{path:"emails",component:ro}];let _o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[c.v],imports:[M.ez,s.u5,s.UX,p.Bz.forChild(Eo),l.Is,D.Bb,U.c,q.S,B.p9,E.Tx,P.Ps,A.ot,G.LD,V.T5,Q.AV,J.ie,$.QW,X.Cq,y.XK,z.FA,x.p0,L.TU,F.JX,W.E,u.Vn,w.c,j.V,eo.h,k.g,H.F,m.su,oo.n,K.L,L.TU,l.Is,y.Ng,Z.g]}),n})()}}]);