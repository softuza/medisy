import{a as w,b as U,c as X}from"./chunk-6SVCME4N.js";import{a as S,b as u}from"./chunk-B6YRJ72V.js";import"./chunk-ZC5VE3PD.js";import{a as y}from"./chunk-53VWZ5ER.js";import{a as d}from"./chunk-PCAOWVUV.js";import{d as F,g as x}from"./chunk-U5WHS54P.js";import"./chunk-USWRGYS2.js";import{a as M}from"./chunk-TLBQYYSH.js";import{a as h}from"./chunk-GK34M67F.js";import"./chunk-A4RP7L5Q.js";import"./chunk-SIM3MWAY.js";import"./chunk-SYJ5COXL.js";import{b as k}from"./chunk-X7AK5RKT.js";import{a as _,b as T,c as G}from"./chunk-V4HCCL3Z.js";import"./chunk-A4OPY5TW.js";import"./chunk-37GZDSHT.js";import"./chunk-FJNI2GB6.js";import{v as B}from"./chunk-FEFUQJM2.js";import{a as m}from"./chunk-ESAZXDOZ.js";import"./chunk-UPQBKJGY.js";import{a as c}from"./chunk-NW5OYJVI.js";import{a as f}from"./chunk-CVLFG5YI.js";import{D as Y,F as D,H as $,Ta as j,l as O}from"./chunk-RQMADBIK.js";import{Ab as p,L as v,Tb as C,Ub as I,Wb as R,_a as g,cb as l,da as E,db as r,la as b,ma as P,nb as A,vb as N,wb as L,xb as z,yb as a,zb as n}from"./chunk-3PI2VV3G.js";function Z(t,e){if(t&1&&p(0,"sz-ui-card",8),t&2){let J=e.$implicit;A("card",J);}}var H=(()=>{let e=class e{constructor(o,i,s,K,Q,V){this.dialog=o,this.route=i,this.router=s,this.mlabService=K,this.mpplService=Q,this.personNamePipe=V,this.alert$=g(void 0),this.testsDataSource=new k(c.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=G.more([T.edit(()=>this.openEditComponent),T.print(()=>this.openEditComponent)]),this.analysis=this.route.snapshot.data.analysis,this.getPerson(),this.buildTiles();}buildTiles(){let o={icon:"science",subtitle:"\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A",type:S.Counter,clickFn:()=>this.router.navigate(["tests"],{relativeTo:this.route})},i={icon:"label",subtitle:"\u0627\u0644\u0639\u064A\u0646\u0627\u062A",type:S.Counter,clickFn:()=>this.router.navigate(["specimens"],{relativeTo:this.route})};this.mlabService.analyses.tests.count(this.analysis.id,c.count()).subscribe(s=>{o.title=s;}),this.mlabService.analyses.specimens.count(this.analysis.id,c.count()).subscribe(s=>{i.title=s;}),this.tiles.push(o),this.tiles.push(i);}getPerson(){this.analysis.personId&&this.mpplService.persons.getById(this.analysis.personId).pipe(v(1)).subscribe(o=>{this.tiles.splice(0,0,{icon:"person",type:S.Text,subtitle:"\u0627\u0644\u0645\u0631\u064A\u0636",title:this.personNamePipe.transform(o),clickFn:()=>this.router.navigate([`mppl/persons/${o.id}`])});});}openEditComponent(){}};e.ɵfac=function(i){return new(i||e)(r(F),r(Y),r(D),r(m),r(d),r(y));},e.ɵcmp=b({type:e,selectors:[["medisy-laboratory-analysis"]],features:[R([m,d,y])],decls:15,vars:3,consts:()=>{let o;o="\u0627\u0644\u0627\u062E\u062A\u0628\u0627\u0631\u0627\u062A";let i;return i="\u0627\u0644\u0639\u064A\u0646\u0627\u062A",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card"],["mat-stretch-tabs","false"],["label",o],["label",i],[3,"card"]];},template:function(i,s){i&1&&(a(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),C(3),n(),a(4,"span",2),C(5),n()(),p(6,"sz-ui-menu",3),n(),a(7,"div",4),L(8,Z,1,1,"sz-ui-card",8,N),n(),a(10,"mat-tab-group",5)(11,"mat-tab",6),p(12,"medisy-laboratory-analysis-tests"),n(),a(13,"mat-tab",7),p(14,"medisy-laboratory-analysis-specimens"),n()()),i&2&&(l(3),I(s.analysis.code),l(2),I(s.analysis.note),l(1),A("menu",s.analysisMenu),z(8,s.tiles));},dependencies:[w,U,f,u,_,M,h],encapsulation:2});let t=e;return t;})();var q=[{path:"",component:H},{path:"tests",loadComponent:()=>import("./chunk-5SVNOTWD.js").then(t=>t.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-C2YCMMUX.js").then(t=>t.AnalysisSpecimensComponent)}];var Fe=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵmod=P({type:e}),e.ɵinj=E({providers:[m],imports:[O,$.forChild(q),x,j,B,X,f,u,_,M,h]});let t=e;return t;})();export{Fe as AnalysisModule};/**i18n:c47ea6c8e33fa0c222c20e616e96e45afbcc3267e1e4f83fbed9283c01f003ba*/