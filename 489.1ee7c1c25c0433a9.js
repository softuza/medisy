"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[489],{1489:(St,S,l)=>{l.r(S),l.d(S,{SamplesModule:()=>gt});var r=l(9808),b=l(9764),F=l(7531),C=l(5245),u=l(7423),U=l(6114),p=l(2349),D=l(1079),c=l(6346),x=l(6087),Q=l(1575),T=l(7446),v=l(4107),i=l(3075),Y=l(2081),d=l(2181),B=l(7238),I=l(4623),g=l(4847),Z=l(508),M=l(773),$=l(9224),y=l(5467),z=l(5701),_=l(2986),O=l(675),H=l(3869),L=l(4850),A=l(7963),t=l(5e3),f=l(7093),E=l(7322),R=l(5006);function j(e,o){1&e&&t._UZ(0,"app-alert",10),2&e&&t.Q6J("alert",o.ngIf)}function G(e,o){if(1&e&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}let w=(()=>{class e extends H.a{constructor(a,n,m,s){super(n,a.group({sampleTypeId:[s.sampleTypeId]})),this.fb=a,this.dialog=n,this.sampleTypeService=m,this.data=s,this.sampleTypes$=null,this.getSampleTypes()}getSampleTypes(){this.sampleTypes$=this.sampleTypeService.getSampleTypes({pageIndex:1,pageSize:50,sortBy:"Name",sortDescending:!1}).pipe((0,L.U)(a=>a.items))}handleSubmit(){this.close(this.form.value)}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(i.qu),t.Y36(p.so),t.Y36(A.B),t.Y36(p.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-laboratory-management-samples-filter"]],features:[t._Bn([A.B]),t.qOj],decls:19,vars:10,consts:[["mat-dialog-title",""],[3,"alert",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayout.lt-md","column wrap","fxLayoutGap","8px"],["fxFlex","1 1 100%"],["formControlName","sampleTypeId","placeholder","\u0646\u0648\u0639 \u0627\u0644\u0639\u064a\u0646\u0629"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"alert"],[3,"value"]],template:function(a,n){1&a&&(t.TgZ(0,"h2",0),t._uU(1,"\u062a\u0635\u0641\u064a\u0629 \u0627\u0644\u0646\u062a\u0627\u0626\u062c"),t.qZA(),t.YNc(2,j,1,1,"app-alert",1),t.ALo(3,"async"),t.TgZ(4,"mat-dialog-content")(5,"form",2)(6,"div",3)(7,"mat-form-field",4)(8,"mat-select",5)(9,"mat-option"),t._uU(10,"-"),t.qZA(),t.YNc(11,G,2,2,"mat-option",6),t.ALo(12,"async"),t.qZA()()()()(),t.TgZ(13,"mat-dialog-actions",7)(14,"button",8),t.NdJ("click",function(){return n.close()}),t._uU(15,"\u0625\u063a\u0644\u0627\u0642"),t.qZA(),t.TgZ(16,"button",9),t.NdJ("click",function(){return n.submit()}),t.ALo(17,"async"),t._uU(18," \u062d\u0641\u0638 "),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,n.alert$)),t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(6),t.Q6J("ngForOf",t.lcZ(12,6,n.sampleTypes$)),t.xp6(5),t.Q6J("disabled",t.lcZ(17,8,n.indicator$)))},dependencies:[r.sg,r.O5,i._Y,i.JJ,i.JL,i.sg,i.u,p.uh,p.xY,p.H8,Z.ey,f.xw,f.SQ,f.yH,E.KE,R.w,u.lW,v.gD,r.Ov],encapsulation:2}),e})();var h=l(520);let J=(()=>{class e{constructor(a){this.http=a,this.path="v1/sample-management/samples"}getSamples(a){return this.http.get(`${this.path}`,{params:new h.LE({fromObject:a})})}getSamplesCount(a){return this.http.get(`${this.path}/count`,{params:new h.LE({fromObject:a})})}getSample(a){return this.http.get(`${this.path}/${a}`)}createSample(a){return this.http.post(`${this.path}`,a)}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var K=l(9779),X=l(9293),k=l(3998),N=l(7544);function V(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-header-cell",22)(1,"mat-checkbox",23),t.NdJ("change",function(m){t.CHM(a);const s=t.oxw();return t.KtG(m?s.masterToggle():null)}),t.qZA()()}if(2&e){const a=t.oxw();t.xp6(1),t.Q6J("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())}}function W(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-cell",22)(1,"mat-checkbox",24),t.NdJ("click",function(m){return m.stopPropagation()})("change",function(m){const ft=t.CHM(a).$implicit,ht=t.oxw();return t.KtG(m?ht.selection.toggle(ft):null)}),t.qZA()()}if(2&e){const a=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(a))}}function P(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div")(2,"div"),t._uU(3),t.qZA()()()),2&e){const a=o.$implicit,n=t.oxw();t.uIk("colspan",n.displayedColumns.length),t.xp6(1),t.Q6J("@detailExpand",a===n.expandedElement?"expanded":"collapsed"),t.xp6(2),t.hij(" ",a.description," ")}}function q(e,o){1&e&&(t.TgZ(0,"mat-header-cell",25),t._uU(1," #"),t.qZA())}function tt(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.id," ")}}function et(e,o){1&e&&(t.TgZ(0,"mat-header-cell",25),t._uU(1," \u0627\u0644\u0627\u0633\u0645"),t.qZA())}function at(e,o){if(1&e&&(t.TgZ(0,"mat-cell")(1,"div",26)(2,"div")(3,"strong"),t._uU(4),t.qZA()()()()),2&e){const a=o.$implicit;t.xp6(4),t.hij(" ",a.name," ")}}function nt(e,o){1&e&&t._UZ(0,"mat-header-cell",22)}function lt(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(a);const m=t.oxw().$implicit,s=t.oxw();return t.KtG(s.expandedElement=s.expandedElement===m?null:m)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&e){const a=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.Oqu(n.expandedElement===a?"expand_less":"expand_more")}}function ot(e,o){if(1&e&&(t.TgZ(0,"mat-cell",27),t.YNc(1,lt,3,1,"button",28),t.TgZ(2,"button",29)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t._UZ(5,"mat-menu",null,30),t.qZA()),2&e){const a=t.MAs(6);t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("matMenuTriggerFor",a)}}function mt(e,o){1&e&&t._UZ(0,"mat-header-row")}function st(e,o){1&e&&t._UZ(0,"mat-row")}function ct(e,o){if(1&e&&(t._UZ(0,"app-table-state",31),t.ALo(1,"async")),2&e){const a=t.oxw();t.Q6J("loading",t.lcZ(1,1,a.indicator$))}}const it=function(){return[10,25,50,100]};function pt(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-paginator",32),t.NdJ("page",function(m){t.CHM(a);const s=t.oxw();return t.KtG(s.onPageChange(m.pageIndex,m.pageSize))}),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("length",a.count)("pageSize",a.pageSize)("pageSizeOptions",t.DdM(3,it))}}const rt=[{path:"",component:(()=>{class e extends O.a{constructor(a,n){super(),this.dialog=a,this.sampleService=n,this.displayedColumns=["menu"],this.filter={},this.get()}openFilterComponent(){this.dialog.open(w,{autoFocus:!0,width:"480px",data:this.filter}).afterClosed().pipe((0,_.q)(1)).subscribe(n=>{n&&(this.filter=n,this.get())})}get(){const a={pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending};this.filter.sampleTypeId&&(a.sampleTypeId=this.filter.sampleTypeId),this.sampleService.getSamples(a).pipe((0,z.sU)(this.indicator$)).pipe((0,_.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(p.uw),t.Y36(J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sample-management-samples"]],features:[t.qOj],decls:35,vars:11,consts:[[1,"header-basic"],[1,"title"],[1,"spacer"],["mat-icon-button","",3,"click"],["mat-icon-button","","matBadgeSize","small",3,"matBadge","click"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],[1,"table-cell-stacked"],[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]],template:function(a,n){1&a&&(t.TgZ(0,"div")(1,"div",0)(2,"span",1),t._uU(3,"\u0627\u0644\u0639\u064a\u0646\u0627\u062a"),t.qZA(),t._UZ(4,"span",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return n.search=!0}),t.TgZ(6,"mat-icon"),t._uU(7,"search"),t.qZA()(),t.TgZ(8,"button",4),t.NdJ("click",function(){return n.openFilterComponent()}),t.TgZ(9,"mat-icon"),t._uU(10,"filter_list"),t.qZA()(),t.TgZ(11,"app-search-bar",5),t.NdJ("changed",function(s){return n.onSearch(s)})("closed",function(){return n.onSearchClose()}),t.qZA()(),t.TgZ(12,"app-table-selection",6)(13,"span"),t._uU(14),t.qZA(),t._UZ(15,"span",2),t.qZA(),t.TgZ(16,"mat-table",7),t.NdJ("matSortChange",function(s){return n.onSort(s.active,s.direction)}),t.ynx(17,8),t.YNc(18,V,2,2,"mat-header-cell",9),t.YNc(19,W,2,1,"mat-cell",10),t.BQk(),t.ynx(20,11),t.YNc(21,P,4,3,"mat-cell",12),t.BQk(),t.ynx(22,13),t.YNc(23,q,2,0,"mat-header-cell",14),t.YNc(24,tt,2,1,"mat-cell",12),t.BQk(),t.ynx(25,15),t.YNc(26,et,2,0,"mat-header-cell",14),t.YNc(27,at,5,1,"mat-cell",12),t.BQk(),t.ynx(28,16),t.YNc(29,nt,1,0,"mat-header-cell",9),t.YNc(30,ot,7,2,"mat-cell",17),t.BQk(),t.YNc(31,mt,1,0,"mat-header-row",18),t.YNc(32,st,1,0,"mat-row",19),t.qZA(),t.YNc(33,ct,2,3,"app-table-state",20),t.YNc(34,pt,1,4,"mat-paginator",21),t.qZA()),2&a&&(t.xp6(8),t.s9C("matBadge",n.getFilterCount()),t.xp6(3),t.Q6J("visible",n.search),t.xp6(1),t.Q6J("visible",n.selection.hasValue()),t.xp6(2),t.hij("",n.selection.selected.length," selected"),t.xp6(2),t.s9C("matSortActive",n.sortBy),t.Q6J("dataSource",n.dataSource),t.xp6(15),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===n.count),t.xp6(1),t.Q6J("ngIf",n.count>0))},dependencies:[r.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,x.NW,K.R,X.H,k.N,T.oG,d.VK,d.p6,C.Hw,u.lW,g.YE,g.nU,N.k,r.Ov],styles:[".test[_ngcontent-%COMP%]{width:400px}"]}),e})()}];let ut=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[y.Bz.forChild(rt),y.Bz]}),e})();var dt=l(7775);let gt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[J],imports:[r.ez,i.u5,i.UX,ut,p.Is,D.Bb,b.o9,c.p0,x.TU,F.c,Q.U,dt.B,U.n,T.p9,d.Tx,C.Ps,u.ot,v.LD,Y.T5,B.AV,I.ie,g.JX,Z.XK,$.QW,N.g,M.Cq]}),e})()}}]);