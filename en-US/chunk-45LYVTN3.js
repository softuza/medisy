import{a as ye}from"./chunk-D7LELF3Q.js";import{b as Pe}from"./chunk-63VTERTH.js";import{a as Fe,c as ve,g as Re,i as Ie,s as De,t as be,u as _}from"./chunk-NX3LT2RV.js";import{a as v}from"./chunk-ETF3CVHJ.js";import{a as p}from"./chunk-QQWVDBYJ.js";import{c as I,h as Oe,i as he,j as Ne,l as Te,m as D,n as Ae}from"./chunk-YIR7S7Z5.js";import"./chunk-E3FW4FG3.js";import{b as R}from"./chunk-G5ATBGNR.js";import{h as z}from"./chunk-DS5TYFF5.js";import{a as Me,b as Ee,d as Ce,e as ge,g as F}from"./chunk-P4QIA4WM.js";import{A as fe,a as oe,b as re,g as ne,h as ae,o as pe,v as _e,w as ce,x as ue,z as Se}from"./chunk-22KPLFGU.js";import{L as W,N as Z,Q as me,R as se,d as L,e as X,f as P,g as H,k,l as w,m as q,p as J,q as K,s as Q,t as C,xa as de}from"./chunk-BWNHVGBM.js";import"./chunk-IWM4AFTB.js";import{Ea as te,Ga as ie,Ja as le,ya as ee}from"./chunk-I73ZQFGG.js";import{Bb as G,Cb as B,Db as j,Eb as l,Fb as m,Gb as c,M as S,Qb as M,Sb as E,Ub as b,a as $,b as V,dc as N,ea as Y,ec as y,fb as a,gb as s,gc as T,jc as A,na as f,nb as h,oa as x,qb as g,ub as d,zb as u}from"./chunk-KN4PZLRS.js";function Ge(r,e){if(r&1&&(l(0,"mat-label"),N(1),m()),r&2){let O=b();a(),y(O.label);}}function Be(r,e){r&1&&(l(0,"mat-option"),N(1,"-"),m());}function je(r,e){if(r&1&&(l(0,"mat-option",4),N(1),m()),r&2){let O=e.$implicit,t=b();d("value",t.getOptionValue(O)),a(),y(t.getOptionContent(O));}}function Xe(r,e){r&1&&(l(0,"mat-error"),M(1,5),m());}function He(r,e){r&1&&(l(0,"mat-error"),M(1,6),m());}function ke(r,e){r&1&&(l(0,"mat-error"),M(1,7),m());}function we(r,e){r&1&&c(0,"mat-progress-bar",3);}var ze=(()=>{let e=class e extends pe{constructor(t,i){super(t),this.ngControl=t,this.mlabService=i,this.label=v.unit;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.units.get(V($({},de.unpaged()),{orderBy:"name"})).pipe(S(1),I(this.indicator)).subscribe(t=>{this.options.push(...t.items),this.totalPages=t.totalPages;});}};e.ɵfac=function(i){return new(i||e)(s(X,10),s(p));},e.ɵcmp=f({type:e,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[T([p]),h,A],decls:11,vars:10,consts:()=>{let t;t="This field is required";let i;i="This field does not the minimum length";let o;return o="This field exceeds the maximum length",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],t,i,o];},template:function(i,o){i&1&&(l(0,"div",0)(1,"mat-form-field",1),g(2,Ge,2,1,"mat-label"),l(3,"mat-select",2),E("szScrolled",function(){return o.scroll();}),g(4,Be,2,0,"mat-option"),B(5,je,2,2,"mat-option",4,G),m(),g(7,Xe,2,0,"mat-error")(8,He,2,0,"mat-error")(9,ke,2,0,"mat-error"),m(),g(10,we,1,0,"mat-progress-bar",3),m()),i&2&&(a(2),u(2,o.label?2:-1),a(),d("formControl",o.control)("multiple",o.multiple)("placeholder",o.placeholder)("szScrollIgnored",o.indicator()),a(),u(4,o.emptyOption?4:-1),a(),j(o.options),a(2),u(7,o.control.hasError("required")?7:-1),a(),u(8,o.control.hasError("min")?8:-1),a(),u(9,o.control.hasError("max")?9:-1),a(),u(10,o.indicator()?10:-1));},dependencies:[C,P,w,ue,ne,oe,re,ce,ee,se,me,Pe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let r=e;return r;})();var Ue=(()=>{let e=class e extends Oe{constructor(t,i,o,n){super(o),this.mlabService=t,this.fb=i,this.dialog=o,this.data=n,this.form=i.group({description:[n?.description,[L.maxLength(4096)]],testClassId:[n?.testClassId,[L.required]],unitId:[n?.unitId,[]],multiplier:[n?.multiplier,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceValues.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceValues.create(this.form.value)));}};e.ɵfac=function(i){return new(i||e)(s(p),s(K),s(Me),s(Ee));},e.ɵcmp=f({type:e,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[T([]),h,A],decls:8,vars:3,consts:()=>{let t;t="Multiplier";let i;return i="Description",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId"],["formControlName","unitId"],["formControlName","multiplier","label",t],["formControlName","description","label",i],[3,"actions"]];},template:function(i,o){i&1&&(c(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),c(3,"medisy-form-field-test-class",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-textarea",5),m()(),c(7,"sz-ui-dialog-actions",6)),i&2&&(d("header",o.header),a(2),d("formGroup",o.form),a(5),d("actions",o.actions));},dependencies:[C,k,P,H,q,J,F,ge,ae,Ie,D,he,Ne,fe,_e,Se,ze,ye],encapsulation:2});let r=e;return r;})();var $e=(()=>{let e=class e{constructor(t,i,o){this.dialog=t,this.mlabService=i,this.router=o,this.title=v.referenceValues,this.dataSource=new ve(),this.dataSource.fields.push(_.uuid("id"),_.uuid("testClassId"),_.uuid("unitId"),_.hyperlink("testClass.name",n=>this.router.navigate([`/mlab/reference-values/${n.id}`])),_.stringFormated("unit",n=>n.multiplier?`10^${n.multiplier.toExponential(0).split("e").map(Ye=>Number(Ye))[1]}/${n.unit?.abbreviation}`:n.unit?.abbreviation),_.number("multiplier"),_.string("description"),_.date("createdAt",!1),_.date("updatedAt",!1),Fe.menu([z.edit(n=>this.openSaveComponent(n)),z.delete(n=>this.openReferenceValueDeleteComponent(n))])),this.get();}openSaveComponent(t){this.dialog.open(Ue,{data:t}).afterClosed().pipe(S(1)).subscribe(i=>{this.dataSource.addOrUpdateItem(i);});}openReferenceValueDeleteComponent(t){this.dialog.open(Te,{data:Ae.delete(this.mlabService.referenceValues.delete(t.id),t)}).afterClosed().pipe(S(1)).subscribe(i=>{this.dataSource.delete(i);});}get(){this.mlabService.referenceValues.get(this.dataSource.buildRequest()).pipe(I(this.dataSource.indicator),S(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};e.ɵfac=function(i){return new(i||e)(s(Ce),s(p),s(W));},e.ɵcmp=f({type:e,selectors:[["medisy-laboratory-reference-values"]],decls:6,vars:4,consts:()=>{let t;return t="Add",[[3,"title"],[3,"dataSource","changed"],["mat-flat-button","","color","primary","start","",3,"click"],t,[3,"stateEnabled","dataSource","update"]];},template:function(i,o){i&1&&(c(0,"sz-ui-header-info",0),l(1,"sz-ui-table-search-filter",1),E("changed",function(){return o.get();}),l(2,"button",2),E("click",function(){return o.openSaveComponent();}),l(3,"span"),M(4,3),m()()(),l(5,"sz-ui-table",4),E("update",function(){return o.get();}),m()),i&2&&(d("title",o.title),a(),d("dataSource",o.dataSource),a(4),d("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[te,R,De,Re],encapsulation:2});let r=e;return r;})();var Ve=[{path:"",component:$e}];var li=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵmod=x({type:e}),e.ɵinj=Y({providers:[p],imports:[Q,C,Z.forChild(Ve),F,le,ie,R,be,D]});let r=e;return r;})();export{li as ReferenceValuesModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/