import{a as J}from"./chunk-KTVRGAGG.js";import{a,d as ie,e as re,f as ne,i as ae,j as se}from"./chunk-3EMTAC5X.js";import"./chunk-X6VBMNJ2.js";import"./chunk-5C5WSMNK.js";import{a as m}from"./chunk-IUJYLG7X.js";import"./chunk-LRDLJVBZ.js";import{b as Z,f as x,g as ee,h as te,j as oe,k as O}from"./chunk-CA22MQET.js";import{a as W}from"./chunk-DPXACLS5.js";import{j as l,k as K}from"./chunk-PFHXPQGV.js";import{a as U,b as F,d as Y,e as X,g as T}from"./chunk-5PZUP35D.js";import{c as k,r as q,s as H,t as Q}from"./chunk-2W3NGOE3.js";import"./chunk-UEB44RWK.js";import"./chunk-SESM2AVP.js";import"./chunk-FP5MMWA5.js";import"./chunk-IDXAQSNX.js";import"./chunk-BNO7PVLL.js";import{d as g,f as D,g as I,l as v,n as z,q as y,r as P,u as B}from"./chunk-DVVRYZHF.js";import{Y as w}from"./chunk-UYLGN5KQ.js";import{c as G,e as V}from"./chunk-66ZH2AKO.js";import"./chunk-M2MCGKGK.js";import{ia as $,la as j}from"./chunk-U3QD6NNV.js";import"./chunk-EKJLBWRM.js";import{Kb as d,Lb as u,Mb as E,Xb as C,bb as S,cb as p,ea as R,ja as c,na as f,nc as M,oa as h,oc as L,qb as b,zb as s}from"./chunk-WVA7UUYP.js";import"./chunk-QRHOBZKE.js";var me=(()=>{let e=class e extends x{constructor(o,t,i,r){super(i),this.mlabService=o,this.fb=t,this.dialog=i,this.data=r,this.disciplines=this.mlabService.disciplines.getAll({orderBy:["nameEn"]}),this.form=t.group({name:[r?.name,[g.required,g.minLength(1)]],abbreviation:[r?.abbreviation,[]],description:[r?.description,[]],purpose:[r?.purpose,[]],disciplineId:[r?.disciplineId,[]],reportName:[r?.reportName,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.testGroups.create(this.form.value)));}};e.ɵfac=function(t){return new(t||e)(p(m),p(P),p(U),p(F));},e.ɵcmp=f({type:e,selectors:[["sz-medisy-laboratory-test-groups-save"]],standalone:!0,features:[M([]),b,L],decls:10,vars:6,consts:()=>{let o;o="Name";let t;t="Abbreviation";let i;i="Name in Report";let r;r="Description";let N;N="Purpose";let A;return A="Discipline",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","abbreviation","label",t],["formControlName","reportName","label",i],["formControlName","description","label",r],["formControlName","purpose","label",N],["formControlName","disciplineId","label",A,3,"source"],[3,"actions"]];},template:function(t,i){t&1&&(E(0,"sz-ui-dialog-header",0),d(1,"mat-dialog-content")(2,"form",1),E(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-textarea",5)(7,"sz-ui-form-field-textarea",6)(8,"sz-ui-form-field-select",7),u()(),E(9,"sz-ui-dialog-actions",8)),t&2&&(s("title",i.title)("subtitle",i.subtitle)("alert",i.alert()),S(2),s("formGroup",i.form),S(6),s("source",i.disciplines),S(),s("actions",i.actions));},dependencies:[B,v,D,I,z,y,T,X,O,ee,te,Q,k,H,q],encapsulation:2});let n=e;return n;})();var Se=(()=>{let e=class e{constructor(){this.mlabService=c(m),this.router=c(G),this.dialog=c(Y),this.dataSource=new ie(),this.appBarConfig={title:w.test_groups,menu:K.default().setItems([l.add(this.openSaveComponent.bind(this)),l.menu([l.search()])])},this.dataSource.columnDefs.push(a.uuid("id"),a.hyperlink("name").setClickFn(o=>this.router.navigate([J.TestGroups,o.id])).setStacked(a.string("discipline.name").setValueClassFontSmall()),a.string("code").setStyleSmall(),a.string("abbreviation").setStyleSmall(),a.date("createdAt").setVisible(!1),a.date("updatedAt").setVisible(!1),a.menu([l.edit(this.openSaveComponent.bind(this)),l.divider(),l.delete(this.openTestTypeDeleteComponent.bind(this))])),this.get();}openSaveComponent(o){this.dialog.open(me,{data:o}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestTypeDeleteComponent(o){this.dialog.open(oe,{data:Z.delete(this.mlabService.testTypes.delete(o.id),o)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.testGroups.get(this.dataSource.getQuery()).pipe(re(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};e.ɵfac=function(t){return new(t||e)();},e.ɵcmp=f({type:e,selectors:[["sz-medisy-laboratory-test-groups"]],features:[M([m])],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(t,i){t&1&&(d(0,"sz-ui-table-bar",0),C("changed",function(){return i.get();}),u(),d(1,"sz-ui-table",1),C("update",function(){return i.get();}),u()),t&2&&(s("config",i.appBarConfig)("dataSource",i.dataSource),S(),s("dataSource",i.dataSource));},dependencies:[ae,ne],encapsulation:2});let n=e;return n;})();var et=(()=>{let e=class e{};e.ɵfac=function(t){return new(t||e)();},e.ɵmod=h({type:e}),e.ɵinj=R({providers:[m],imports:[V.forChild([{path:"",component:Se}]),T,$,j,se,O,W]});let n=e;return n;})();export{et as TestGroupsModule};/**i18n:c9e15842f10b1052d55bdcedea67c6fd1ddab180b3eed8257f2e03ab0ad2f031*/