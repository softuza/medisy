import{a as Ue}from"./chunk-UUOR2NAI.js";import"./chunk-JUQBM7KQ.js";import{a as Pe,b as Oe,c as Re}from"./chunk-YBGEX7AS.js";import{b as R}from"./chunk-XZNQVZLE.js";import{g as G}from"./chunk-GELUY2RF.js";import"./chunk-PPO5LMMV.js";import{h as u}from"./chunk-AGQB7JF4.js";import{h as ie}from"./chunk-JI5I5E7Z.js";import{a as N,b as Ee,c as ve,e as Te,q as De,r as Ae}from"./chunk-2DIHYESB.js";import{c as Se,h as _e,i as Me,j as ge,l as Ce,m as b,n as he}from"./chunk-JUKWJGHA.js";import{a as me,b as pe,d as A,e as ue,g as P}from"./chunk-LR6DSKQQ.js";import{A as ae,B as se,a as re,h as ne}from"./chunk-CJ3L35E7.js";import{d as x,g as H,h as V,l as q,n as J,o as K,p as Q,s as W}from"./chunk-FZFNR6NR.js";import{a as fe}from"./chunk-N2L2KSIE.js";import{b as U}from"./chunk-KYTDMX2G.js";import{a as v,c as ee,e as T}from"./chunk-4G55JY3H.js";import{d as de,f as le,i as O,j as ce}from"./chunk-5QJH45WQ.js";import"./chunk-AWHXYS7Y.js";import"./chunk-EBVBFE7W.js";import{Ka as te,Pa as oe,Ra as D}from"./chunk-W55BWEJG.js";import{Ab as X,Bb as a,Cb as m,Db as d,L as p,Nb as C,Pb as I,Wb as Y,Xb as Z,Zb as h,ac as E,cb as c,da as F,db as s,ja as S,kb as L,la as l,ma as $,nb as n,tb as j,vb as k,wb as B,xb as M,yb as g,zb as w}from"./chunk-3QIFGVJ6.js";function ye(i,t){if(i&1&&(a(0,"mat-option",5),Y(1),m()),i&2){let _=t.$implicit;n("value",_.id),c(1),Z(_.name);}}var be=(()=>{let t=class t extends _e{constructor(e,o,r,f){super(r),this.adminService=e,this.fb=o,this.dialog=r,this.user=f,this.groups=[],this.form=o.group({groupId:[null,[x.required]]}),this.getGroups();}getGroups(){this.adminService.getGroups().pipe(p(1)).subscribe(e=>{this.groups=e;});}submit(){this.IsValid();}};t.ɵfac=function(o){return new(o||t)(s(u),s(Q),s(me),s(pe));},t.ɵcmp=l({type:t,selectors:[["softuza-users-user-group-add"]],standalone:!0,features:[L,E],decls:10,vars:3,consts:()=>{let e;return e="Groups",[[3,"header"],[1,"sz-form",3,"formGroup"],e,["formControlName","groupId"],[3,"actions"],[3,"value"]];},template:function(o,r){o&1&&(d(0,"sz-ui-dialog-header",0),a(1,"mat-dialog-content")(2,"form",1)(3,"mat-form-field")(4,"mat-label"),C(5,2),m(),a(6,"mat-select",3),M(7,ye,2,2,"mat-option",5,k),m()()()(),d(9,"sz-ui-dialog-actions",4)),o&2&&(n("header",r.header),c(2),n("formGroup",r.form),g(7,r.groups),c(7),n("actions",r.actions));},dependencies:[W,q,H,V,J,K,P,ue,b,Me,ge,se,ne,re,ae,te],encapsulation:2});let i=t;return i;})();var z=(()=>{let t=class t{constructor(){this.route=S(v),this.dialog=S(A),this.adminService=S(u),this.typeI18nPipe=S(G),this.dataSource=new Ee(),this.user=this.route.snapshot.data.user,this.dataSource.addRows(ve.default([N.text("name",fe.name,e=>e.name),N.menu("menu",[O.delete(e=>this.openDeleteComponent(e))])])),this.get();}openDeleteComponent(e){this.dialog.open(Ce,{data:he.delete(this.adminService.deleteUserGroup(this.user.id,e.id),e)}).afterClosed().pipe(p(1)).subscribe(o=>{this.dataSource.delete(o);});}openAddComponent(){this.dialog.open(be,{data:this.user}).afterClosed().pipe(p(1)).subscribe(e=>{e&&this.get();});}get(){this.adminService.getUserGroups(this.user.id).pipe(Se(this.dataSource.indicator)).pipe(p(1)).subscribe(e=>{this.dataSource.set(e,e.length);});}};t.ɵfac=function(o){return new(o||t)();},t.ɵcmp=l({type:t,selectors:[["softuza-users-user-groups"]],standalone:!0,features:[h([G]),E],decls:5,vars:4,consts:()=>{let e;return e="Add",[[3,"dataSource"],["mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(o,r){o&1&&(a(0,"sz-ui-table-filter",0)(1,"button",1),I("click",function(){return r.openAddComponent();}),a(2,"span"),C(3,2),m()()(),a(4,"sz-ui-table",3),I("update",function(){return r.get();}),m()),o&2&&(n("dataSource",r.dataSource),c(4),n("paginationEnabled",!1)("stateEnabled",!0)("dataSource",r.dataSource));},dependencies:[T,Ae,De,Te,D,oe],encapsulation:2});let i=t;return i;})();var $e=()=>[z];function Le(i,t){if(i&1&&d(0,"sz-ui-card",4),i&2){let _=t.$implicit;n("card",_);}}function je(i,t){i&1&&d(0,"softuza-users-user-groups");}var ze=(()=>{let t=class t{constructor(e,o,r,f){this.dialog=e,this.adminService=o,this.route=r,this.router=f,this.items=[],this.userMenu=ce.more([O.edit(()=>this.openSaveComponent())]),this.user=this.route.snapshot.data.user;}openSaveComponent(){this.dialog.open(Ue,{data:this.user}).afterClosed().pipe(p(1)).subscribe(()=>{this.getUser();});}getUser(){this.adminService.getUserById(this.user.id).pipe(p(1)).subscribe(e=>{this.user=e;});}navigate(e){this.router.navigate([e],{relativeTo:this.route});}};t.ɵfac=function(o){return new(o||t)(s(A),s(u),s(v),s(ee));},t.ɵcmp=l({type:t,selectors:[["softuza-users-user"]],features:[h([u])],decls:9,vars:2,consts:()=>{let e;return e="Groups",[[3,"title","menu"],[1,"sz-grid-card"],["mat-stretch-tabs","false"],["label",e],[3,"card"]];},template:function(o,r){o&1&&(d(0,"sz-ui-header-info",0),a(1,"div",1),M(2,Le,1,1,"sz-ui-card",4,B),m(),a(4,"mat-tab-group",2)(5,"mat-tab",3),j(6,je,1,0),w(7,6,$e),X(),m()()),o&2&&(n("title",r.user.username)("menu",r.userMenu),g(2,r.items));},dependencies:[R,U,Pe,Oe],encapsulation:2});let i=t;return i;})();var Ie=[{path:"",component:ze}];var Yt=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=$({type:t}),t.ɵinj=F({imports:[T.forChild(Ie),ie,R,b,U,de,P,D,le,Re,z]});let i=t;return i;})();export{Yt as UserModule};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/