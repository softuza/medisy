import{a as Re}from"./chunk-PMPHGGXC.js";import{a as ge,b as De}from"./chunk-EUZDXJYA.js";import{a as Ie}from"./chunk-HCONTZ4Y.js";import{a as C}from"./chunk-727VSYSF.js";import{a as N}from"./chunk-7LVQWGM4.js";import{g as I}from"./chunk-7OP2KFWQ.js";import"./chunk-RCF34KUN.js";import"./chunk-675HL3QC.js";import"./chunk-7PVYT5AR.js";import{b as T,c as ce,d as Ne,f as Oe,r as Te,s as Ce}from"./chunk-7RJ5EIRJ.js";import{c as pe,g as Me,i as fe,j as Pe,m as ue}from"./chunk-AS5U2OT3.js";import{a as me,b as se,d as Se,e as Ee,g as c}from"./chunk-GP3W3GGO.js";import{E as le,a as q,c as J,d as K,h as Q,i as W,s as te,t as oe,u as ie,v as re,w as ne,x as ae,z as _e}from"./chunk-HSZRRRQX.js";import{b,g as G,h as U,l as X,n as B,o as k,p as j,s as w}from"./chunk-DOVRWRQU.js";import{a as de}from"./chunk-VLCPYEZN.js";import{b as O}from"./chunk-MDQJK7YC.js";import{a as g}from"./chunk-6ILUQYS3.js";import{e as x}from"./chunk-2WUPC45G.js";import"./chunk-DESFHGZ3.js";import"./chunk-PLPMFK4N.js";import"./chunk-GNPEYPQP.js";import{Qa as H,Ra as V,Ta as Z,Ua as ee,n as v}from"./chunk-26JDY2BM.js";import{Bb as r,Cb as _,Db as n,L as p,Nb as z,Pb as f,Vb as Y,Wb as P,Zb as u,ac as y,cb as d,da as h,db as s,kb as $,la as M,ma as A,nb as m}from"./chunk-J5YYK5S2.js";var Fe=(()=>{let t=class t extends Me{constructor(o,i,e){super(i),this.fb=o,this.dialog=i,this.data=e,this.form=o.group({sex:[e.sex],title:[e.title],startBirthDate:[e.startBirthDate],endBirthDate:[e.endBirthDate],firstName:[e.firstName],lastName:[e.lastName],ssn:[e.ssn],nationalityId:[e.nationalityId],languageId:[e.languageId],motherName:[e.motherName],fatherName:[e.fatherName],middleName:[e.middleName],address:[e.address]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};t.ɵfac=function(i){return new(i||t)(s(j),s(me),s(se));},t.ɵcmp=M({type:t,selectors:[["medisy-people-persons-filter"]],standalone:!0,features:[u([]),$,y],decls:28,vars:7,consts:()=>{let o;o="First name";let i;i="Last name";let e;e="Middle name";let a;a="SSN";let S;S="BirthDate";let D;D="Start date";let R;R="End date";let L;L="Title";let F;return F="Address",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","firstName","label",o],["formControlName","lastName","label",i],["formControlName","middleName","label",e],["formControlName","nationalityId"],["formControlName","ssn","label",a],["formControlName","languageId"],[1,"tw-flex-1"],S,["startView","year",3,"rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder",D,"formControlName","startBirthDate"],["matEndDate","","placeholder",R,"formControlName","endBirthDate"],["matSuffix","",3,"for"],["datePicker",""],["formControlName","sex"],["formControlName","title","label",L],["formControlName","address","label",F],[3,"actions"]];},template:function(i,e){if(i&1&&(n(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1)(3,"div",2),n(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),_(),n(6,"sz-ui-form-field-input",5),r(7,"div",2),n(8,"medisy-form-field-nationality",6)(9,"sz-ui-form-field-input",7),_(),r(10,"div",2),n(11,"medisy-form-field-language",8),r(12,"mat-form-field",9)(13,"mat-label"),z(14,10),_(),r(15,"mat-date-range-input",11),n(16,"input",12)(17,"input",13),_(),r(18,"mat-hint"),P(19,"YYYY-MM-DD - YYYY-MM-DD"),_(),n(20,"mat-datepicker-toggle",14)(21,"mat-date-range-picker",null,15),_()(),r(23,"div",2),n(24,"medisy-form-field-sex",16)(25,"sz-ui-form-field-input",17),_(),n(26,"sz-ui-form-field-input",18),_()(),n(27,"sz-ui-dialog-actions",19)),i&2){let a=Y(22);m("header",e.header),d(2),m("formGroup",e.form),d(13),m("rangePicker",a)("comparisonStart",e.form.controls.startBirthDate.value)("comparisonEnd",e.form.controls.endBirthDate.value),d(5),m("for",a),d(7),m("actions",e.actions);}},dependencies:[w,X,b,G,U,B,k,ue,fe,Pe,le,_e,W,Q,q,J,K,ae,te,re,oe,ie,ne,c,Ee,ge,Ie,De],encapsulation:2});let l=t;return l;})();var he=(()=>{let t=class t{constructor(o,i,e,a){this.dialog=o,this.mpplService=i,this.typeI18nPipe=e,this.personNamePipe=a,this.title=de.persons,this.dataSource=new ce(g.paged()),this.dataSource.addRows(Ne.default([T.hyperlink("names.firstName","Name",S=>S.id,S=>a.transform(S),!1),T.text("sex","Sex",S=>e.transform(S.sex)),T.date("birthDate","BirthDate")])),this.get();}openFilterComponent(){this.dialog.open(Fe,{data:this.dataSource.filterModel}).afterClosed().pipe(p(1)).subscribe(o=>{this.dataSource.updateFilterModel(o),this.get();});}openPersonScanComponent(){this.dialog.open(Re).afterClosed().pipe(p(1)).subscribe(o=>{o&&(this.dataSource.filterModel=g.paged(),this.dataSource.filterModel.ssn=o.ssn,this.get());});}get(){this.mpplService.persons.get(this.dataSource.filterModel).pipe(pe(this.dataSource.indicator),p(1)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};t.ɵfac=function(i){return new(i||t)(s(Se),s(N),s(I),s(C));},t.ɵcmp=M({type:t,selectors:[["medisy-people-persons"]],features:[u([I,v,C])],decls:6,vars:5,consts:[[3,"title"],[3,"dataSource","search","filter"],["end","","mat-icon-button","",3,"click"],[3,"paginationEnabled","stateEnabled","dataSource","update"]],template:function(i,e){i&1&&(n(0,"sz-ui-header-info",0),r(1,"sz-ui-table-filter",1),f("search",function(){return e.get();})("filter",function(){return e.openFilterComponent();}),r(2,"button",2),f("click",function(){return e.openPersonScanComponent();}),r(3,"mat-icon"),P(4,"barcode"),_()()(),r(5,"sz-ui-table",3),f("update",function(){return e.get();}),_()),i&2&&(m("title",e.title),d(1),m("dataSource",e.dataSource),d(4),m("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[H,Te,Oe,O,Z],encapsulation:2});let l=t;return l;})();var Ae=[{path:"",component:he}];var ht=(()=>{let t=class t{};t.ɵfac=function(i){return new(i||t)();},t.ɵmod=A({type:t}),t.ɵinj=h({providers:[N],imports:[x.forChild(Ae),c,V,Ce,O,ee]});let l=t;return l;})();export{ht as PersonsModule};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/