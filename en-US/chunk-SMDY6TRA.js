import{e as k}from"./chunk-2EXTCENH.js";import{c as n,g as f,h as w}from"./chunk-FD26V6D6.js";import{g as H,h as X,i as q,l as j}from"./chunk-BYC6CMHU.js";import{a as u}from"./chunk-AKLBFWDK.js";import{a as b,b as G,e as F,g as V}from"./chunk-AEBUIUSG.js";import{c as z,p as B,r as P,s as Y,t as U,v as y}from"./chunk-CW3RDFLK.js";import{d as _,f as T,g as h,l as I,o as L,r as x,s as D,u as $}from"./chunk-MZS3KJHI.js";import{b as v}from"./chunk-UU5Q2D6X.js";import{Jb as p,Kb as S,Lb as l,bb as E,ja as m,mb as N,mc as M,na as C,nc as O,yb as a}from"./chunk-Z3RG4AXH.js";function J(i,r,R,o){let e="";return i===n.Male?e+="M ":i===n.Female?e+="F ":e+="U ",e+=`(${r}-${R}${w(o)})`,e;}function K(i,r,R,o){let e="";return i===n.Male?e+="\u0630\u0643\u0631 ":i===n.Female?e+="\u0623\u0646\u062B\u0649 ":e+="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F ",e+=`(${r}-${R}${v(o)})`,e;}var ze=(()=>{let r=class r extends H{constructor(){super(m(b)),this.mlabService=m(u),this.fb=m(D),this.data=m(G),this.timeUnits=Object.keys(f).map(t=>f[t]),this.sexes=Object.keys(n).map(t=>n[t]),this.sexesSelectConfig={emptyOption:!0};let o=this.fb,e=this.data;this.form=o.group({nameEn:[e?.nameEn,[_.required,_.minLength(1)]],nameAr:[e?.nameAr,[_.minLength(1)]],description:[e?.description,[]],timeUnit:[e?.timeUnit??f.Year,[_.required]],sex:o.control(e?.sex,[]),startAge:o.control(e?.startAge??0,[_.required]),endAge:o.control(e?.endAge??125,[_.required])}),e||(this.form.controls.sex.valueChanges.subscribe(this.generateName.bind(this)),this.form.controls.startAge.valueChanges.subscribe(this.generateName.bind(this)),this.form.controls.endAge.valueChanges.subscribe(this.generateName.bind(this)),this.form.controls.timeUnit.valueChanges.subscribe(this.generateName.bind(this)));}generateName(){let o=this.form.getRawValue(),e=this.form.get("nameEn");e&&e.patchValue(J(o.sex,o.startAge,o.endAge,o.timeUnit));let t=this.form.get("nameAr");t&&t.patchValue(K(o.sex,o.startAge,o.endAge,o.timeUnit));}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceGroups.create(this.form.value)));}};r.ɵfac=function(e){return new(e||r)();},r.ɵcmp=C({type:r,selectors:[["sz-medisy-laboratory-reference-groups-reference-group-save"]],standalone:!0,features:[M([u]),N,O],decls:13,vars:9,consts:()=>{let o;o="Sex";let e;e="Time Unit";let t;t="Start";let A;A="End";let d;d="English Name";let g;g="Arabic Name";let c;return c="Description",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","sex","label",o,3,"source","localizedValue","config"],["formControlName","timeUnit","label",e,3,"source"],["formControlName","startAge","label",t],["formControlName","endAge","label",A],["formControlName","nameEn","label",d],["formControlName","nameAr","label",g],["formControlName","description","label",c],[3,"actions"]];},template:function(e,t){e&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1)(3,"div",2),l(4,"sz-ui-form-field-select",3)(5,"sz-ui-form-field-select",4),S(),p(6,"div",2),l(7,"sz-ui-form-field-input-number",5)(8,"sz-ui-form-field-input-number",6),S(),l(9,"sz-ui-form-field-input-text",7)(10,"sz-ui-form-field-input-text",8)(11,"sz-ui-form-field-textarea",9),S()(),l(12,"sz-ui-dialog-actions",10)),e&2&&(a("title",t.title)("subtitle",t.subtitle)("alert",t.alert()),E(2),a("formGroup",t.form),E(2),a("source",t.sexes)("localizedValue",!0)("config",t.sexesSelectConfig),E(),a("source",t.timeUnits),E(7),a("actions",t.actions));},dependencies:[$,I,T,h,L,x,V,F,j,X,q,y,z,B,U,Y,P,k],encapsulation:2});let i=r;return i;})();export{ze as a};/**i18n:d77dd7ad8dda5ee4768995baea0582dcd573c8b71a296443243bdf0f45ba69e4*/