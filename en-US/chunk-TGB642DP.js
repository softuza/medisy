import{a as Ge,b as je,c as Ue}from"./chunk-ODROEWUN.js";import{a as x}from"./chunk-AA7L7TNX.js";import{b as Te}from"./chunk-RSA2GYOF.js";import{b as ve,d as j}from"./chunk-DZN5IR77.js";import{a as xe}from"./chunk-QWQRLCSG.js";import{a as A}from"./chunk-P7KBCBVS.js";import{a as Y}from"./chunk-3GO4WB2S.js";import{a as $}from"./chunk-KW2TFSB3.js";import{a as Fe,b as Be,g as I}from"./chunk-WXRBKQQQ.js";import"./chunk-FINKHS2A.js";import"./chunk-5DEO3W4G.js";import{a as se,b as me,c as pe,d as le,e as de,f as _e,g as ce,h as fe}from"./chunk-GLMVO7MD.js";import"./chunk-PCYFYMA5.js";import{f as ze,p as $e}from"./chunk-43LKPK7B.js";import{c as Oe,h as Re,i as be,j as Le,m as Ye}from"./chunk-IYZKMGKL.js";import{a as Ie,b as he,d as ye,e as De,g as L}from"./chunk-ZGNAWKHW.js";import{D as Ae,y as Ee}from"./chunk-DFAY52UJ.js";import{g as K,h as Q,l as W,n as Z,o as ee,p as te,s as ie}from"./chunk-N56VCROX.js";import{a as G}from"./chunk-6SZAHQ7N.js";import{a as _}from"./chunk-KMYBK3UO.js";import{b as z}from"./chunk-P6DDCQCI.js";import"./chunk-NJ7DKY7A.js";import{a as oe,c as ne,d as re,e as R,f as Ce,g as Pe}from"./chunk-W5YC4BSW.js";import{f as ge,i as S,j as Ne}from"./chunk-LA45AZ3O.js";import{a as ue,b as Se}from"./chunk-GAA223RS.js";import"./chunk-UXQNJ32W.js";import{Pa as ae,Ra as b,Ua as Me,o as J}from"./chunk-AZJBQUGA.js";import{Ab as g,Bb as r,Cb as a,Db as p,L as y,Nb as B,Rb as C,Wb as u,Xb as P,Zb as E,_a as D,a as X,ac as N,b as H,cb as s,cc as q,da as V,db as m,ec as T,fc as O,kb as w,la as M,ma as k,nb as d,tb as c,ub as f,zb as v}from"./chunk-7AORQD44.js";function we(e,o){if(e&1&&(r(0,"mat-card-subtitle"),u(1),a()),e&2){let l=C();s(1),P(l.person==null?null:l.person.title);}}function qe(e,o){e&1&&(r(0,"mat-card-subtitle"),B(1,4),a());}function Je(e,o){if(e&1&&(r(0,"span"),u(1),T(2,"typeI18n"),a()),e&2){let l=C();s(1),P(O(2,1,l.person==null?null:l.person.sex));}}function Ke(e,o){e&1&&(r(0,"span"),u(1," - "),a());}function Qe(e,o){if(e&1&&(r(0,"span"),u(1),T(2,"personAge"),a()),e&2){let l=C();s(1),P(O(2,1,l.person==null?null:l.person.birthDate));}}function We(e,o){e&1&&(r(0,"mat-card-footer"),p(1,"mat-progress-bar",5),a());}var Ze=e=>[e],F=(()=>{let o=class o{set personId(n){this._personId=n,this.getPerson(n);}get personId(){return this._personId;}constructor(n,i,t){this.mpplService=n,this.typeI18nPipe=i,this.personNamePipe=t,this.indicator=D(!1),this.attributes={items:[]};}addAttributes(n){if(n.phones&&n.phones.length>0){let i=n.phones.find(t=>t.phoneType===Be.Mobile)?.value;i&&this.attributes.items.push(j.text(i,"phone"));}if(n.emails&&n.emails.length>0){let i=n.emails.find(t=>t.emailType===Fe.Private)?.value;i&&this.attributes.items.push(j.text(i,"email"));}}getPerson(n){this.mpplService.persons.getById(n).pipe(y(1),Oe(this.indicator)).subscribe(i=>{this.person=i,this.addAttributes(i);});}};o.ɵfac=function(i){return new(i||o)(m(Y),m(I),m(A));},o.ɵcmp=M({type:o,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[E([I]),N],decls:22,vars:13,consts:()=>{let n;n="More";let i;return i="Patient",[[1,"example-card"],[3,"list"],["mat-button","",3,"routerLink"],n,i,["mode","indeterminate"]];},template:function(i,t){i&1&&(r(0,"mat-card",0)(1,"mat-card-header"),c(2,we,2,1,"mat-card-subtitle")(3,qe,2,0),r(4,"mat-card-title"),u(5),T(6,"personName"),a(),r(7,"mat-card-subtitle"),c(8,Je,3,3,"span")(9,Ke,2,0,"span")(10,Qe,3,3,"span"),a()(),r(11,"mat-card-content")(12,"p"),u(13),a()(),r(14,"mat-card-content"),p(15,"sz-ui-list-compact",1),a(),r(16,"mat-card-content"),p(17,"mat-divider"),a(),r(18,"mat-card-actions")(19,"button",2),B(20,3),a()(),c(21,We,2,0,"mat-card-footer"),a()),i&2&&(s(2),f(2,t.person!=null&&t.person.title?2:3),s(3),P(O(6,9,t.person)),s(3),f(8,t.person!=null&&t.person.sex?8:-1),s(1),f(9,t.person!=null&&t.person.sex&&t.person!=null&&t.person.birthDate?9:-1),s(1),f(10,t.person!=null&&t.person.birthDate?10:-1),s(3),P(t.person==null?null:t.person.note),s(2),d("list",t.attributes),s(4),d("routerLink",q(11,Ze,"/mppl/persons/"+t.personId)),s(2),f(21,t.indicator()?21:-1));},dependencies:[R,re,fe,se,de,pe,ce,_e,le,me,ve,Pe,Ce,Se,ue,b,ae,$e,I,A,xe],encapsulation:2});let e=o;return e;})();var Xe=(()=>{let o=class o extends Re{constructor(n,i,t,h){super(t),this.mlabService=n,this.fb=i,this.dialog=t,this.data=h,this.form=i.group({note:[h?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,H(X({},this.data),{note:this.form.value.note})));}};o.ɵfac=function(i){return new(i||o)(m(_),m(te),m(Ie),m(he));},o.ɵcmp=M({type:o,selectors:[["medisy-analysis-save"]],standalone:!0,features:[E([_]),w,N],decls:5,vars:3,consts:()=>{let n;return n="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",n],[3,"actions"]];},template:function(i,t){i&1&&(p(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2),a()(),p(4,"sz-ui-dialog-actions",3)),i&2&&(d("header",t.header),s(2),d("formGroup",t.form),s(2),d("actions",t.actions));},dependencies:[ie,W,K,Q,Z,ee,L,De,Ye,be,Le,Ae,Ee],encapsulation:2});let e=o;return e;})();var ot=()=>[$],nt=()=>[x],rt=()=>[F];function at(e,o){if(e&1&&p(0,"medisy-people-persons-common-person-card",5),e&2){let l=C(2);d("personId",l.analysis.personId);}}function st(e,o){e&1&&(c(0,at,1,1),v(1,0,rt),g());}function mt(e,o){e&1&&p(0,"medisy-laboratory-analysis-tests");}function pt(e,o){e&1&&p(0,"medisy-laboratory-analysis-specimens");}var He=(()=>{let o=class o{constructor(n,i,t,h){this.dialog=n,this.route=i,this.router=t,this.mlabService=h,this.alert$=D(void 0),this.tiles=[],this.analysisMenu=Ne.more([S.edit(()=>this.openSaveComponent()),S.divider(),S.print(()=>this.opendPrintComponent),S.default(G.publish,"publish",this.openPublishComponent),S.divider(),S.default(G.qr,"qr_code",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(Xe,{data:this.analysis}).afterClosed().pipe(y(1)).subscribe(n=>{n&&(this.analysis=n);});}opendPrintComponent(){}openPublishComponent(){}};o.ɵfac=function(i){return new(i||o)(m(ye),m(oe),m(ne),m(_));},o.ɵcmp=M({type:o,selectors:[["medisy-laboratory-analysis"]],features:[E([_,Y,A])],decls:12,vars:4,consts:()=>{let n;n="Tests";let i;return i="Specimens",[[3,"title","subTitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",n],["label",i],[3,"personId"]];},template:function(i,t){i&1&&(p(0,"sz-ui-header-info",0),r(1,"div",1),c(2,st,3,0),a(),r(3,"mat-tab-group",2)(4,"mat-tab",3),c(5,mt,1,0),v(6,5,ot),g(),a(),r(8,"mat-tab",4),c(9,pt,1,0),v(10,9,nt),g(),a()()),i&2&&(d("title",t.analysis.code)("subTitle",t.analysis.note)("menu",t.analysisMenu),s(2),f(2,t.analysis.personId?2:-1));},dependencies:[Ge,je,z],encapsulation:2});let e=o;return e;})();var Ve=[{path:"",component:He},{path:"tests",loadComponent:()=>import("./chunk-O6G62GYW.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-ZJWD5UJL.js").then(e=>e.AnalysisSpecimensComponent)}];var Ni=(()=>{let o=class o{};o.ɵfac=function(i){return new(i||o)();},o.ɵmod=k({type:o}),o.ɵinj=V({providers:[_],imports:[J,R.forChild(Ve),L,Me,b,ze,Ue,z,Te,ge,$,x,F]});let e=o;return e;})();export{Ni as AnalysisModule};/**i18n:ca0c0aaef853f716736db0c306cb0b403cbd4c4309f5c41e82b4683f77b810d2*/