"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[977],{9977:(M,p,t)=>{t.r(p),t.d(p,{PersonModule:()=>j});var a=t(6814),o=t(6223),e=t(2296),h=t(5195),m=t(7700),E=t(6385),O=t(617),u=t(7988),C=t(8109),i=t(2393),v=t(758),s=t(8308),l=t(9899),r=t(5041),z=t(157),y=t(6883),D=t(9598),A=t(7398),N=t(8180),I=t(2023),L=t(8210),$=t(2818),S=t(5781),n=t(5879),R=t(4622),F=t(6091),U=t(5974);let B=(()=>{class d extends l.Ku{constructor(f,c,P,g){super(P),this.mpplService=f,this.fb=c,this.dialog=P,this.data=g,this.form=c.group({sex:[g.sex,[o.kI.required]],languageId:[g.languageId,[o.kI.required]],title:[g.title,[]],ssn:[g.ssn,[]],nationalityId:[g.nationalityId,[]],birthDate:[g.birthDate,[]]})}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,this.form.value))}static#t=this.\u0275fac=function(c){return new(c||d)(n.Y36(i.i),n.Y36(o.qu),n.Y36(m.so),n.Y36(m.WI))};static#e=this.\u0275cmp=n.Xpm({type:d,selectors:[["medisy-people-person-save"]],standalone:!0,features:[n._Bn([]),n.qOj,n.jDz],decls:12,vars:3,consts:function(){let f,c,P;return f="SSN",c="Title",P="BirthDate",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",f],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",c],["formControlName","birthDate","label",P],[3,"actions"]]},template:function(c,P){1&c&&(n._UZ(0,"sz-ui-dialog-header",0),n.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),n._UZ(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),n.qZA(),n._UZ(6,"medisy-form-field-language",5),n.TgZ(7,"div",2),n._UZ(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),n.qZA(),n._UZ(10,"sz-ui-form-field-date",8),n.qZA()(),n._UZ(11,"sz-ui-dialog-actions",9)),2&c&&(n.Q6J("header",P.header),n.xp6(2),n.Q6J("formGroup",P.form),n.xp6(9),n.Q6J("actions",P.actions))},dependencies:[o.UX,o._Y,o.JJ,o.JL,o.sg,o.u,l.su,R.Y,F.t,S.g2,U.g,m.Is,m.xY,L.V,S.LB,$.t,I.d],encapsulation:2})}return d})();var W=t(6128),V=t(2516),Y=t(5807),J=t(9060);function K(d,G){1&d&&n._UZ(0,"sz-ui-card",4),2&d&&n.Q6J("card",G.$implicit)}const Z=[{path:"",component:(()=>{class d{constructor(f,c,P,g){this.dialog=f,this.mlabService=c,this.route=P,this.router=g,this.items=[],this.personMenu=z.Bw.more([z.NT.edit(()=>this.openSaveComponent()),z.NT.divider(),z.NT.custom("Names","info",()=>this.navigate("names")),z.NT.custom("Phones","phone",()=>this.navigate("phones")),z.NT.custom("Emails","alternate_email",()=>this.navigate("emails")),z.NT.custom("Addresses","home",()=>this.navigate("addresses")),z.NT.custom("Documents","badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;const T={title:0,type:s.kD.Counter,icon:"science",subtitle:"Analyses",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(T),this.getAnalysisCount(T)}navigate(f){this.router.navigate([f],{relativeTo:this.route})}getAnalysisCount(f){this.mlabService.analyses.get({...D.J.count(),personIds:[this.person.id]}).pipe((0,A.U)(c=>c.count)).subscribe(c=>{f.title=c})}openSaveComponent(){this.dialog.open(B,{data:this.person}).afterClosed().pipe((0,N.q)(1)).subscribe(c=>{c&&(this.person=c)})}static#t=this.\u0275fac=function(c){return new(c||d)(n.Y36(m.uw),n.Y36(y.t),n.Y36(C.gz),n.Y36(C.F0))};static#e=this.\u0275cmp=n.Xpm({type:d,selectors:[["medisy-peopel-person"]],features:[n._Bn([y.t])],decls:7,vars:5,consts:[["start","",1,"sz-h5"],["end","",3,"menu"],[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]],template:function(c,P){1&c&&(n.TgZ(0,"sz-ui-header-basic")(1,"h5",0),n._uU(2),n.ALo(3,"personName"),n.qZA(),n._UZ(4,"sz-ui-menu",1),n.qZA(),n.TgZ(5,"div",2),n.YNc(6,K,1,1,"sz-ui-card",3),n.qZA()),2&c&&(n.xp6(2),n.Oqu(n.lcZ(3,3,P.person)),n.xp6(2),n.Q6J("menu",P.personMenu),n.xp6(2),n.Q6J("ngForOf",P.items))},dependencies:[a.sg,W.X,V.z,Y.i,J.Y],encapsulation:2})}return d})()},{path:"names",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(247)]).then(t.bind(t,2247)).then(d=>d.PersonNamesComponent)},{path:"phones",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(961)]).then(t.bind(t,1961)).then(d=>d.PersonPhonesComponent)},{path:"emails",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(814)]).then(t.bind(t,1814)).then(d=>d.PersonEmailsComponent)},{path:"documents",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(994)]).then(t.bind(t,2994)).then(d=>d.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(396)]).then(t.bind(t,4396)).then(d=>d.PersonAddressesComponent)}];let j=(()=>{class d{static#t=this.\u0275fac=function(c){return new(c||d)};static#e=this.\u0275mod=n.oAB({type:d});static#n=this.\u0275inj=n.cJS({providers:[i.i],imports:[a.ez,o.u5,C.Bz.forChild(Z),h.QW,O.Ps,s.VH,v.E3,l.su,r.n,u.Tx,E.t,m.Is,e.ot,z.iz]})}return d})()},2023:(M,p,t)=>{t.d(p,{d:()=>C});var a=t(6814),o=t(6223),e=t(2393),h=t(5781),m=t(9598),E=t(8721),O=t(8180),u=t(5879);let C=(()=>{class i extends h.ms{constructor(s,l){super(s),this.ngControl=s,this.mpplService=l,this.options=[],this.label="Language",this.optionContent=r=>r.name,this.optionValue=r=>r.id,this.mpplService.languages.getItems(m.J.unpagedSorted("name")).pipe((0,E.sU)(this.indicator),(0,O.q)(1)).subscribe(r=>{this.options=r})}ngOnInit(){this.control=this.ngControl.control}static#t=this.\u0275fac=function(l){return new(l||i)(u.Y36(o.a5,10),u.Y36(e.i))};static#e=this.\u0275cmp=u.Xpm({type:i,selectors:[["medisy-form-field-language"]],standalone:!0,features:[u._Bn([e.i]),u.qOj,u.jDz],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(l,r){1&l&&u._UZ(0,"sz-ui-form-field-select",0),2&l&&u.Q6J("formControl",r.control)("indicator",r.indicator)("options",r.options)("label",r.label)("placeholder",r.placeholder)("emptyOption",r.emptyOption)("multiple",r.multiple)("szOptionContentFn",r.optionContent)("szOptionValueFn",r.optionValue)},dependencies:[a.ez,o.UX,o.JJ,o.oH,h.E3],encapsulation:2})}return i})()},8210:(M,p,t)=>{t.d(p,{V:()=>C});var a=t(6814),o=t(6223),e=t(2393),h=t(5781),m=t(9598),E=t(8721),O=t(8180),u=t(5879);let C=(()=>{class i extends h.ms{constructor(s,l){super(s),this.ngControl=s,this.mpplService=l,this.options=[],this.label="Nationality",this.optionContent=r=>r.name,this.optionValue=r=>r.id,this.mpplService.nationalities.getItems(m.J.unpagedSorted("name")).pipe((0,E.sU)(this.indicator),(0,O.q)(1)).subscribe(r=>{this.options=r})}ngOnInit(){this.control=this.ngControl.control}static#t=this.\u0275fac=function(l){return new(l||i)(u.Y36(o.a5,10),u.Y36(e.i))};static#e=this.\u0275cmp=u.Xpm({type:i,selectors:[["medisy-form-field-nationality"]],standalone:!0,features:[u._Bn([e.i]),u.qOj,u.jDz],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(l,r){1&l&&u._UZ(0,"sz-ui-form-field-select",0),2&l&&u.Q6J("formControl",r.control)("indicator",r.indicator)("options",r.options)("label",r.label)("placeholder",r.placeholder)("emptyOption",r.emptyOption)("multiple",r.multiple)("szOptionContentFn",r.optionContent)("szOptionValueFn",r.optionValue)},dependencies:[a.ez,o.UX,o.JJ,o.oH,h.E3],encapsulation:2})}return i})()},2818:(M,p,t)=>{t.d(p,{t:()=>E});var a=t(6223),o=t(7076),e=t(9155),h=t(5781),m=t(5879);let E=(()=>{class O extends h.ms{constructor(C,i){super(C),this.ngControl=C,this.typeI18nPipe=i,this.options=Object.keys(e.m).map(v=>e.m[v]),this.label="Sex",this.optionContent=v=>this.typeI18nPipe.transform(v)}ngOnInit(){this.control=this.ngControl.control}static#t=this.\u0275fac=function(i){return new(i||O)(m.Y36(a.a5,10),m.Y36(o.y))};static#e=this.\u0275cmp=m.Xpm({type:O,selectors:[["medisy-form-field-sex"]],standalone:!0,features:[m._Bn([o.y]),m.qOj,m.jDz],decls:1,vars:7,consts:[[3,"formControl","options","label","placeholder","emptyOption","multiple","szOptionContentFn"]],template:function(i,v){1&i&&m._UZ(0,"sz-ui-form-field-select",0),2&i&&m.Q6J("formControl",v.control)("options",v.options)("label",v.label)("placeholder",v.placeholder)("emptyOption",v.emptyOption)("multiple",v.multiple)("szOptionContentFn",v.optionContent)},dependencies:[a.UX,a.JJ,a.oH,h.E3],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]})}return O})()},7076:(M,p,t)=>{t.d(p,{y:()=>C});var a=t(3712),o=t(1101),e=t(7263),h=function(i){return i.Validated="Validated",i.Returned="Returned",i.Forwarded="Forwarded",i.Destroyed="Destroyed",i.Collected="Collected",i.Accepted="Accepted",i.Created="Created",i}(h||{}),m=function(i){return i.Created="Created",i.Pending="Pending",i.Started="Started",i.Finished="Finished",i}(m||{}),E=t(1646),O=t(9155),u=t(5879);let C=(()=>{class i{transform(s,l=!1){return s in e.v?this.transformComparisonOperator(s,l):s in m?this.transformTestState(s):s in h?this.transformSpecimenState(s):s in a.V?this.transformEmailType(s):s in o.z?this.transformPhoneType(s):s in O.m?this.transformSex(s):s in E.n?this.transformDocumentType(s):""}transformComparisonOperator(s,l){switch(s){case e.v.Equal:return l?"==":"Equal";case e.v.GreaterThan:return l?">":"GreaterThan";case e.v.GreaterThanOrEqual:return l?">=":"GreaterThanOrEqual";case e.v.LessThan:return l?"<":"LessThan";case e.v.LessThanOrEqual:return l?"<=":"LessThanOrEqual";case e.v.RangeWithBoundaries:return l?"<==>":"RangeWithBoundaries";case e.v.RangeWithoutBoundaries:return l?"<>":"RangeWithoutBoundaries";case e.v.Not:return l?"!=":"Not";default:return""}}transformTestState(s){switch(s){case m.Created:return "Created";case m.Started:return "Started";case m.Finished:return "Finished";case m.Pending:return "Pending";default:return""}}transformSpecimenState(s){switch(s){case h.Accepted:return "Accepted";case h.Collected:return "Collected";case h.Destroyed:return "Destroyed";case h.Forwarded:return "Forwarded";case h.Validated:return "Validated";case h.Created:return "Created";default:return""}}transformEmailType(s){switch(s){case a.V.Private:return "Private";case a.V.Public:return "Public";case a.V.Work:return "Work";default:return""}}transformPhoneType(s){switch(s){case o.z.Home:return "Home";case o.z.Mobile:return "Mobile";case o.z.Work:return "Work";default:return""}}transformSex(s){switch(s){case O.m.Female:return "Female";case O.m.Male:return "Male";default:return""}}transformDocumentType(s){switch(s){case E.n.BankCard:return "Bank Card";case E.n.DriverLicense:return "Driver License";case E.n.NationalCard:return "National Card";case E.n.Passport:return "Passport";case E.n.TravelDocument:return "Travel Document";case E.n.Other:return "Other";default:return""}}static#t=this.\u0275fac=function(l){return new(l||i)};static#e=this.\u0275pipe=u.Yjl({name:"typeI18n",type:i,pure:!0,standalone:!0})}return i})()},3712:(M,p,t)=>{t.d(p,{V:()=>a});var a=function(e){return e.Private="Private",e.Public="Public",e.Work="Work",e}(a||{});Object.keys(a).map(e=>a[e])},1101:(M,p,t)=>{t.d(p,{z:()=>a});var a=function(e){return e.Home="Home",e.Mobile="Mobile",e.Work="Work",e}(a||{});Object.keys(a).map(e=>a[e])},7263:(M,p,t)=>{t.d(p,{v:()=>a});var a=function(o){return o.Equal="Equal",o.GreaterThan="GreaterThan",o.GreaterThanOrEqual="GreaterThanOrEqual",o.LessThan="LessThan",o.LessThanOrEqual="LessThanOrEqual",o.Not="Not",o.RangeWithBoundaries="RangeWithBoundaries",o.RangeWithoutBoundaries="RangeWithoutBoundaries",o}(a||{})},1646:(M,p,t)=>{t.d(p,{n:()=>a});var a=function(e){return e.NationalCard="NationalCard",e.BankCard="BankCard",e.DriverLicense="DriverLicense",e.Passport="Passport",e.TravelDocument="TravelDocument",e.Other="Other",e}(a||{});Object.keys(a).map(e=>a[e])},9155:(M,p,t)=>{t.d(p,{m:()=>a});var a=function(e){return e.Male="Male",e.Female="Female",e}(a||{});Object.keys(a).map(e=>a[e])}}]);