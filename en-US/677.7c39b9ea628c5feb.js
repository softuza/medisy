"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[677],{677:(M,m,e)=>{e.r(m),e.d(m,{AnalysisModule:()=>w});var s=e(6814),u=e(6223),o=e(4630),n=e(2296),i=e(5195),A=e(5986),S=e(3680),p=e(8034),T=e(7700),y=e(617),O=e(2032),D=e(9038),g=e(7988),I=e(1476),Y=e(5940),L=e(8525),$=e(3566),U=e(1545),R=e(5313),z=e(2596),v=e(8109),Z=e(465),C=e(5738),B=e(758),x=e(2595),J=e(5341),X=e(2169),F=e(5041),E=e(3572),t=e(5879),P=e(2191),f=e(9060),N=e(5348),K=e(9598),G=e(8721),h=e(8180),Q=e(6385),V=e(765),W=e(2516),j=e(5850);function H(l,d){1&l&&t._UZ(0,"sz-ui-card",12),2&l&&t.Q6J("card",d.$implicit)}const b=[{path:"",component:(()=>{class l{constructor(a,r,c,k,q){this.dialog=a,this.route=r,this.analysisService=c,this.personService=k,this.personNamePipe=q,this.alert$=(0,t.tdS)(void 0),this.testsDataSource=new E.b2(K.J.pagedSorted("-createdAt")),this.cards=[{counter:0,url:"samples",icon:"science",title:"Samples"}],this.analysis=this.route.snapshot.data.analysis,this.analysis.personId&&this.getPerson(),this.testsDataSource.columns=[E.UC.text("testClass","Test Class",_=>_.test.testClass.name),P.h.createdAt(),P.h.menu([])],this.getAnalysisTests()}getPerson(){this.personService.getPerson(this.analysis.personId).pipe((0,h.q)(1)).subscribe(a=>{this.cards.splice(0,0,{subtitle:"Person",icon:"person",title:this.personNamePipe.transform(a)})})}openEditComponent(){}getAnalysisTests(){this.analysisService.getAnalysisTests(this.analysis.id,this.testsDataSource.filterModel).pipe((0,G.sU)(this.testsDataSource.indicator)).pipe((0,h.q)(1)).subscribe(a=>{this.testsDataSource.set(a.items,a.count)})}}return l.\u0275fac=function(a){return new(a||l)(t.Y36(T.uw),t.Y36(v.gz),t.Y36(C.K),t.Y36(N.R),t.Y36(f.Y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-laboratory-analysis"]],features:[t._Bn([C.K,N.R,f.Y])],decls:26,vars:6,consts:function(){let d,a,r;return d="Edit",a="Print",r="Tests",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],d,a,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-2","tw-py-2"],[3,"card",4,"ngFor","ngForOf"],["start",""],r,[1,"tw-flex","tw-flex-col","tw-gap-2"],[3,"paginationEnabled","stateEnabled","dataSource","update"],[3,"card"]]},template:function(a,r){if(1&a&&(t.TgZ(0,"sz-ui-header-basic")(1,"h5",0),t._uU(2),t.qZA(),t.TgZ(3,"button",1)(4,"mat-icon"),t._uU(5,"more_vert"),t.qZA()(),t.TgZ(6,"mat-menu",null,2)(8,"button",3),t.NdJ("click",function(){return r.openEditComponent()}),t.TgZ(9,"mat-icon"),t._uU(10,"edit"),t.qZA(),t.TgZ(11,"span"),t.SDv(12,4),t.qZA()(),t._UZ(13,"mat-divider"),t.TgZ(14,"button",3),t.NdJ("click",function(){return r.openEditComponent()}),t.TgZ(15,"mat-icon"),t._uU(16,"print"),t.qZA(),t.TgZ(17,"span"),t.SDv(18,5),t.qZA()()()(),t.TgZ(19,"div",6),t.YNc(20,H,1,1,"sz-ui-card",7),t.qZA(),t.TgZ(21,"sz-ui-header-basic")(22,"span",8),t.SDv(23,9),t.qZA()(),t.TgZ(24,"div",10)(25,"sz-ui-table",11),t.NdJ("update",function(){return r.getAnalysisTests()}),t.qZA()()),2&a){const c=t.MAs(7);t.xp6(2),t.Oqu(r.analysis.code),t.xp6(1),t.Q6J("matMenuTriggerFor",c),t.xp6(17),t.Q6J("ngForOf",r.cards),t.xp6(5),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",r.testsDataSource)}},dependencies:[s.sg,g.VK,g.OP,g.p6,y.Hw,n.RK,Q.d,V.K,W.z,j.X],encapsulation:2}),l})()}];let w=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[C.K],imports:[s.ez,u.u5,u.UX,v.Bz.forChild(b),T.Is,o.Bb,O.c,B.E3,J.SD,A.p9,g.Tx,y.Ps,n.ot,L.LD,U.T5,z.AV,D.ie,i.QW,Y.Cq,S.XK,p.FA,E.Vn,F.n,R.p0,I.TU,$.JX,X.c,x.V,Z.L]}),l})()},2191:(M,m,e)=>{e.d(m,{h:()=>u});var s=e(3572);class u{static menu(n){return s.UC.action("menu",n)}static code(){return s.UC.text("code","Code")}static createdAt(){return s.UC.date("createdAt","Created Date")}static updatedAt(){return s.UC.date("updatedAt","Updated Date")}static id(){return s.UC.text("id","Id")}static nameHyperlink(n,i,A){return s.UC.hyperlink("name","Name",n,i,A)}static nameText(n){return s.UC.text("name","Name",n)}static phoneType(n){return s.UC.text("phoneType","Phone Type",n)}static emailType(n){return s.UC.text("emailType","Email Type",n)}static documentType(n){return s.UC.text("documentType","Document Type",n)}static comparisonOperator(n){return s.UC.text("comparisonOperator","Comparison Operator",n)}}},465:(M,m,e)=>{e.d(m,{L:()=>u});var s=e(5879);let u=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({}),o})()},9060:(M,m,e)=>{e.d(m,{Y:()=>u});var s=e(5879);let u=(()=>{class o{transform(i,A=!1){if(!i.names||0===i.names.length)return`${i.id}`;const S=i.names[0].firstName,p=i.names[0].lastName,T=p?`${S} ${p}`:`${S}`;return A&&i.birthDate?""+(+new Date-+i.birthDate):T}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275pipe=s.Yjl({name:"personName",type:o,pure:!0,standalone:!0}),o})()}}]);