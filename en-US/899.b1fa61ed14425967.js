"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[899],{1899:(D,h,a)=>{a.r(h),a.d(h,{SamplesModule:()=>fe});var N,y,P,m=a(6895),g=a(5823),p=a(4144),f=a(7392),S=a(4859),u=a(5412),A=a(7957),_=a(7155),C=a(8739),c=a(6709),E=a(4385),o=a(4006),l=a(6257),M=a(8255),b=a(266),L=a(6338),v=a(6308),R=a(3238),F=a(1572),z=a(3546),I=a(4512),$=a(2472),B=a(5698),U=a(2700),Y=a(777),T=(()=>{return(t=T||(T={})).Blood="Blood",t.Semen="Semen",t.Sputun="Sputun",t.Stool="Stool",t.Urine="Urine",t.Saliva="Saliva",t.Sweat="Sweat",t.Hair="Hair",t.Fingernail="Fingernail",t.Biopsy="Biopsy",t.Fluid="Fluid",t.Swab="Swab",T;var t})();N||(N={}),y||(y={}),P||(P={});var e=a(4650),O=a(1576),J=a(9549),G=a(1921);function Q(t,s){1&t&&e._UZ(0,"softuza-medisy-alert",13),2&t&&e.Q6J("alert",s.ngIf)}function j(t,s){if(1&t&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}let H=(()=>{class t extends Y.a{constructor(n,i,r){super(i,n.group({sampleType:[r.sampleType],swabType:[r.swabType],fluidType:[r.fluidType],biopsyType:[r.biopsyType]})),this.fb=n,this.dialog=i,this.data=r,this.sampleTypes=Object.keys(T).map(d=>T[d]),this.biopsyTypes=Object.keys(N).map(d=>N[d]),this.fluidTypes=Object.keys(y).map(d=>y[d]),this.swabTypes=Object.keys(P).map(d=>P[d])}handleSubmit(){this.close(this.form.value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(u.so),e.Y36(u.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["softuza-medisy-laboratory-management-samples-filter"]],features:[e._Bn([]),e.qOj],decls:18,vars:8,consts:function(){let s,n,i,r;return s="Filter Results",n="Type",i="Close",r="Save",[["mat-dialog-title",""],s,[3,"alert",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayout.lt-md","column wrap","fxLayoutGap","8px"],["fxFlex","1 1 100%"],["formControlName","sampleType","placeholder",n],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],i,["mat-flat-button","","color","primary",3,"disabled","click"],r,[3,"alert"],[3,"value"]]},template:function(n,i){1&n&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Q,1,1,"softuza-medisy-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-select",6)(9,"mat-option"),e._uU(10,"-"),e.qZA(),e.YNc(11,j,2,2,"mat-option",7),e.qZA()()()()(),e.TgZ(12,"mat-dialog-actions",8)(13,"button",9),e.NdJ("click",function(){return i.close()}),e.SDv(14,10),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return i.submit()}),e.SDv(16,12),e.ALo(17,"async"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,i.alert$)),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngForOf",i.sampleTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(17,6,i.indicator$)))},dependencies:[m.sg,m.O5,o._Y,o.JJ,o.JL,o.sg,o.u,u.uh,u.xY,u.H8,R.ey,O.xw,O.SQ,O.yH,J.KE,G.w,S.lW,E.gD,m.Ov],encapsulation:2}),t})();var Z=a(1276),X=a(5174),w=a(6734),K=a(172),x=a(2673);function W(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"mat-header-cell",23)(1,"mat-checkbox",24),e.NdJ("change",function(r){e.CHM(n);const d=e.oxw();return e.KtG(r?d.masterToggle():null)}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function k(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"mat-cell",23)(1,"mat-checkbox",25),e.NdJ("click",function(r){return r.stopPropagation()})("change",function(r){const Se=e.CHM(n).$implicit,Ee=e.oxw();return e.KtG(r?Ee.selection.toggle(Se):null)}),e.qZA()()}if(2&t){const n=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",i.selection.isSelected(n))}}function V(t,s){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&t){const n=s.$implicit,i=e.oxw();e.uIk("colspan",i.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",n===i.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",n.description," ")}}function q(t,s){1&t&&(e.TgZ(0,"mat-header-cell",26),e._uU(1," #"),e.qZA())}function ee(t,s){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.xp6(1),e.hij(" ",n.id," ")}}function te(t,s){1&t&&(e.TgZ(0,"mat-header-cell",26),e.SDv(1,27),e.qZA())}function ne(t,s){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",28)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&t){const n=s.$implicit;e.xp6(4),e.hij(" ",n.name," ")}}function ae(t,s){1&t&&e._UZ(0,"mat-header-cell",23)}function oe(t,s){if(1&t&&(e.TgZ(0,"mat-cell",29)(1,"button",30)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,31),e.qZA()),2&t){const n=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",n)}}function ie(t,s){1&t&&e._UZ(0,"mat-header-row")}function se(t,s){1&t&&e._UZ(0,"mat-row")}function le(t,s){if(1&t&&(e._UZ(0,"softuza-medisy-table-state",32),e.ALo(1,"async")),2&t){const n=e.oxw();e.Q6J("loading",e.lcZ(1,1,n.indicator$))}}const me=function(){return[10,25,50,100]};function re(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"mat-paginator",33),e.NdJ("page",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.onPageChange(r.pageIndex,r.pageSize))}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("length",n.count)("pageSize",n.pageSize)("pageSizeOptions",e.DdM(3,me))}}const de=[{path:"",component:(()=>{class t extends U.a{constructor(n,i){super(),this.dialog=n,this.sampleService=i,this.displayedColumns=["menu"],this.filter={},this.get()}openFilterComponent(){this.dialog.open(H,{autoFocus:!0,width:"480px",data:this.filter}).afterClosed().pipe((0,B.q)(1)).subscribe(i=>{i&&(this.filter=i,this.get())})}get(){const n={pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending};this.filter.sampleType&&(n.sampleType=this.filter.sampleType),this.filter.biopsyType&&(n.biopsyType=this.filter.biopsyType),this.filter.swabType&&(n.swabType=this.filter.swabType),this.filter.fluidType&&(n.fluidType=this.filter.fluidType),this.sampleService.getSamples(n).pipe((0,$.sU)(this.indicator$)).pipe((0,B.q)(1)).subscribe(i=>{this.set(i.count,i.items)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.uw),e.Y36(Z.F))},t.\u0275cmp=e.Xpm({type:t,selectors:[["softuza-medisy-sample-management-samples"]],features:[e.qOj],decls:35,vars:11,consts:function(){let s,n;return s="Samples",n="Name",[[1,"header-basic"],[1,"title"],s,[1,"spacer"],["mat-icon-button","",3,"click"],["mat-icon-button","","matBadgeSize","small",3,"matBadge","click"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],n,[1,"table-cell-stacked"],[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(n,i){1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e.SDv(3,2),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.search=!0}),e.TgZ(6,"mat-icon"),e._uU(7,"search"),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return i.openFilterComponent()}),e.TgZ(9,"mat-icon"),e._uU(10,"filter_list"),e.qZA()(),e.TgZ(11,"softuza-medisy-search-bar",6),e.NdJ("changed",function(d){return i.onSearch(d)})("closed",function(){return i.onSearchClose()}),e.qZA()(),e.TgZ(12,"softuza-medisy-table-selection",7)(13,"span"),e._uU(14),e.qZA(),e._UZ(15,"span",3),e.qZA(),e.TgZ(16,"mat-table",8),e.NdJ("matSortChange",function(d){return i.onSort(d.active,d.direction)}),e.ynx(17,9),e.YNc(18,W,2,2,"mat-header-cell",10),e.YNc(19,k,2,1,"mat-cell",11),e.BQk(),e.ynx(20,12),e.YNc(21,V,4,3,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,q,2,0,"mat-header-cell",15),e.YNc(24,ee,2,1,"mat-cell",13),e.BQk(),e.ynx(25,16),e.YNc(26,te,2,0,"mat-header-cell",15),e.YNc(27,ne,5,1,"mat-cell",13),e.BQk(),e.ynx(28,17),e.YNc(29,ae,1,0,"mat-header-cell",10),e.YNc(30,oe,6,1,"mat-cell",18),e.BQk(),e.YNc(31,ie,1,0,"mat-header-row",19),e.YNc(32,se,1,0,"mat-row",20),e.qZA(),e.YNc(33,le,2,3,"softuza-medisy-table-state",21),e.YNc(34,re,1,4,"mat-paginator",22),e.qZA()),2&n&&(e.xp6(8),e.s9C("matBadge",i.getFilterCount()),e.xp6(3),e.Q6J("visible",i.search),e.xp6(1),e.Q6J("visible",i.selection.hasValue()),e.xp6(2),e.hij("",i.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",i.sortBy),e.Q6J("dataSource",i.dataSource),e.xp6(15),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===i.count),e.xp6(1),e.Q6J("ngIf",i.count>0))},dependencies:[m.O5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,C.NW,X.R,w.H,K.N,c.oG,M.VK,M.p6,f.Hw,S.lW,v.YE,v.nU,x.k,m.Ov],encapsulation:2}),t})()}];let ce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[I.Bz.forChild(de),I.Bz]}),t})();var _e=a(3813),pe=a(4053),ue=a(8222),ge=a(7343);let fe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Z.F],imports:[m.ez,o.u5,o.UX,ce,u.Is,A.Bb,g.o9,_.p0,C.TU,p.c,ge.U,ue.B,_e.n,c.p9,M.Tx,f.Ps,S.ot,E.LD,l.T5,b.AV,L.ie,v.JX,R.XK,z.QW,x.g,F.Cq,pe.L]}),t})()},4053:(D,h,a)=>{a.d(h,{L:()=>g});var m=a(4650);let g=(()=>{class p{}return p.\u0275fac=function(S){return new(S||p)},p.\u0275mod=m.oAB({type:p}),p.\u0275inj=m.cJS({}),p})()},2673:(D,h,a)=>{a.d(h,{g:()=>C,k:()=>_});var m=a(4650),g=a(3238),p=a(2687),f=a(1281);let S=0;const u=(0,g.Id)(class{}),A="mat-badge-content";let _=(()=>{class c extends u{constructor(o,l,M,b,L){super(),this._ngZone=o,this._elementRef=l,this._ariaDescriber=M,this._renderer=b,this._animationMode=L,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=S++,this._isInitialized=!1}get color(){return this._color}set color(o){this._setColor(o),this._color=o}get overlap(){return this._overlap}set overlap(o){this._overlap=(0,f.Ig)(o)}get content(){return this._content}set content(o){this._updateRenderedContent(o)}get description(){return this._description}set description(o){this._updateHostAriaDescription(o)}get hidden(){return this._hidden}set hidden(o){this._hidden=(0,f.Ig)(o)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const o=this._renderer.createElement("span"),l="mat-badge-active";return o.setAttribute("id",`mat-badge-content-${this._id}`),o.setAttribute("aria-hidden","true"),o.classList.add(A),"NoopAnimations"===this._animationMode&&o.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(o),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{o.classList.add(l)})}):o.classList.add(l),o}_updateRenderedContent(o){const l=`${o??""}`.trim();this._isInitialized&&l&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=l),this._content=l}_updateHostAriaDescription(o){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),o&&this._ariaDescriber.describe(this._elementRef.nativeElement,o),this._description=o}_setColor(o){const l=this._elementRef.nativeElement.classList;l.remove(`mat-badge-${this._color}`),o&&l.add(`mat-badge-${o}`)}_clearExistingBadges(){const o=this._elementRef.nativeElement.querySelectorAll(`:scope > .${A}`);for(const l of Array.from(o))l!==this._badgeElement&&l.remove()}}return c.\u0275fac=function(o){return new(o||c)(m.Y36(m.R0b),m.Y36(m.SBq),m.Y36(p.$s),m.Y36(m.Qsj),m.Y36(m.QbO,8))},c.\u0275dir=m.lG2({type:c,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(o,l){2&o&&m.ekj("mat-badge-overlap",l.overlap)("mat-badge-above",l.isAbove())("mat-badge-below",!l.isAbove())("mat-badge-before",!l.isAfter())("mat-badge-after",l.isAfter())("mat-badge-small","small"===l.size)("mat-badge-medium","medium"===l.size)("mat-badge-large","large"===l.size)("mat-badge-hidden",l.hidden||!l.content)("mat-badge-disabled",l.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[m.qOj]}),c})(),C=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=m.oAB({type:c}),c.\u0275inj=m.cJS({imports:[p.rt,g.BQ,g.BQ]}),c})()}}]);