"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[977],{9977:(D,E,t)=>{t.r(E),t.d(E,{PersonModule:()=>V});var n=t(6814),l=t(6223),i=t(2296),r=t(5195),a=t(7700),o=t(6385),C=t(617),f=t(7988),P=t(8109),_=t(465),S=t(5348),d=t(758),h=t(2595),I=t(2169),c=t(4110),v=t(5041),M=t(5738),O=t(8180),T=t(7553),R=t(2160),L=t(5741),z=t(7336),F=t(9004),e=t(5879),U=t(4622),$=t(6091),Y=t(5974),Z=t(1122);let B=(()=>{class s extends c.Ku{constructor(m,u,N,g){super(N),this.personService=m,this.fb=u,this.dialog=N,this.data=g,this.form=u.group({sex:[g.sex,[l.kI.required]],languageId:[g.languageId,[l.kI.required]],title:[g.title,[]],ssn:[g.ssn,[]],nationalityId:[g.nationalityId,[]],birthDate:[g.birthDate,[]]})}submit(){this.IsValid()&&this.save(this.personService.updatePerson(this.data.id,this.form.value))}}return s.\u0275fac=function(m){return new(m||s)(e.Y36(S.R),e.Y36(l.qu),e.Y36(a.so),e.Y36(a.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["medisy-people-person-save"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:12,vars:3,consts:function(){let p,m;return p="SSN",m="BirthDate",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",p],["formControlName","languageId"],["formControlName","sex"],["formControlName","title"],["formControlName","birthDate","label",m],[3,"actions"]]},template:function(m,u){1&m&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),e._UZ(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),e.qZA(),e._UZ(6,"medisy-form-field-language",5),e.TgZ(7,"div",2),e._UZ(8,"medisy-form-field-sex",6)(9,"medisy-form-field-title",7),e.qZA(),e._UZ(10,"sz-ui-form-field-date",8),e.qZA()(),e._UZ(11,"sz-ui-dialog-actions",9)),2&m&&(e.Q6J("header",u.header),e.xp6(2),e.Q6J("formGroup",u.form),e.xp6(9),e.Q6J("actions",u.actions))},dependencies:[l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,c.su,U.Y,$.t,F.g,Y.g,Z.L,a.Is,a.xY,R.V,L.t,z.e,T.d],encapsulation:2}),s})();var X=t(5850),K=t(2516),J=t(8145),W=t(9060);function G(s,p){if(1&s&&(e.TgZ(0,"sz-ui-card",17),e._UZ(1,"sz-ui-counter",18),e.qZA()),2&s){const m=p.$implicit;e.Q6J("card",m),e.xp6(1),e.Q6J("value",null==m?null:m.counter)}}const j=[{path:"",component:(()=>{class s{constructor(m,u,N,g){this.dialog=m,this.analysisService=u,this.route=N,this.router=g,this.items=[{counter:0,icon:"science",subtitle:"Analyses",loading:!0}],this.person=this.route.snapshot.data.person,this.getAnlysesCount()}getAnlysesCount(){this.analysisService.getAnalysesCount({personIds:[this.person.id]}).subscribe(m=>{this.items[0].counter=m.count,this.items[0].loading=!1})}openSaveComponent(){this.dialog.open(B,{data:this.person}).afterClosed().pipe((0,O.q)(1)).subscribe(u=>{u&&(this.person=u)})}}return s.\u0275fac=function(m){return new(m||s)(e.Y36(a.uw),e.Y36(M.K),e.Y36(P.gz),e.Y36(P.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["medisy-peopel-person"]],features:[e._Bn([M.K])],decls:42,vars:5,consts:function(){let p,m,u,N,g,y;return p="Edit",m="Names",u="Phones",N="Emails",g="Addresses",y="Documents",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],p,["mat-menu-item","","routerLink","names"],m,["mat-menu-item","","routerLink","phones"],u,["mat-menu-item","","routerLink","emails"],N,["mat-menu-item","","routerLink","addresses"],g,["mat-menu-item","","routerLink","documents"],y,[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],["title","",2,"font-size","24px",3,"value"]]},template:function(m,u){if(1&m&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e._uU(2),e.ALo(3,"personName"),e.qZA(),e.TgZ(4,"button",1)(5,"mat-icon"),e._uU(6,"more_vert"),e.qZA()(),e.TgZ(7,"mat-menu",null,2)(9,"button",3),e.NdJ("click",function(){return u.openSaveComponent()}),e.TgZ(10,"mat-icon"),e._uU(11,"edit"),e.qZA(),e.TgZ(12,"span"),e.SDv(13,4),e.qZA()(),e._UZ(14,"mat-divider"),e.TgZ(15,"button",5)(16,"mat-icon"),e._uU(17,"info"),e.qZA(),e.TgZ(18,"span"),e.SDv(19,6),e.qZA()(),e.TgZ(20,"button",7)(21,"mat-icon"),e._uU(22,"phone"),e.qZA(),e.TgZ(23,"span"),e.SDv(24,8),e.qZA()(),e.TgZ(25,"button",9)(26,"mat-icon"),e._uU(27,"alternate_email"),e.qZA(),e.TgZ(28,"span"),e.SDv(29,10),e.qZA()(),e.TgZ(30,"button",11)(31,"mat-icon"),e._uU(32,"home"),e.qZA(),e.TgZ(33,"span"),e.SDv(34,12),e.qZA()(),e.TgZ(35,"button",13)(36,"mat-icon"),e._uU(37,"badge"),e.qZA(),e.TgZ(38,"span"),e.SDv(39,14),e.qZA()()()(),e.TgZ(40,"div",15),e.YNc(41,G,2,2,"sz-ui-card",16),e.qZA()),2&m){const N=e.MAs(8);e.xp6(2),e.Oqu(e.lcZ(3,3,u.person)),e.xp6(2),e.Q6J("matMenuTriggerFor",N),e.xp6(37),e.Q6J("ngForOf",u.items)}},dependencies:[n.sg,P.rH,C.Hw,X.X,K.z,J.R,f.VK,f.OP,f.p6,o.d,i.RK,W.Y],encapsulation:2}),s})()},{path:"names",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(247)]).then(t.bind(t,2247)).then(s=>s.PersonNamesComponent)},{path:"phones",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(961)]).then(t.bind(t,1961)).then(s=>s.PersonPhonesComponent)},{path:"emails",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(814)]).then(t.bind(t,1814)).then(s=>s.PersonEmailsComponent)},{path:"documents",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(699)]).then(t.bind(t,9699)).then(s=>s.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(396)]).then(t.bind(t,4396)).then(s=>s.PersonAddressesComponent)}];let V=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[S.R],imports:[n.ez,l.u5,P.Bz.forChild(j),r.QW,C.Ps,h.V,d.E3,c.su,v.n,I.c,f.Tx,o.t,a.Is,i.ot,_.X]}),s})()},2160:(D,E,t)=>{t.d(E,{V:()=>I});var n=t(6814),l=t(6223),i=t(9862),r=t(3971),a=t(9598),o=t(5879);let C=(()=>{class c{constructor(M){this.http=M,this.path="medisy-people/v1/nationalities"}getNationalities(M=a.J.unpagedSorted("name")){return this.http.get(`${this.path}`,{params:new i.LE({fromObject:(0,r.c)(M)})})}}return c.\u0275fac=function(M){return new(M||c)(o.LFG(i.eN))},c.\u0275prov=o.Yz7({token:c,factory:c.\u0275fac}),c})();var f=t(6893),P=t(9004),_=t(8721),S=t(8180),d=t(7398),h=t(8930);let I=(()=>{class c extends f.m{constructor(M,O){super(M),this.ngControl=M,this.nationalityService=O,this.label="Nationality",this.contentFormat=T=>T.name,this.valueFormat=T=>T.id,this.items$=this.nationalityService.getNationalities().pipe((0,S.q)(1),(0,d.U)(T=>T.items)).pipe((0,_.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return c.\u0275fac=function(M){return new(M||c)(o.Y36(l.a5,10),o.Y36(C))},c.\u0275cmp=o.Xpm({type:c,selectors:[["medisy-form-field-nationality"]],standalone:!0,features:[o._Bn([C]),o.qOj,o.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(M,O){1&M&&(o._UZ(0,"sz-ui-form-field-select",0),o.ALo(1,"async")),2&M&&o.Q6J("formControl",O.control)("indicator",O.indicator)("items",o.lcZ(1,9,O.items$))("label",O.label)("placeholder",O.placeholder)("emptyOption",O.emptyOption)("multiple",O.multiple)("contentFn",O.contentFormat)("valueFn",O.valueFormat)},dependencies:[n.ez,n.Ov,l.UX,l.JJ,l.oH,P.g,h.E],encapsulation:2}),c})()},5741:(D,E,t)=>{t.d(E,{t:()=>f});var n=t(6223),l=t(5746),i=t(9155),r=t(6893),a=t(9004),o=t(5879),C=t(8930);let f=(()=>{class P extends r.m{constructor(S,d){super(S),this.ngControl=S,this.sexI18nPipe=d,this.items=Object.keys(i.m).map(h=>i.m[h]),this.label="Sex",this.contentFormat=h=>this.sexI18nPipe.transform(h)}ngOnInit(){this.control=this.ngControl.control}}return P.\u0275fac=function(S){return new(S||P)(o.Y36(n.a5,10),o.Y36(l.l))},P.\u0275cmp=o.Xpm({type:P,selectors:[["medisy-form-field-sex"]],standalone:!0,features:[o._Bn([l.l]),o.qOj,o.jDz],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(S,d){1&S&&o._UZ(0,"sz-ui-form-field-select",0),2&S&&o.Q6J("formControl",d.control)("items",d.items)("label",d.label)("placeholder",d.placeholder)("emptyOption",d.emptyOption)("multiple",d.multiple)("contentFn",d.contentFormat)},dependencies:[n.UX,n.JJ,n.oH,a.g,C.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),P})()},7336:(D,E,t)=>{t.d(E,{e:()=>f});var n=t(6223),l=t(1886),i=t(6439),r=t(6893),a=t(9004),o=t(5879),C=t(8930);let f=(()=>{class P extends r.m{constructor(S,d){super(S),this.ngControl=S,this.titleI18nPipe=d,this.items=Object.keys(i.D).map(h=>i.D[h]),this.label="Title",this.contentFormat=h=>this.titleI18nPipe.transform(h)}ngOnInit(){this.control=this.ngControl.control}}return P.\u0275fac=function(S){return new(S||P)(o.Y36(n.a5,10),o.Y36(l.r))},P.\u0275cmp=o.Xpm({type:P,selectors:[["medisy-form-field-title"]],standalone:!0,features:[o._Bn([l.r]),o.qOj,o.jDz],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(S,d){1&S&&o._UZ(0,"sz-ui-form-field-select",0),2&S&&o.Q6J("formControl",d.control)("items",d.items)("label",d.label)("placeholder",d.placeholder)("emptyOption",d.emptyOption)("multiple",d.multiple)("contentFn",d.contentFormat)},dependencies:[n.UX,n.JJ,n.oH,a.g,C.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),P})()},465:(D,E,t)=>{t.d(E,{X:()=>l});var n=t(5879);let l=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({}),i})()},9060:(D,E,t)=>{t.d(E,{Y:()=>l});var n=t(5879);let l=(()=>{class i{transform(a,o=!1){if(!a.names||0===a.names.length)return`${a.id}`;const C=a.names[0].firstName,f=a.names[0].lastName,P=f?`${C} ${f}`:`${C}`;return o&&a.birthDate?""+(+new Date-+a.birthDate):P}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=n.Yjl({name:"personName",type:i,pure:!0,standalone:!0}),i})()},5746:(D,E,t)=>{t.d(E,{l:()=>i});var n=t(9155),l=t(5879);let i=(()=>{class r{transform(o){switch(o){case n.m.Female:return "Female";case n.m.Male:return "Male";default:return""}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275pipe=l.Yjl({name:"sexI18n",type:r,pure:!0,standalone:!0}),r})()},1886:(D,E,t)=>{t.d(E,{r:()=>i});var n=t(6439),l=t(5879);let i=(()=>{class r{transform(o){switch(o){case n.D.Miss:return "Miss";case n.D.Mr:return "Mr";case n.D.Mrs:return "Mrs";case n.D.Ms:return "Ms";default:return""}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275pipe=l.Yjl({name:"titleI18n",type:r,pure:!0,standalone:!0}),r})()},9155:(D,E,t)=>{t.d(E,{m:()=>n});var n=(()=>((n=n||{}).Male="Male",n.Female="Female",n))()},6439:(D,E,t)=>{t.d(E,{D:()=>n});var n=(()=>((n=n||{}).Mr="Mr",n.Mrs="Mrs",n.Miss="Miss",n.Ms="Ms",n))()}}]);