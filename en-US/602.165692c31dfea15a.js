"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[602],{2602:(R,O,o)=>{o.r(O),o.d(O,{ReferenceValuesModule:()=>W});var f=o(6814),a=o(6223),_=o(2296),u=o(7700),p=o(617),n=o(8109),T=o(8380),A=o(758),S=o(3576),g=o(5041),h=o(7239),i=o(3572),E=o(2191),d=o(9598),c=o(8721),C=o(8180),L=o(4889),v=o(1175),U=o(2462),e=o(5879),D=o(9862);let N=(()=>{class l extends U.p{constructor(t){super(t,"medisy-laboratory/v1/units"),this.http=t}}return l.\u0275fac=function(t){return new(t||l)(e.LFG(D.eN))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var y=o(6893),z=o(8930);let I=(()=>{class l extends y.m{constructor(t,r){super(t),this.ngControl=t,this.unitService=r,this.label="Unit",this.contentFormat=s=>s.name,this.valueFormat=s=>s.id,this.items$=this.unitService.getItems(d.J.unpagedSorted("name")).pipe((0,C.q)(1),(0,c.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(a.a5,10),e.Y36(N))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[e._Bn([N]),e.qOj,e.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(t,r){1&t&&(e._UZ(0,"sz-ui-form-field-select",0),e.ALo(1,"async")),2&t&&e.Q6J("formControl",r.control)("indicator",r.indicator)("items",e.lcZ(1,9,r.items$))("label",r.label)("placeholder",r.placeholder)("emptyOption",r.emptyOption)("multiple",r.multiple)("contentFn",r.contentFormat)("valueFn",r.valueFormat)},dependencies:[f.ez,f.Ov,a.UX,a.JJ,a.oH,z.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]}),l})();var Y=o(7263),P=o(4622),F=o(6091);let V=(()=>{class l extends S.Z2{constructor(t,r,s){super(r),this.fb=t,this.dialog=r,this.data=s,this.comparisonOperators=Object.values(Y.v),this.form=t.group({testClassId:[s.testClassId],unitId:[s.unitId],includeLaboratoryIds:[s.includeLaboratoryIds]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(a.qu),e.Y36(u.so),e.Y36(u.WI))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-reference-values-filter"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(t,r){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&t&&(e.Q6J("header",r.header),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("actions",r.actions))},dependencies:[f.ez,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,u.Is,u.xY,S.su,P.Y,F.t,v.U,I,L.w],encapsulation:2}),l})();var $=o(5986),X=o(9157),J=o(6187),Z=o(9004),x=o(5974),B=o(8873);let G=(()=>{class l extends S.Ku{constructor(t,r,s,M){super(s),this.referenceValueService=t,this.fb=r,this.dialog=s,this.data=M,this.form=r.group({description:[M?.description,[a.kI.maxLength(4096)]],testClassId:[M?.testClassId,[a.kI.required]],unitId:[M?.unitId,[]],multiplier:[M?.multiplier,[]]})}submit(){this.IsValid()&&this.save(this.data?this.referenceValueService.update(this.data.id,this.form.value):this.referenceValueService.create(this.form.value))}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(T.U),e.Y36(a.qu),e.Y36(u.so),e.Y36(u.WI))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-analysis-management-reference-values-save"]],standalone:!0,features:[e._Bn([J.T]),e.qOj,e.jDz],decls:8,vars:3,consts:function(){let m,t;return m="Description",t="Multiplier",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",m],["formControlName","unitId"],["formControlName","multiplier","label",t],["formControlName","testClassId"],[3,"actions"]]},template:function(t,r){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),e.qZA()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&t&&(e.Q6J("header",r.header),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(5),e.Q6J("actions",r.actions))},dependencies:[f.ez,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,u.Is,u.xY,X.lN,$.p9,S.su,P.Y,F.t,Z.g,x.g,B.L,I,v.U],encapsulation:2}),l})();var b=o(2516),Q=o(8359),j=o(3144);const K=[{path:"",component:(()=>{class l{constructor(t,r){this.dialog=t,this.valueReferenceService=r,this.dataSource=new i.b2(d.J.paged()),this.dataSource.columns=[i.UC.hyperlink("testClass","Test class",s=>s.id,s=>s.testClass.name),i.UC.text("unit","Unit",s=>s.multiplier?`10^${s.multiplier.toExponential(0).split("e").map(M=>Number(M))[1]}/${s.unit?.abbreviation}`:s.unit?.abbreviation),E.h.createdAt(),E.h.menu([i.od.edit(s=>this.openSaveComponent(s)),i.od.delete(s=>this.openReferenceValueDeleteComponent(s))])],this.get()}openSaveComponent(t){this.dialog.open(G,{data:t}).afterClosed().pipe((0,C.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(V,{data:this.dataSource.filterModel}).afterClosed().pipe((0,C.q)(1)).subscribe(r=>{this.dataSource.updateFilterModel(r),this.get()})}openReferenceValueDeleteComponent(t){this.dialog.open(S.fN,{data:S.cb.delete(this.valueReferenceService.delete(t.id),t)}).afterClosed().pipe((0,C.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.valueReferenceService.get(this.dataSource.filterModel).pipe((0,c.sU)(this.dataSource.indicator),(0,C.q)(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(u.uw),e.Y36(T.U))},l.\u0275cmp=e.Xpm({type:l,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let m,t;return m="Reference Values",t="Add",[["start","",1,"sz-h5"],m,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(t,r){1&t&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return r.get()})("filter",function(){return r.openFilterComponent()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return r.get()}),e.qZA()),2&t&&(e.xp6(3),e.Q6J("dataSource",r.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",r.dataSource))},dependencies:[_.lW,b.z,Q.K,j.f],encapsulation:2}),l})()}];let W=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[T.U],imports:[f.ez,a.u5,a.UX,n.Bz.forChild(K),u.Is,p.Ps,_.ot,g.n,i.Vn,h.h,A.E3,S.su]}),l})()},8873:(R,O,o)=>{o.d(O,{L:()=>h});var f=o(6814),a=o(6223),_=o(9157),u=o(2032),p=o(2757),n=o(5879);function T(i,E){if(1&i&&(n.TgZ(0,"mat-label"),n._uU(1),n.qZA()),2&i){const d=n.oxw();n.xp6(1),n.Oqu(d.label)}}function A(i,E){1&i&&(n.TgZ(0,"mat-error"),n.SDv(1,3),n.qZA())}function S(i,E){1&i&&(n.TgZ(0,"mat-error"),n.SDv(1,4),n.qZA())}function g(i,E){1&i&&(n.TgZ(0,"mat-error"),n.SDv(1,5),n.qZA())}let h=(()=>{class i extends p.l{constructor(d){super(d),this.ngControl=d}ngOnInit(){this.control=this.ngControl.control}writeValue(d){this.value=d}}return i.\u0275fac=function(d){return new(d||i)(n.Y36(a.a5,10))},i.\u0275cmp=n.Xpm({type:i,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[n.qOj,n.jDz],decls:7,vars:7,consts:function(){let E,d,c;return E="This field is required",d="This field has insufficient length",c="This field exceeds the maximum length",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],E,d,c]},template:function(d,c){1&d&&(n.TgZ(0,"mat-form-field",0),n.YNc(1,T,2,1,"mat-label",1),n.TgZ(2,"textarea",2),n._uU(3,"  "),n.qZA(),n.YNc(4,A,2,0,"mat-error",1),n.YNc(5,S,2,0,"mat-error",1),n.YNc(6,g,2,0,"mat-error",1),n.qZA()),2&d&&(n.xp6(1),n.Q6J("ngIf",c.label),n.xp6(1),n.Q6J("formControl",c.control)("value",c.value)("placeholder",c.placeholder),n.xp6(2),n.Q6J("ngIf",c.control.hasError("required")),n.xp6(1),n.Q6J("ngIf",c.control.hasError("minlength")),n.xp6(1),n.Q6J("ngIf",c.control.hasError("maxlength")))},dependencies:[f.ez,f.O5,a.UX,a.Fj,a.JJ,a.oH,_.lN,_.KE,_.hX,_.TO,u.c,u.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})()},9004:(R,O,o)=>{o.d(O,{g:()=>u});var f=o(5974),a=o(8873),_=o(5879);let u=(()=>{class p{}return p.\u0275fac=function(T){return new(T||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[f.g,a.L]}),p})()}}]);