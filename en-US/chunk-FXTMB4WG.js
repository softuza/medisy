import{a as x}from"./chunk-3KMPWA2S.js";import{a as ze}from"./chunk-6P4C37MQ.js";import{b as be}from"./chunk-5D7OMFN2.js";import{a as Le}from"./chunk-RCF34KUN.js";import{a as J}from"./chunk-IWR3KYJK.js";import{b as q,d as Ie,e as De,g as Ae,i as Pe,s as Re,t as ye}from"./chunk-LIUTUGIN.js";import{a as G}from"./chunk-SUUMCV2R.js";import{c as V,g as Ne,h as Te,i as $,j as Y,l as ve,m as T,n as Fe}from"./chunk-TXP6BBJB.js";import{a as b,b as z,d as he,e as L,g as N}from"./chunk-BVSJJDLC.js";import{A as Ce,C as Ee,D as ge,a as me,b as se,h as de,i as pe,p as ue,y as Se,z as Me}from"./chunk-GXEPFKEQ.js";import{d as H,f as te,g as O,h as D,l as A,m as ie,n as P,o as R,p as y,r as oe,s as f}from"./chunk-2OZGA6L4.js";import{a as Oe}from"./chunk-YG5GW4EW.js";import{a as c}from"./chunk-KQSWIXX2.js";import{b as U}from"./chunk-SNKHLPW5.js";import"./chunk-WM5ABWWX.js";import"./chunk-WKFGKHHI.js";import{e as re,f as _e,g as fe}from"./chunk-KIPWFCJ2.js";import{i as w}from"./chunk-Y2P4J75K.js";import"./chunk-5XV2VVI7.js";import"./chunk-E52CL7TM.js";import{Ka as ne,Pa as ae,Ra as le,Ua as ce}from"./chunk-KZIHA7KF.js";import{$b as g,Bb as l,Cb as m,Db as p,L as u,Nb as C,Rb as E,Tb as X,Yb as I,Zb as k,cb as n,cc as h,da as K,db as d,kb as M,la as _,ma as Q,nb as a,tb as v,ub as S,wb as W,xb as Z,yb as ee}from"./chunk-6MBKLWBV.js";function je(r,t){if(r&1&&(l(0,"mat-label"),I(1),m()),r&2){let F=X();n(1),k(F.label);}}function Xe(r,t){r&1&&(l(0,"mat-option"),I(1,"-"),m());}function ke(r,t){if(r&1&&(l(0,"mat-option",3),I(1),m()),r&2){let F=t.$implicit,i=X();a("value",i.getOptionValue(F)),n(1),k(i.getOptionContent(F));}}function He(r,t){r&1&&(l(0,"mat-error"),C(1,4),m());}function we(r,t){r&1&&(l(0,"mat-error"),C(1,5),m());}function qe(r,t){r&1&&(l(0,"mat-error"),C(1,6),m());}function Je(r,t){r&1&&p(0,"mat-progress-bar",2);}var j=(()=>{let t=class t extends ue{constructor(i,o){super(i),this.ngControl=i,this.mlabService=o,this.label=Oe.unit;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.units.get({pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:"name"}).pipe(u(1),V(this.indicator)).subscribe(i=>{this.options.push(...i.items),this.totalPages=i.totalPages;});}};t.ɵfac=function(o){return new(o||t)(d(te,10),d(c));},t.ɵcmp=_({type:t,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[g([c]),M,h],decls:11,vars:10,consts:()=>{let i;i="This field is required";let o;o="This field does not the minimum length";let e;return e="This field exceeds the maximum length",[[2,"position","relative"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],i,o,e];},template:function(o,e){o&1&&(l(0,"div",0)(1,"mat-form-field"),v(2,je,2,1,"mat-label"),l(3,"mat-select",1),E("szScrolled",function(){return e.scroll();}),v(4,Xe,2,0,"mat-option"),Z(5,ke,2,2,"mat-option",3,W),m(),v(7,He,2,0,"mat-error")(8,we,2,0,"mat-error")(9,qe,2,0,"mat-error"),m(),v(10,Je,1,0,"mat-progress-bar",2),m()),o&2&&(n(2),S(2,e.label?2:-1),n(1),a("formControl",e.control)("multiple",e.multiple)("placeholder",e.placeholder)("szScrollIgnored",e.indicator()),n(1),S(4,e.emptyOption?4:-1),ee(5,e.options),n(3),S(7,e.control.hasError("required")?7:-1),n(1),S(8,e.control.hasError("min")?8:-1),n(1),S(9,e.control.hasError("max")?9:-1),n(1),S(10,e.indicator()?10:-1));},dependencies:[f,O,ie,Ce,de,me,se,Me,ne,fe,_e,be],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let r=t;return r;})();var Ye=(()=>{let t=class t extends Ne{constructor(i,o,e){super(o),this.fb=i,this.dialog=o,this.data=e,this.comparisonOperators=Object.values(Le),this.form=i.group({testClassId:[e.testClassId],unitId:[e.unitId],includeLaboratoryIds:[e.includeLaboratoryIds]});}submit(){this.IsValid()&&this.dialog?.close(this.form.value);}};t.ɵfac=function(o){return new(o||t)(d(y),d(b),d(z));},t.ɵcmp=_({type:t,selectors:[["medisy-reference-values-filter"]],standalone:!0,features:[g([]),M,h],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(o,e){o&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),m()(),p(6,"sz-ui-dialog-actions",5)),o&2&&(a("header",e.header),n(2),a("formGroup",e.form),n(1),a("emptyOption",!0),n(1),a("emptyOption",!0),n(1),a("multiple",!0),n(1),a("actions",e.actions));},dependencies:[f,A,O,D,P,R,N,L,T,$,Y,x,j,ze],encapsulation:2});let r=t;return r;})();var Ge=(()=>{let t=class t extends Te{constructor(i,o,e,s){super(e),this.mlabService=i,this.fb=o,this.dialog=e,this.data=s,this.form=o.group({description:[s?.description,[H.maxLength(4096)]],testClassId:[s?.testClassId,[H.required]],unitId:[s?.unitId,[]],multiplier:[s?.multiplier,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceValues.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceValues.create(this.form.value)));}};t.ɵfac=function(o){return new(o||t)(d(c),d(y),d(b),d(z));},t.ɵcmp=_({type:t,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[g([]),M,h],decls:8,vars:3,consts:()=>{let i;i="Description";let o;return o="Multiplier",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",i],["formControlName","unitId"],["formControlName","multiplier","label",o],["formControlName","testClassId"],[3,"actions"]];},template:function(o,e){o&1&&(p(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),m()(),p(7,"sz-ui-dialog-actions",6)),o&2&&(a("header",e.header),n(2),a("formGroup",e.form),n(5),a("actions",e.actions));},dependencies:[f,A,O,D,P,R,N,L,pe,Pe,T,$,Y,ge,Se,Ee,j,x],encapsulation:2});let r=t;return r;})();var xe=(()=>{let t=class t{constructor(i,o){this.dialog=i,this.mlabService=o,this.title=G.referenceValues,this.dataSource=new Ie(),this.dataSource.addRows(De.default([q.hyperlink("testClass",G.testClass,e=>e.id,e=>e.testClass.name),q.text("unit",G.unit,e=>e.multiplier?`10^${e.multiplier.toExponential(0).split("e").map(s=>Number(s))[1]}/${e.unit?.abbreviation}`:e.unit?.abbreviation),J.createdAt(),J.menu([w.edit(e=>this.openSaveComponent(e)),w.delete(e=>this.openReferenceValueDeleteComponent(e))])])),this.get();}openSaveComponent(i){this.dialog.open(Ge,{data:i}).afterClosed().pipe(u(1)).subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openFilterComponent(){this.dialog.open(Ye,{data:this.dataSource.filter}).afterClosed().pipe(u(1)).subscribe(i=>{this.dataSource.updateFilter(i),this.get();});}openReferenceValueDeleteComponent(i){this.dialog.open(ve,{data:Fe.delete(this.mlabService.referenceValues.delete(i.id),i)}).afterClosed().pipe(u(1)).subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.referenceValues.get(this.dataSource.filter,this.dataSource.pagination).pipe(V(this.dataSource.indicator),u(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};t.ɵfac=function(o){return new(o||t)(d(he),d(c));},t.ɵcmp=_({type:t,selectors:[["medisy-laboratory-reference-values"]],decls:6,vars:4,consts:()=>{let i;return i="Add",[[3,"title"],[3,"filter","search","filterClicked"],["mat-flat-button","","color","primary","start","",3,"click"],i,[3,"stateEnabled","dataSource","update"]];},template:function(o,e){o&1&&(p(0,"sz-ui-header-info",0),l(1,"sz-ui-table-filter",1),E("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),l(2,"button",2),E("click",function(){return e.openSaveComponent();}),l(3,"span"),C(4,3),m()()(),l(5,"sz-ui-table",4),E("update",function(){return e.get();}),m()),o&2&&(a("title",e.title),n(1),a("filter",e.dataSource.filter),n(4),a("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[ae,U,Re,Ae],encapsulation:2});let r=t;return r;})();var Be=[{path:"",component:xe}];var Si=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=Q({type:t}),t.ɵinj=K({providers:[c],imports:[oe,f,re.forChild(Be),N,ce,le,U,ye,T]});let r=t;return r;})();export{Si as ReferenceValuesModule};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/