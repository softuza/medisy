"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[685],{4469:(E,c,t)=>{t.r(c),t.d(c,{LaboratoryEmailsComponent:()=>R});var a=t(2296),o=t(8109),r=t(8262),m=t(9899),S=t(2516),l=t(3562),y=t(9598),T=t(8721),O=t(8180),u=t(6223),i=t(7700),C=t(5931),e=t(5879),p=t(4622),A=t(6091);let _=(()=>{class h extends m.Z2{constructor(d,n,s){super(n),this.fb=d,this.dialog=n,this.data=s,this.form=d.group({emailType:[s.emailType]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}static#e=this.\u0275fac=function(n){return new(n||h)(e.Y36(u.qu),e.Y36(i.so),e.Y36(i.WI))};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["medisy-laboratory-emails-filter"]],standalone:!0,features:[e.qOj,e.jDz],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","emailType"],[3,"actions"]],template:function(n,s){1&n&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-email-type",2),e.qZA()(),e._UZ(4,"sz-ui-dialog-actions",3)),2&n&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(2),e.Q6J("actions",s.actions))},dependencies:[u.UX,u._Y,u.JJ,u.JL,u.sg,u.u,m.su,p.Y,A.t,i.Is,i.xY,C.N],encapsulation:2})}return h})();var z=t(3712),P=t(5781),M=t(6883),g=t(5974),L=t(8873);let v=(()=>{class h extends m.Ku{constructor(d,n,s,f){super(s),this.mlabService=d,this.fb=n,this.dialog=s,this.data=f,this.form=n.group({value:[f.laboratoryEmail?.value,[u.kI.required,u.kI.email]],description:[f.laboratoryEmail?.description,[]],emailType:[f.laboratoryEmail?.emailType??z.V.Public,[u.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.laboratoryEmail?this.mlabService.laboratories.emails.update(this.data.laboratoryId,this.data.laboratoryEmail?.id,this.form.value):this.mlabService.laboratories.emails.create(this.data.laboratoryId,this.form.value))}static#e=this.\u0275fac=function(n){return new(n||h)(e.Y36(M.t),e.Y36(u.qu),e.Y36(i.so),e.Y36(i.WI))};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["medisy-laboratory-emails-save"]],standalone:!0,features:[e.qOj,e.jDz],decls:7,vars:3,consts:function(){let d,n;return d="Description",n="Email",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",d],["formControlName","value","label",n],["formControlName","emailType"],[3,"actions"]]},template:function(n,s){1&n&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-email-type",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&n&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(4),e.Q6J("actions",s.actions))},dependencies:[u.UX,u._Y,u.JJ,u.JL,u.sg,u.u,m.su,p.Y,A.t,i.Is,i.xY,P.g2,g.g,L.L,C.N],encapsulation:2})}return h})();var N=t(8359),$=t(3144);let R=(()=>{class h{constructor(d,n,s){this.dialog=d,this.mlabService=n,this.route=s,this.dataSource=new l.b2(y.J.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(l.zP.default([l.UC.text("value","Email"),r.h.createdAt(),r.h.menu([l.od.edit(f=>{this.openSaveComponent(f)}),l.od.delete(f=>{this.openEmailDeleteComponent(f)})])])),this.get()}openSaveComponent(d){this.dialog.open(v,{data:{laboratoryId:this.laboratory.id,laboratoryEmail:d}}).afterClosed().pipe((0,O.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(_,{data:this.dataSource.filterModel}).afterClosed().pipe((0,O.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openEmailDeleteComponent(d){this.dialog.open(m.fN,{data:m.cb.delete(this.mlabService.laboratories.emails.delete(d.laboratoryId,d.id),d)}).afterClosed().pipe((0,O.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.mlabService.laboratories.emails.get(this.laboratory.id,this.dataSource.filterModel).pipe((0,T.sU)(this.dataSource.indicator)).pipe((0,O.q)(1)).subscribe(d=>{this.dataSource.set(d.items,d.count)})}static#e=this.\u0275fac=function(n){return new(n||h)(e.Y36(i.uw),e.Y36(M.t),e.Y36(o.gz))};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["medisy-laboratory-emails"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:function(){let d,n;return d="Emails",n="Add",[["start",""],[1,"sz-h5"],d,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],n,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(n,s){1&n&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.qZA()()(),e.TgZ(6,"sz-ui-table-filter",4),e.NdJ("search",function(){return s.get()})("filter",function(){return s.openFilterComponent()}),e.TgZ(7,"button",5),e.NdJ("click",function(){return s.openSaveComponent()}),e.TgZ(8,"span"),e.SDv(9,6),e.qZA()()(),e.TgZ(10,"sz-ui-table",7),e.NdJ("update",function(){return s.get()}),e.qZA()),2&n&&(e.xp6(5),e.Oqu(s.laboratory.name),e.xp6(1),e.Q6J("dataSource",s.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",s.dataSource))},dependencies:[o.Bz,o.rH,a.ot,a.lW,S.z,l.Vn,N.K,$.f],encapsulation:2})}return h})()},8262:(E,c,t)=>{t.d(c,{h:()=>m});var a=t(3562),o=t(7311);const r={documentType:"Document Type",comparisonType:"Comparison Operator",emailType:"Email Type",phoneType:"Phone Type"};class m{static menu(l){return a.UC.action("menu",l)}static code(){return a.UC.text("code","Code")}static createdAt(){return a.UC.date("createdAt",o.O.createdDate)}static updatedAt(){return a.UC.date("updatedAt",o.O.updatedDate)}static id(){return a.UC.text("id",o.O.id)}static nameHyperlink(l,y,T){return a.UC.hyperlink("name",o.O.name,l,y,T)}static nameText(l){return a.UC.text("name",o.O.name,l)}static phoneType(l){return a.UC.text("phoneType",r.phoneType,l)}static emailType(l){return a.UC.text("emailType",r.emailType,l)}static documentType(l){return a.UC.text("documentType",r.documentType,l)}static comparisonOperator(l){return a.UC.text("comparisonOperator",r.comparisonType,l)}}},7311:(E,c,t)=>{t.d(c,{O:()=>a});const a={id:"Id",name:"Name",description:"Description",updatedDate:"Updated Date",createdDate:"Created Date",tests:"Tests"}},7076:(E,c,t)=>{t.d(c,{y:()=>u});var a=t(3712),o=t(1101),r=t(7263),m=function(i){return i.Validated="Validated",i.Returned="Returned",i.Forwarded="Forwarded",i.Destroyed="Destroyed",i.Collected="Collected",i.Accepted="Accepted",i.Created="Created",i}(m||{}),S=function(i){return i.Created="Created",i.Pending="Pending",i.Started="Started",i.Finished="Finished",i}(S||{}),l=t(1646),y=t(9155),T=t(6494),O=t(5879);let u=(()=>{class i{transform(e,p=!1){return e in r.v?this.transformComparisonOperator(e,p):e in S?this.transformTestState(e):e in m?this.transformSpecimenState(e):e in a.V?this.transformEmailType(e):e in o.z?this.transformPhoneType(e):e in y.m?this.transformSex(e):e in l.n?this.transformDocumentType(e):e in T.x?this.transformChannelType(e):""}transformComparisonOperator(e,p){switch(e){case r.v.Equal:return p?"==":"Equal";case r.v.GreaterThan:return p?">":"GreaterThan";case r.v.GreaterThanOrEqual:return p?">=":"GreaterThanOrEqual";case r.v.LessThan:return p?"<":"LessThan";case r.v.LessThanOrEqual:return p?"<=":"LessThanOrEqual";case r.v.RangeWithBoundaries:return p?"<==>":"RangeWithBoundaries";case r.v.RangeWithoutBoundaries:return p?"<>":"RangeWithoutBoundaries";case r.v.Not:return p?"!=":"Not";default:return""}}transformTestState(e){switch(e){case S.Created:return "Created";case S.Started:return "Started";case S.Finished:return "Finished";case S.Pending:return "Pending";default:return""}}transformSpecimenState(e){switch(e){case m.Accepted:return "Accepted";case m.Collected:return "Collected";case m.Destroyed:return "Destroyed";case m.Forwarded:return "Forwarded";case m.Validated:return "Validated";case m.Created:return "Created";default:return""}}transformEmailType(e){switch(e){case a.V.Private:return "Private";case a.V.Public:return "Public";case a.V.Work:return "Work";default:return""}}transformPhoneType(e){switch(e){case o.z.Home:return "Home";case o.z.Mobile:return "Mobile";case o.z.Work:return "Work";default:return""}}transformSex(e){switch(e){case y.m.Female:return "Female";case y.m.Male:return "Male";default:return""}}transformDocumentType(e){switch(e){case l.n.BankCard:return "Bank Card";case l.n.DriverLicense:return "Driver License";case l.n.NationalCard:return "National Card";case l.n.Passport:return "Passport";case l.n.TravelDocument:return "Travel Document";case l.n.Other:return "Other";default:return""}}transformChannelType(e){switch(e){case T.x.Email:return "Email";case T.x.Sms:return "SMS";case T.x.Push:return "Push";default:return""}}static#e=this.\u0275fac=function(p){return new(p||i)};static#t=this.\u0275pipe=O.Yjl({name:"typeI18n",type:i,pure:!0,standalone:!0})}return i})()},3712:(E,c,t)=>{t.d(c,{V:()=>a});var a=function(r){return r.Private="Private",r.Public="Public",r.Work="Work",r}(a||{});Object.keys(a).map(r=>a[r])},1101:(E,c,t)=>{t.d(c,{z:()=>a});var a=function(r){return r.Home="Home",r.Mobile="Mobile",r.Work="Work",r}(a||{});Object.keys(a).map(r=>a[r])},7263:(E,c,t)=>{t.d(c,{v:()=>a});var a=function(o){return o.Equal="Equal",o.GreaterThan="GreaterThan",o.GreaterThanOrEqual="GreaterThanOrEqual",o.LessThan="LessThan",o.LessThanOrEqual="LessThanOrEqual",o.Not="Not",o.RangeWithBoundaries="RangeWithBoundaries",o.RangeWithoutBoundaries="RangeWithoutBoundaries",o}(a||{})},1646:(E,c,t)=>{t.d(c,{n:()=>a});var a=function(r){return r.NationalCard="NationalCard",r.BankCard="BankCard",r.DriverLicense="DriverLicense",r.Passport="Passport",r.TravelDocument="TravelDocument",r.Other="Other",r}(a||{});Object.keys(a).map(r=>a[r])},9155:(E,c,t)=>{t.d(c,{m:()=>a});var a=function(r){return r.Male="Male",r.Female="Female",r}(a||{});Object.keys(a).map(r=>a[r])},6494:(E,c,t)=>{t.d(c,{x:()=>a});var a=function(o){return o.Email="Email",o.Sms="Sms",o.Push="Push",o}(a||{})}}]);