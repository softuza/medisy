import{a as Re}from"./chunk-J54BLCXQ.js";import{a as Ie,b as ge}from"./chunk-M4J57Y3X.js";import{a as Ce}from"./chunk-LNYNLAOJ.js";import{d as Pe,f as Me,g as pe,j as fe}from"./chunk-WR4GG44T.js";import{j as te,k as oe,l as ie,m as re,n as ne,o as ae,q as _e,t as le}from"./chunk-XIKUJ2RB.js";import{a as I}from"./chunk-53VWZ5ER.js";import{a as O}from"./chunk-PCAOWVUV.js";import{a as me,b as se,d as Se,e as Ee,g as N}from"./chunk-U5WHS54P.js";import"./chunk-USWRGYS2.js";import{f as g}from"./chunk-A4RP7L5Q.js";import"./chunk-SIM3MWAY.js";import{a as C,b as ue,c as ce,e as Ne,o as Oe,p as Te}from"./chunk-BZORJMZ5.js";import"./chunk-V4HCCL3Z.js";import"./chunk-A4OPY5TW.js";import{b as de}from"./chunk-37GZDSHT.js";import{a as q,c as J,d as K,h as Q,i as W}from"./chunk-FJNI2GB6.js";import{b,g as G,h as U,l as X,n as B,o as k,p as j,s as x,u as H,v as V}from"./chunk-FEFUQJM2.js";import"./chunk-UPQBKJGY.js";import{a as R}from"./chunk-NW5OYJVI.js";import{a as T}from"./chunk-CVLFG5YI.js";import{H as w,Sa as Z,Ta as ee,k as v}from"./chunk-RQMADBIK.js";import{Ab as l,Kb as p,L as P,Mb as f,Sb as Y,Tb as u,Wb as c,Zb as y,cb as d,da as h,db as m,kb as z,la as M,ma as $,nb as s,yb as r,zb as n}from"./chunk-3PI2VV3G.js";var Le=(()=>{let o=class o extends Pe{constructor(i,t,e){super(t),this.fb=i,this.dialog=t,this.data=e,this.form=i.group({sex:[e.sex],title:[e.title],startBirthDate:[e.startBirthDate],endBirthDate:[e.endBirthDate],firstName:[e.firstName],lastName:[e.lastName],ssn:[e.ssn],nationalityId:[e.nationalityId],languageId:[e.languageId],motherName:[e.motherName],fatherName:[e.fatherName],middleName:[e.middleName],address:[e.address]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};o.ɵfac=function(t){return new(t||o)(m(j),m(me),m(se));},o.ɵcmp=M({type:o,selectors:[["medisy-people-persons-filter"]],standalone:!0,features:[c([]),z,y],decls:28,vars:7,consts:()=>{let i;i="First name";let t;t="Last name";let e;e="Middle name";let a;a="SSN";let S;S="BirthDate";let D;D="Start date";let L;L="End date";let F;F="Title";let A;return A="Address",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","firstName","label",i],["formControlName","lastName","label",t],["formControlName","middleName","label",e],["formControlName","nationalityId"],["formControlName","ssn","label",a],["formControlName","languageId"],[1,"tw-flex-1"],S,["startView","year",3,"rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder",D,"formControlName","startBirthDate"],["matEndDate","","placeholder",L,"formControlName","endBirthDate"],["matSuffix","",3,"for"],["datePicker",""],["formControlName","sex"],["formControlName","title","label",F],["formControlName","address","label",A],[3,"actions"]];},template:function(t,e){if(t&1&&(l(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1)(3,"div",2),l(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),n(),l(6,"sz-ui-form-field-input",5),r(7,"div",2),l(8,"medisy-form-field-nationality",6)(9,"sz-ui-form-field-input",7),n(),r(10,"div",2),l(11,"medisy-form-field-language",8),r(12,"mat-form-field",9)(13,"mat-label"),p(14,10),n(),r(15,"mat-date-range-input",11),l(16,"input",12)(17,"input",13),n(),r(18,"mat-hint"),u(19,"YYYY-MM-DD - YYYY-MM-DD"),n(),l(20,"mat-datepicker-toggle",14)(21,"mat-date-range-picker",null,15),n()(),r(23,"div",2),l(24,"medisy-form-field-sex",16)(25,"sz-ui-form-field-input",17),n(),l(26,"sz-ui-form-field-input",18),n()(),l(27,"sz-ui-dialog-actions",19)),t&2){let a=Y(22);s("header",e.header),d(2),s("formGroup",e.form),d(13),s("rangePicker",a)("comparisonStart",e.form.controls.startBirthDate.value)("comparisonEnd",e.form.controls.endBirthDate.value),d(5),s("for",a),d(7),s("actions",e.actions);}},dependencies:[x,X,b,G,U,B,k,fe,Me,pe,le,_e,W,Q,q,J,K,ae,te,re,oe,ie,ne,N,Ee,Ie,Ce,ge],encapsulation:2});let _=o;return _;})();var Fe=(()=>{let o=class o{constructor(i,t,e,a){this.dialog=i,this.mpplService=t,this.typeI18nPipe=e,this.personNamePipe=a,this.dataSource=new ue(R.paged()),this.dataSource.addRows(ce.default([C.hyperlink("names.firstName","Name",S=>S.id,S=>a.transform(S),!1),C.text("sex","Sex",S=>e.transform(S.sex)),C.date("birthDate","BirthDate")])),this.get();}openFilterComponent(){this.dialog.open(Le,{data:this.dataSource.filterModel}).afterClosed().pipe(P(1)).subscribe(t=>{this.dataSource.updateFilterModel(t),this.get();});}openPersonScanComponent(){this.dialog.open(Re).afterClosed().pipe(P(1)).subscribe(t=>{t&&(this.dataSource.filterModel=R.paged(),this.dataSource.filterModel.ssn=t.ssn,this.get());});}get(){this.mpplService.persons.get(this.dataSource.filterModel).pipe(de(this.dataSource.indicator),P(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};o.ɵfac=function(t){return new(t||o)(m(Se),m(O),m(g),m(I));},o.ɵcmp=M({type:o,selectors:[["medisy-people-persons"]],features:[c([g,v,I])],decls:8,vars:4,consts:()=>{let i;return i="Persons",[["start","",1,"sz-h5"],i,[3,"dataSource","search","filter"],["end","","mat-icon-button","",3,"click"],[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(t,e){t&1&&(r(0,"sz-ui-header-basic")(1,"h5",0),p(2,1),n()(),r(3,"sz-ui-table-filter",2),f("search",function(){return e.get();})("filter",function(){return e.openFilterComponent();}),r(4,"button",3),f("click",function(){return e.openPersonScanComponent();}),r(5,"mat-icon"),u(6,"barcode"),n()()(),r(7,"sz-ui-table",4),f("update",function(){return e.get();}),n()),t&2&&(d(3),s("dataSource",e.dataSource),d(4),s("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[H,Oe,Ne,T,Z],encapsulation:2});let _=o;return _;})();var Ae=[{path:"",component:Fe}];var Lt=(()=>{let o=class o{};o.ɵfac=function(t){return new(t||o)();},o.ɵmod=$({type:o}),o.ɵinj=h({providers:[O],imports:[w.forChild(Ae),N,V,Te,T,ee]});let _=o;return _;})();export{Lt as PersonsModule};/**i18n:c47ea6c8e33fa0c222c20e616e96e45afbcc3267e1e4f83fbed9283c01f003ba*/