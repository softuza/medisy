"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[400],{6400:(M,u,e)=>{e.r(u),e.d(u,{AnalysisModule:()=>tt});var o=e(6814),S=e(6223),i=e(4630),a=e(2296),r=e(5195),p=e(5986),A=e(3680),T=e(8034),g=e(7700),E=e(617),$=e(2032),L=e(9038),C=e(7988),z=e(1476),U=e(5940),R=e(8525),Z=e(3566),F=e(1545),B=e(5313),x=e(2596),v=e(8109),J=e(465),y=e(5738),X=e(758),K=e(2595),G=e(5341),Q=e(2169),j=e(5041),P=e(3572),t=e(5879),h=e(2191),N=e(9060),d=(()=>((d=d||{}).Created="Created",d.Pending="Pending",d.Started="Started",d.Finished="Finished",d))();let I=(()=>{class s{transform(n){switch(n){case d.Created:return "Created";case d.Started:return "Started";case d.Finished:return "Finished";case d.Pending:return "Pending";default:return""}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275pipe=t.Yjl({name:"testStateI18n",type:s,pure:!0,standalone:!0}),s})();var O=e(5348),V=e(9598),W=e(8721),Y=e(8180),H=e(6385),b=e(765),w=e(2516),k=e(5850);function q(s,c){1&s&&t._UZ(0,"sz-ui-card",13),2&s&&t.Q6J("card",c.$implicit)}const _=[{path:"",component:(()=>{class s{constructor(n,l,m,et,nt,D){this.dialog=n,this.route=l,this.analysisService=m,this.personService=et,this.personNamePipe=nt,this.testStatei18nPipe=D,this.alert$=(0,t.tdS)(void 0),this.testsDataSource=new P.b2(V.J.pagedSorted("-createdAt")),this.cards=[{counter:0,url:"samples",icon:"science",title:"Samples"}],this.analysis=this.route.snapshot.data.analysis,this.analysis.personId&&this.getPerson(),this.testsDataSource.columns=[P.UC.text("test.testclass","Test Class",f=>f.test.testClass.name),P.UC.text("test.state","State",f=>D.transform(f.test.state)),h.h.createdAt(),h.h.menu([])],this.getAnalysisTests()}getPerson(){this.personService.getPerson(this.analysis.personId).pipe((0,Y.q)(1)).subscribe(n=>{this.cards.splice(0,0,{subtitle:"Person",icon:"person",title:this.personNamePipe.transform(n),url:`mppl/persons/${n.id}`})})}openEditComponent(){}getAnalysisTests(){this.analysisService.getAnalysisTests(this.analysis.id,this.testsDataSource.filterModel).pipe((0,W.sU)(this.testsDataSource.indicator)).pipe((0,Y.q)(1)).subscribe(n=>{this.testsDataSource.set(n.items,n.count)})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(g.uw),t.Y36(v.gz),t.Y36(y.K),t.Y36(O.R),t.Y36(N.Y),t.Y36(I))},s.\u0275cmp=t.Xpm({type:s,selectors:[["medisy-laboratory-analysis"]],features:[t._Bn([y.K,O.R,N.Y,I])],decls:29,vars:7,consts:function(){let c,n,l;return c="Edit",n="Print",l="Tests",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],c,n,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-2","tw-py-2"],[3,"card",4,"ngFor","ngForOf"],l,[1,"tw-flex","tw-flex-col","tw-gap-2"],[3,"paginationEnabled","stateEnabled","dataSource","update"],[3,"card"]]},template:function(n,l){if(1&n&&(t.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),t._uU(3),t.qZA(),t.TgZ(4,"span",2),t._uU(5),t.qZA()(),t.TgZ(6,"button",3)(7,"mat-icon"),t._uU(8,"more_vert"),t.qZA()(),t.TgZ(9,"mat-menu",null,4)(11,"button",5),t.NdJ("click",function(){return l.openEditComponent()}),t.TgZ(12,"mat-icon"),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"span"),t.SDv(15,6),t.qZA()(),t._UZ(16,"mat-divider"),t.TgZ(17,"button",5),t.NdJ("click",function(){return l.openEditComponent()}),t.TgZ(18,"mat-icon"),t._uU(19,"print"),t.qZA(),t.TgZ(20,"span"),t.SDv(21,7),t.qZA()()()(),t.TgZ(22,"div",8),t.YNc(23,q,1,1,"sz-ui-card",9),t.qZA(),t.TgZ(24,"sz-ui-header-basic")(25,"span",0),t.SDv(26,10),t.qZA()(),t.TgZ(27,"div",11)(28,"sz-ui-table",12),t.NdJ("update",function(){return l.getAnalysisTests()}),t.qZA()()),2&n){const m=t.MAs(10);t.xp6(3),t.Oqu(l.analysis.code),t.xp6(2),t.Oqu(l.analysis.note),t.xp6(1),t.Q6J("matMenuTriggerFor",m),t.xp6(17),t.Q6J("ngForOf",l.cards),t.xp6(5),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",l.testsDataSource)}},dependencies:[o.sg,C.VK,C.OP,C.p6,E.Hw,a.RK,H.d,b.K,w.z,k.X],encapsulation:2}),s})()}];let tt=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[y.K],imports:[o.ez,S.u5,S.UX,v.Bz.forChild(_),g.Is,i.Bb,$.c,X.E3,G.SD,p.p9,C.Tx,E.Ps,a.ot,R.LD,F.T5,x.AV,L.ie,r.QW,U.Cq,A.XK,T.FA,P.Vn,j.n,B.p0,z.TU,Z.JX,Q.c,K.V,J.L]}),s})()},2191:(M,u,e)=>{e.d(u,{h:()=>S});var o=e(3572);class S{static menu(a){return o.UC.action("menu",a)}static code(){return o.UC.text("code","Code")}static createdAt(){return o.UC.date("createdAt","Created Date")}static updatedAt(){return o.UC.date("updatedAt","Updated Date")}static id(){return o.UC.text("id","Id")}static nameHyperlink(a,r,p){return o.UC.hyperlink("name","Name",a,r,p)}static nameText(a){return o.UC.text("name","Name",a)}static phoneType(a){return o.UC.text("phoneType","Phone Type",a)}static emailType(a){return o.UC.text("emailType","Email Type",a)}static documentType(a){return o.UC.text("documentType","Document Type",a)}static comparisonOperator(a){return o.UC.text("comparisonOperator","Comparison Operator",a)}}},465:(M,u,e)=>{e.d(u,{L:()=>S});var o=e(5879);let S=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})()},9060:(M,u,e)=>{e.d(u,{Y:()=>S});var o=e(5879);let S=(()=>{class i{transform(r,p=!1){if(!r.names||0===r.names.length)return`${r.id}`;const A=r.names[0].firstName,T=r.names[0].lastName,g=T?`${A} ${T}`:`${A}`;return p&&r.birthDate?""+(+new Date-+r.birthDate):g}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=o.Yjl({name:"personName",type:i,pure:!0,standalone:!0}),i})()}}]);