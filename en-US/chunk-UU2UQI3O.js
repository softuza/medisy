import{a as le}from"./chunk-AIABD6YE.js";import"./chunk-VLSORBJL.js";import{a as E}from"./chunk-4CCIOANG.js";import{b as U,c as ie,e as re,g as ae,s as ne,t as se}from"./chunk-DTDLQFEI.js";import{a as me}from"./chunk-LE7PIAIE.js";import{c as W,g as Z,h as ee,i as G,j as L,l as te,m as f,n as oe}from"./chunk-SN47SBJJ.js";import{a as R,b as I,d as Q,e as y,g as c}from"./chunk-FNLNZMXX.js";import{C as J,D as K,y as x}from"./chunk-H22FBATM.js";import{d as A,g as O,h as P,l as h,n as v,o as D,p as b,s as N}from"./chunk-IUM5Y4DP.js";import{a as Y}from"./chunk-V7FSE2VH.js";import{a as d}from"./chunk-UAYSNPL7.js";import{b as z}from"./chunk-2H6GRCHT.js";import"./chunk-HUJ4SFSJ.js";import{e as X}from"./chunk-7TGQVE3C.js";import{i as $}from"./chunk-HXVM5UCI.js";import"./chunk-QCDHUYXG.js";import"./chunk-QWTR64PL.js";import{Pa as w,Ra as H,Ua as q}from"./chunk-53RWJDYX.js";import{Bb as p,Cb as u,Db as l,L as M,Nb as k,Pb as T,Zb as _,ac as g,cb as m,da as B,db as s,kb as C,la as S,ma as j,nb as n}from"./chunk-M2QTEBXZ.js";var de=(()=>{let i=class i extends Z{constructor(o,t,e){super(t),this.fb=o,this.dialog=t,this.data=e,this.form=o.group({includeLaboratoryIds:[e.includeLaboratoryIds]});}submit(){this.IsValid()&&this.dialog?.close(this.form.value);}};i.ɵfac=function(t){return new(t||i)(s(b),s(R),s(I));},i.ɵcmp=S({type:i,selectors:[["medisy-test-groups-filter"]],standalone:!0,features:[_([]),C,g],decls:5,vars:4,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(t,e){t&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),l(3,"medisy-form-field-laboratory",2),u()(),l(4,"sz-ui-dialog-actions",3)),t&2&&(n("header",e.header),m(2),n("formGroup",e.form),m(1),n("multiple",!0),m(1),n("actions",e.actions));},dependencies:[N,h,O,P,v,D,c,y,f,G,L,le],encapsulation:2});let r=i;return r;})();var ue=(()=>{let i=class i extends ee{constructor(o,t,e,a){super(e),this.mlabService=o,this.fb=t,this.dialog=e,this.data=a,this.form=t.group({name:[a?.name,[A.required,A.minLength(1)]],abbreviation:[a?.abbreviation,[]],description:[a?.description,[]],purpose:[a?.purpose,[]],isFavorite:[a?.isFavorite??!1,[A.required]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.testGroups.create(this.form.value)));}};i.ɵfac=function(t){return new(t||i)(s(d),s(b),s(R),s(I));},i.ɵcmp=S({type:i,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[_([]),C,g],decls:8,vars:3,consts:()=>{let o;o="Name";let t;t="Abbreviation";let e;e="Description";let a;return a="Purpose",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","abbreviation","label",t],["formControlName","description","label",e],["formControlName","purpose","label",a],[3,"actions"]];},template:function(t,e){t&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),l(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-textarea",4)(6,"sz-ui-form-field-textarea",5),u()(),l(7,"sz-ui-dialog-actions",6)),t&2&&(n("header",e.header),m(2),n("formGroup",e.form),m(5),n("actions",e.actions));},dependencies:[N,h,O,P,v,D,c,y,f,G,L,K,x,J],encapsulation:2});let r=i;return r;})();var Se=(()=>{let i=class i{constructor(o,t){this.dialog=o,this.mlabService=t,this.title=me.testGroups,this.dataSource=new re(),this.dataSource.addRows(ie.default([E.code().makeCompact(),E.nameHyperlink(e=>e.id,e=>e.name),U.text("abbreviation",Y.abbreviation),E.createdAt(),U.checkbox("isFavorite",Y.favorite,(e,a)=>{e.isFavorite=a,this.updateItem(e);}),E.menu([$.edit(e=>this.openSaveComponent(e)),$.delete(e=>this.openTestGroupDeleteComponent(e))])])),this.get();}openFilterComponent(){this.dialog.open(de,{data:this.dataSource.filter}).afterClosed().pipe(M(1)).subscribe(o=>{this.dataSource.updateFilter(o),this.get();});}openSaveComponent(o){this.dialog.open(ue,{data:o}).afterClosed().pipe(M(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openTestGroupDeleteComponent(o){this.dialog.open(te,{data:oe.delete(this.mlabService.testGroups.delete(o.id),o)}).afterClosed().pipe(M(1)).subscribe(t=>{this.dataSource.delete(t);});}updateItem(o){this.mlabService.testGroups.update(o.id,o).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.testGroups.get(this.dataSource.buildRequest()).pipe(W(this.dataSource.indicator),M(1)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)(s(Q),s(d));},i.ɵcmp=S({type:i,selectors:[["medisy-laboratory-test-groups"]],features:[_([d])],decls:6,vars:4,consts:()=>{let o;return o="Add",[[3,"title"],[3,"filter","search","filterClicked"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"stateEnabled","dataSource","update"]];},template:function(t,e){t&1&&(l(0,"sz-ui-header-info",0),p(1,"sz-ui-table-filter",1),T("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),p(2,"button",2),T("click",function(){return e.openSaveComponent();}),p(3,"span"),k(4,3),u()()(),p(5,"sz-ui-table",4),T("update",function(){return e.get();}),u()),t&2&&(n("title",e.title),m(1),n("filter",e.dataSource.filter),m(4),n("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[w,ne,ae,z],encapsulation:2});let r=i;return r;})();var _e=[{path:"",component:Se}];var _t=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=j({type:i}),i.ɵinj=B({providers:[d],imports:[X.forChild(_e),c,q,H,se,f,z]});let r=i;return r;})();export{_t as TestGroupsModule};/**i18n:57d51d98a1caf33655ef4bd810bc01e640b40122eced811536cfa6d9191b03b1*/