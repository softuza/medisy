import{g as $e}from"./chunk-UVUIWLYT.js";import"./chunk-3TMIVPR3.js";import{b as A}from"./chunk-MZELHHAN.js";import{b as Le}from"./chunk-5YI3XC3F.js";import{a as g}from"./chunk-KJ7FU5SA.js";import{a as Ie,b as Ae,c as he,d as Re,e as De}from"./chunk-LH5LWYTE.js";import{a as L}from"./chunk-DGZGNDN3.js";import{h as me}from"./chunk-5MJY3UW5.js";import{a as ye}from"./chunk-6RXJAO3W.js";import"./chunk-NE2FJIGN.js";import"./chunk-MU4JMO74.js";import{a as c}from"./chunk-ZBEOBPKM.js";import{f as ce,g as ge,h as Te,k as I}from"./chunk-7EU6K2NC.js";import"./chunk-EHOKLQZK.js";import"./chunk-PR3Q27H6.js";import{b as T}from"./chunk-VEKTXUJA.js";import{d as ue,g as C,h as fe,j as Pe,l as Ce}from"./chunk-KNA34EM4.js";import{a as re,b as _e,d as ae,e as le,g as f}from"./chunk-LR6GUTIR.js";import{c as Ee,d as de,m as pe,q as Me,r as Oe,t as Ne}from"./chunk-4KFHZTSJ.js";import"./chunk-4DTXIELG.js";import"./chunk-T5CCQ3IG.js";import"./chunk-ALHR4HEP.js";import{b as Se,c as P}from"./chunk-6SBR2WBP.js";import"./chunk-E4SPABR5.js";import{d as M,f as H,g as q,j as O,k as W,m as J,p as K,q as Q,s as Z,t as ee}from"./chunk-LVJI6PBQ.js";import"./chunk-IYBV62C4.js";import{a as oe,c as ie,e as te}from"./chunk-576WN54X.js";import{c as se}from"./chunk-42MYF47R.js";import{ia as ne}from"./chunk-5MDONEI4.js";import"./chunk-6TGWOZSV.js";import{Eb as X,Fb as Y,Gb as x,Hb as S,Ib as _,Jb as a,Tb as p,a as b,b as B,ha as F,ib as E,jb as s,jc as u,mc as j,qa as N,qb as U,qc as w,ra as G,rc as k,xb as m}from"./chunk-OHUDUA2T.js";var ze=(()=>{let e=class e extends ce{constructor(t,o,n,r){super(n),this.mpplService=t,this.fb=o,this.dialog=n,this.data=r,this.nationalities=this.mpplService.nationalities.getAll({orderBy:["name"]}),this.languages=this.mpplService.languages.getAll({orderBy:["name"]}),this.sexes=Object.keys(A).map(d=>A[d]),this.form=o.group({sex:[r.sex,[M.required]],languageId:[r.languageId,[M.required]],title:[r.title,[ye()]],ssn:[r.ssn,[]],nationalityId:[r.nationalityId,[]],birthDate:[r.birthDate,[]],primaryEmail:[r?.primaryEmail,[M.email]],secondaryEmail:[r?.secondaryEmail,[M.email]],mobilePhone:new O(r?.mobilePhone),homePhone:new O(r?.homePhone),workPhone:new O(r?.workPhone),homeAddress:new O(r?.homeAddress)});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,B(b({},this.form.value),{titleId:this.form.value.title?.id})));}};e.ɵfac=function(o){return new(o||e)(s(g),s(Q),s(re),s(_e));},e.ɵcmp=N({type:e,selectors:[["sz-medisy-people-person-save"]],standalone:!0,features:[u([]),U,j],decls:40,vars:7,consts:()=>{let t;t="Nationality";let o;o="SSN";let n;n="Language";let r;r="Sex";let d;d="Title";let h;h="BirthDate";let R;R="Home Address";let D;D="Mobile Phone";let y;y="Home Phone";let $;$="Work Phone";let v;v="Emails";let z;z="Primary Email";let V;return V="Secondary Email",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId","label",t,3,"source"],["formControlName","ssn","label",o],["formControlName","languageId","label",n,3,"source"],["formControlName","sex","label",r,3,"source","localizedValue"],["formControlName","title","label",d],["formControlName","birthDate","label",h],[1,"tw-mb-4"],["multi",""],R,["formControlName","homeAddress"],D,["formControlName","mobilePhone"],y,["formControlName","homePhone"],$,["formControlName","workPhone"],v,["formControlName","primaryEmail","label",z],["formControlName","secondaryEmail","label",V],[3,"actions"]];},template:function(o,n){o&1&&(a(0,"sz-ui-dialog-header",0),S(1,"mat-dialog-content")(2,"form",1)(3,"div",2),a(4,"sz-ui-form-field-select",3)(5,"sz-ui-form-field-input",4),_(),a(6,"sz-ui-form-field-select",5),S(7,"div",2),a(8,"sz-ui-form-field-select",6)(9,"sz-medisy-people-title-search",7),_(),a(10,"sz-ui-form-field-date",8),S(11,"div",9)(12,"mat-accordion",10)(13,"mat-expansion-panel")(14,"mat-expansion-panel-header")(15,"mat-panel-title"),p(16,11),_()(),a(17,"sz-ui-form-field-address",12),_(),S(18,"mat-expansion-panel")(19,"mat-expansion-panel-header")(20,"mat-panel-title"),p(21,13),_()(),a(22,"sz-ui-form-field-phone-number",14),_(),S(23,"mat-expansion-panel")(24,"mat-expansion-panel-header")(25,"mat-panel-title"),p(26,15),_()(),a(27,"sz-ui-form-field-phone-number",16),_(),S(28,"mat-expansion-panel")(29,"mat-expansion-panel-header")(30,"mat-panel-title"),p(31,17),_()(),a(32,"sz-ui-form-field-phone-number",18),_(),S(33,"mat-expansion-panel")(34,"mat-expansion-panel-header")(35,"mat-panel-title"),p(36,19),_()(),a(37,"sz-ui-form-field-input",20)(38,"sz-ui-form-field-input",21),_()()()()(),a(39,"sz-ui-dialog-actions",22)),o&2&&(m("header",n.header),E(2),m("formGroup",n.form),E(2),m("source",n.nationalities),E(2),m("source",n.languages),E(2),m("source",n.sexes)("localizedValue",!0),E(31),m("actions",n.actions));},dependencies:[ee,W,H,q,J,K,I,ge,Te,Ne,Ee,f,le,De,Re,Ie,Ae,he,pe,$e,Me,de,Oe],encapsulation:2});let i=e;return i;})();function Ge(i,e){if(i&1&&a(0,"sz-ui-card",2),i&2){let Be=e.$implicit;m("card",Be);}}var Ve=(()=>{let e=class e{constructor(t,o,n,r){this.dialog=t,this.mlabService=o,this.route=n,this.router=r,this.items=[],this.personMenu=Ce.more([Pe.edit(()=>this.openSaveComponent()),C.divider(),C.item(P.names,"info",()=>this.navigate("names")),C.item(P.documents,"badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let d={title:0,icon:"science",subtitle:P.analyses,indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(d),this.getAnalysisCount(d);}navigate(t){this.router.navigate([t],{relativeTo:this.route});}getAnalysisCount(t){this.mlabService.analyses.count().subscribe(o=>{t.title=o;});}openSaveComponent(){this.dialog.open(ze,{data:this.person}).afterClosed().subscribe(t=>{t&&(this.person=t);});}};e.ɵfac=function(o){return new(o||e)(s(ae),s(c),s(oe),s(ie));},e.ɵcmp=N({type:e,selectors:[["sz-medisy-people-person"]],features:[u([c])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(o,n){o&1&&(a(0,"sz-ui-header-info",0),w(1,"personName"),S(2,"div",1),Y(3,Ge,1,1,"sz-ui-card",2,X),_()),o&2&&(m("title",k(1,2,n.person))("menu",n.personMenu),E(3),x(n.items));},dependencies:[L,T,Le],encapsulation:2});let i=e;return i;})();var be=[{path:"",component:Ve},{path:"names",loadComponent:()=>import("./chunk-QDTK6JLN.js").then(i=>i.PersonNamesComponent)},{path:"documents",loadComponent:()=>import("./chunk-UQUPCTRL.js").then(i=>i.PersonDocumentsComponent)}];var Bo=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=G({type:e}),e.ɵinj=F({providers:[g],imports:[Z,te.forChild(be),me,ne,L,I,T,ue,Se,f,se,fe]});let i=e;return i;})();export{Bo as PersonModule};/**i18n:0f14478d9f76834c336477492adead1f84c567d512dc7742568a2120e6a13b69*/