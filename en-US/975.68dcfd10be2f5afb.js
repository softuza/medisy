"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[975],{7975:(A,S,o)=>{o.r(S),o.d(S,{ReferenceValuesModule:()=>x});var l=o(6814),i=o(6223),_=o(2296),m=o(7700),C=o(617),s=o(8109),h=o(6883),O=o(758),p=o(3576),g=o(5041),R=o(7239),d=o(3572),T=o(8262),c=o(9598),f=o(8721),u=o(8180),M=o(7106),N=o(738),L=o(5828),D=o(8930),e=o(5879);let I=(()=>{class r extends L.m{constructor(a,n){super(a),this.ngControl=a,this.mlabService=n,this.options=[],this.label="Unit",this.optionContent=t=>t.name,this.optionValue=t=>t.id,this.mlabService.units.getItems(c.J.unpagedSorted("name")).pipe((0,u.q)(1),(0,f.sU)(this.indicator)).subscribe(t=>{this.options=t})}ngOnInit(){this.control=this.ngControl.control}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(i.a5,10),e.Y36(h.t))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-form-field-unit"]],standalone:!0,features:[e._Bn([h.t]),e.qOj,e.jDz],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(n,t){1&n&&e._UZ(0,"sz-ui-form-field-select",0),2&n&&e.Q6J("formControl",t.control)("indicator",t.indicator)("options",t.options)("label",t.label)("placeholder",t.placeholder)("emptyOption",t.emptyOption)("multiple",t.multiple)("szOptionContentFn",t.optionContent)("szOptionValueFn",t.optionValue)},dependencies:[l.ez,i.UX,i.JJ,i.oH,D.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]})}return r})();var F=o(7263),v=o(4622),P=o(6091);let U=(()=>{class r extends p.Z2{constructor(a,n,t){super(n),this.fb=a,this.dialog=n,this.data=t,this.comparisonOperators=Object.values(F.v),this.form=a.group({testClassId:[t.testClassId],unitId:[t.unitId],includeLaboratoryIds:[t.includeLaboratoryIds]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(i.qu),e.Y36(m.so),e.Y36(m.WI))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-reference-values-filter"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(n,t){1&n&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&n&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("actions",t.actions))},dependencies:[l.ez,i.UX,i._Y,i.JJ,i.JL,i.sg,i.u,m.Is,m.xY,p.su,v.Y,P.t,N.U,I,M.w],encapsulation:2})}return r})();var y=o(5986),z=o(9157),Y=o(9004),V=o(5974),$=o(8873);let X=(()=>{class r extends p.Ku{constructor(a,n,t,E){super(t),this.mlabService=a,this.fb=n,this.dialog=t,this.data=E,this.form=n.group({description:[E?.description,[i.kI.maxLength(4096)]],testClassId:[E?.testClassId,[i.kI.required]],unitId:[E?.unitId,[]],multiplier:[E?.multiplier,[]]})}submit(){this.IsValid()&&this.save(this.data?this.mlabService.referenceValues.update(this.data.id,this.form.value):this.mlabService.referenceValues.create(this.form.value))}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(h.t),e.Y36(i.qu),e.Y36(m.so),e.Y36(m.WI))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-analysis-management-reference-values-save"]],standalone:!0,features:[e._Bn([]),e.qOj,e.jDz],decls:8,vars:3,consts:function(){let a,n;return a="Description",n="Multiplier",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",a],["formControlName","unitId"],["formControlName","multiplier","label",n],["formControlName","testClassId"],[3,"actions"]]},template:function(n,t){1&n&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),e.qZA()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&n&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("actions",t.actions))},dependencies:[l.ez,i.UX,i._Y,i.JJ,i.JL,i.sg,i.u,m.Is,m.xY,z.lN,y.p9,p.su,v.Y,P.t,Y.g,V.g,$.L,I,N.U],encapsulation:2})}return r})();var J=o(2516),B=o(8359),b=o(3144);const Z=[{path:"",component:(()=>{class r{constructor(a,n){this.dialog=a,this.mlabService=n,this.dataSource=new d.b2(c.J.paged()),this.dataSource.columns=[d.UC.hyperlink("testClass","Test class",t=>t.id,t=>t.testClass.name),d.UC.text("unit","Unit",t=>t.multiplier?`10^${t.multiplier.toExponential(0).split("e").map(E=>Number(E))[1]}/${t.unit?.abbreviation}`:t.unit?.abbreviation),T.h.createdAt(),T.h.menu([d.od.edit(t=>this.openSaveComponent(t)),d.od.delete(t=>this.openReferenceValueDeleteComponent(t))])],this.get()}openSaveComponent(a){this.dialog.open(X,{data:a}).afterClosed().pipe((0,u.q)(1)).subscribe(t=>{this.dataSource.updateOrPushItem(t)})}openFilterComponent(){this.dialog.open(U,{data:this.dataSource.filterModel}).afterClosed().pipe((0,u.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openReferenceValueDeleteComponent(a){this.dialog.open(p.fN,{data:p.cb.delete(this.mlabService.referenceValues.delete(a.id),a)}).afterClosed().pipe((0,u.q)(1)).subscribe(t=>{this.dataSource.delete(t)})}get(){this.mlabService.referenceValues.get(this.dataSource.filterModel).pipe((0,f.sU)(this.dataSource.indicator),(0,u.q)(1)).subscribe(a=>{this.dataSource.set(a.items,a.count)})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(m.uw),e.Y36(h.t))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let a,n;return a="Reference Values",n="Add",[["start","",1,"sz-h5"],a,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],n,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(n,t){1&n&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return t.get()})("filter",function(){return t.openFilterComponent()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return t.get()}),e.qZA()),2&n&&(e.xp6(3),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[_.lW,J.z,B.K,b.f],encapsulation:2})}return r})()}];let x=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#o=this.\u0275inj=e.cJS({providers:[h.t],imports:[l.ez,i.u5,i.UX,s.Bz.forChild(Z),m.Is,C.Ps,_.ot,g.n,d.Vn,R.h,O.E3,p.su]})}return r})()},7263:(A,S,o)=>{o.d(S,{v:()=>l});var l=(()=>((l=l||{}).Equal="Equal",l.GreaterThan="GreaterThan",l.GreaterThanOrEqual="GreaterThanOrEqual",l.LessThan="LessThan",l.LessThanOrEqual="LessThanOrEqual",l.Not="Not",l.RangeWithBoundaries="RangeWithBoundaries",l.RangeWithoutBoundaries="RangeWithoutBoundaries",l))()},8873:(A,S,o)=>{o.d(S,{L:()=>R});var l=o(6814),i=o(6223),_=o(9157),m=o(2032),C=o(8237),s=o(5879);function h(d,T){if(1&d&&(s.TgZ(0,"mat-label"),s._uU(1),s.qZA()),2&d){const c=s.oxw();s.xp6(1),s.Oqu(c.label)}}function O(d,T){1&d&&(s.TgZ(0,"mat-error"),s.SDv(1,3),s.qZA())}function p(d,T){1&d&&(s.TgZ(0,"mat-error"),s.SDv(1,4),s.qZA())}function g(d,T){1&d&&(s.TgZ(0,"mat-error"),s.SDv(1,5),s.qZA())}let R=(()=>{class d extends C.l{constructor(c){super(c),this.ngControl=c}ngOnInit(){this.control=this.ngControl.control}static#e=this.\u0275fac=function(f){return new(f||d)(s.Y36(i.a5,10))};static#t=this.\u0275cmp=s.Xpm({type:d,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[s.qOj,s.jDz],decls:7,vars:7,consts:function(){let c,f,u;return c="This field is required",f="This field has insufficient length",u="This field exceeds the maximum length",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],c,f,u]},template:function(f,u){1&f&&(s.TgZ(0,"mat-form-field",0),s.YNc(1,h,2,1,"mat-label",1),s.TgZ(2,"textarea",2),s._uU(3,"  "),s.qZA(),s.YNc(4,O,2,0,"mat-error",1),s.YNc(5,p,2,0,"mat-error",1),s.YNc(6,g,2,0,"mat-error",1),s.qZA()),2&f&&(s.xp6(1),s.Q6J("ngIf",u.label),s.xp6(1),s.Q6J("formControl",u.control)("value",u.value)("placeholder",u.placeholder),s.xp6(2),s.Q6J("ngIf",u.control.hasError("required")),s.xp6(1),s.Q6J("ngIf",u.control.hasError("minlength")),s.xp6(1),s.Q6J("ngIf",u.control.hasError("maxlength")))},dependencies:[l.ez,l.O5,i.UX,i.Fj,i.JJ,i.oH,_.lN,_.KE,_.hX,_.TO,m.c,m.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return d})()},9004:(A,S,o)=>{o.d(S,{g:()=>m});var l=o(5974),i=o(8873),_=o(5879);let m=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275mod=_.oAB({type:C});static#o=this.\u0275inj=_.cJS({imports:[l.g,i.L]})}return C})()}}]);