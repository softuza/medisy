import{a as le}from"./chunk-LE4FS3VA.js";import{a as M}from"./chunk-54C64AAB.js";import{a as te,b as oe,c as re,e as ie,g as _,q as ae,r as ne}from"./chunk-2DIHYESB.js";import{c as C,h as K,i as Q,j as W,l as Z,m as x,n as ee}from"./chunk-JUKWJGHA.js";import{a as U,b as $,d as w,e as q,g as H}from"./chunk-LR6DSKQQ.js";import{C as G,p as k}from"./chunk-CJ3L35E7.js";import{d as z,f as V,g as y,h as D,l as F,m as T,n as O,o as A,p as N,s as v}from"./chunk-FZFNR6NR.js";import"./chunk-N2L2KSIE.js";import{a as f}from"./chunk-X3ZOFRYL.js";import{b as J}from"./chunk-KYTDMX2G.js";import{a as X}from"./chunk-AQB7U7BU.js";import{a as P,e as j}from"./chunk-4G55JY3H.js";import{i as g}from"./chunk-5QJH45WQ.js";import"./chunk-AWHXYS7Y.js";import"./chunk-EBVBFE7W.js";import{Pa as B,Ra as Y}from"./chunk-W55BWEJG.js";import{Bb as m,Cb as b,Db as s,L as c,Nb as I,Pb as h,Zb as R,ac as u,bc as E,cb as d,cc as L,db as a,kb as S,la as p,nb as l}from"./chunk-3QIFGVJ6.js";var me=(()=>{let r=class r extends k{constructor(t,o){super(t),this.ngControl=t,this.mlabService=o,this.options=[],this.label="Reference Value",this.includeLaboratoryIds=[],this.excludeLaboratoryIds=[],this.optionContent=e=>e.testClass.name,this.optionValue=e=>e.id;}ngOnInit(){this.control=this.ngControl.control,this.mlabService.referenceValues.getItems({pageIndex:1,pageSize:-1,includeLaboratoryIds:this.includeLaboratoryIds,excludeLaboratoryIds:this.excludeLaboratoryIds}).pipe(C(this.indicator),c(1)).subscribe(t=>{this.options=t;});}};r.ɵfac=function(o){return new(o||r)(a(V,10),a(f));},r.ɵcmp=p({type:r,selectors:[["medisy-form-field-reference-value"]],inputs:{includeLaboratoryIds:"includeLaboratoryIds",excludeLaboratoryIds:"excludeLaboratoryIds"},standalone:!0,features:[R([]),S,u],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(o,e){o&1&&s(0,"sz-ui-form-field-select",0),o&2&&l("formControl",e.control)("indicator",e.indicator)("options",e.options)("label",e.label)("placeholder",e.placeholder)("emptyOption",e.emptyOption)("multiple",e.multiple)("szOptionContentFn",e.optionContent)("szOptionValueFn",e.optionValue);},dependencies:[v,y,T,G],encapsulation:2});let i=r;return i;})();var fe=()=>[],be=i=>[i],ce=(()=>{let r=class r extends K{constructor(t,o,e,n){super(e),this.mlabService=t,this.fb=o,this.dialog=e,this.data=n,this.form=o.group({referenceValueId:[n.laboratoryReferenceValue?.referenceValueId,[z.required]]});}submit(){this.IsValid()&&(this.data.laboratoryReferenceValue?this.save(this.mlabService.laboratories.referenceValues.update(this.data.laboratoryId,this.data.laboratoryReferenceValue?.id,this.form.value)):this.save(this.mlabService.laboratories.referenceValues.create(this.data.laboratoryId,this.form.value)));}};r.ɵfac=function(o){return new(o||r)(a(f),a(N),a(U),a($));},r.ɵcmp=p({type:r,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[S,u],decls:5,vars:7,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","referenceValueId",3,"excludeLaboratoryIds"],[3,"actions"]],template:function(o,e){o&1&&(s(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),s(3,"medisy-form-field-reference-value",2),b()(),s(4,"sz-ui-dialog-actions",3)),o&2&&(l("header",e.header),d(2),l("formGroup",e.form),d(1),l("excludeLaboratoryIds",e.data.laboratoryReferenceValue?E(4,fe):L(5,be,e.data.laboratoryId)),d(1),l("actions",e.actions));},dependencies:[v,F,y,D,O,A,x,Q,W,H,q,_,me],encapsulation:2});let i=r;return i;})();var ot=(()=>{let r=class r{constructor(t,o,e){this.dialog=t,this.mlabService=o,this.route=e,this.title=le.referenceValues,this.dataSource=new oe(X.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(re.default([te.text("referenceValue","Test Class",n=>n.referenceValue.testClass.name),M.createdAt(),M.menu([g.edit(n=>{this.openSaveComponent(n);}),g.delete(n=>{this.openLaboratoryReferenceValueDeleteComponent(n);})])])),this.get();}openSaveComponent(t){this.dialog.open(ce,{data:{laboratoryId:this.laboratory.id,laboratoryReferenceValue:t}}).afterClosed().pipe(c(1)).subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openLaboratoryReferenceValueDeleteComponent(t){this.dialog.open(Z,{data:ee.delete(this.mlabService.laboratories.referenceValues.delete(t.laboratoryId,t.id),t)}).afterClosed().pipe(c(1)).subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.laboratories.referenceValues.get(this.laboratory.id,this.dataSource.filterModel).pipe(C(this.dataSource.indicator)).pipe(c(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};r.ɵfac=function(o){return new(o||r)(a(w),a(f),a(P));},r.ɵcmp=p({type:r,selectors:[["medisy-laboratory-reference-values"]],standalone:!0,features:[u],decls:6,vars:6,consts:()=>{let t;return t="Add",[[3,"title","subTitle"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(o,e){o&1&&(s(0,"sz-ui-header-info",0),m(1,"sz-ui-table-filter",1),h("search",function(){return e.get();}),m(2,"button",2),h("click",function(){return e.openSaveComponent();}),m(3,"span"),I(4,3),b()()(),m(5,"sz-ui-table",4),h("update",function(){return e.get();}),b()),o&2&&(l("title",e.title)("subTitle",e.laboratory.name),d(1),l("dataSource",e.dataSource),d(4),l("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[j,J,ne,ae,ie,_,Y,B],encapsulation:2});let i=r;return i;})();export{ot as LaboratoryReferenceValuesComponent};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/