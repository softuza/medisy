"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[977],{9977:(N,M,e)=>{e.r(M),e.d(M,{PersonModule:()=>j});var l=e(6814),s=e(6223),a=e(2296),i=e(5195),t=e(7700),o=e(6385),c=e(617),f=e(7988),u=e(8109),T=e(465),O=e(5348),P=e(758),m=e(2595),r=e(3576),d=e(5041),g=e(5738),D=e(2430),v=e(9598),R=e(7398),L=e(8180),F=e(7553),y=e(2160),U=e(5741),z=e(9004),$=e(1122),n=e(5879),Y=e(4622),Z=e(6091),X=e(5974);let B=(()=>{class E extends r.Ku{constructor(_,S,C,A){super(C),this.personService=_,this.fb=S,this.dialog=C,this.data=A,this.form=S.group({sex:[A.sex,[s.kI.required]],languageId:[A.languageId,[s.kI.required]],title:[A.title,[]],ssn:[A.ssn,[]],nationalityId:[A.nationalityId,[]],birthDate:[A.birthDate,[]]})}submit(){this.IsValid()&&this.save(this.personService.updatePerson(this.data.id,this.form.value))}}return E.\u0275fac=function(_){return new(_||E)(n.Y36(O.R),n.Y36(s.qu),n.Y36(t.so),n.Y36(t.WI))},E.\u0275cmp=n.Xpm({type:E,selectors:[["medisy-people-person-save"]],standalone:!0,features:[n._Bn([]),n.qOj,n.jDz],decls:12,vars:3,consts:function(){let p,_,S;return p="SSN",_="Title",S="BirthDate",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",p],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",_],["formControlName","birthDate","label",S],[3,"actions"]]},template:function(_,S){1&_&&(n._UZ(0,"sz-ui-dialog-header",0),n.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),n._UZ(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),n.qZA(),n._UZ(6,"medisy-form-field-language",5),n.TgZ(7,"div",2),n._UZ(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),n.qZA(),n._UZ(10,"sz-ui-form-field-date",8),n.qZA()(),n._UZ(11,"sz-ui-dialog-actions",9)),2&_&&(n.Q6J("header",S.header),n.xp6(2),n.Q6J("formGroup",S.form),n.xp6(9),n.Q6J("actions",S.actions))},dependencies:[s.UX,s._Y,s.JJ,s.JL,s.sg,s.u,r.su,Y.Y,Z.t,z.g,X.g,t.Is,t.xY,y.V,$.L,U.t,F.d],encapsulation:2}),E})();var K=e(6128),x=e(2516),W=e(9060);function J(E,p){1&E&&n._UZ(0,"sz-ui-card",17),2&E&&n.Q6J("card",p.$implicit)}const G=[{path:"",component:(()=>{class E{constructor(_,S,C,A){this.dialog=_,this.analysisService=S,this.route=C,this.router=A,this.items=[],this.person=this.route.snapshot.data.person;const h={title:0,type:D.k.Counter,icon:"science",subtitle:"Analyses",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personId:this.person.id}})};this.items.push(h),this.getAnalysisCount(h)}getAnalysisCount(_){this.analysisService.get({...v.J.count(),personIds:[this.person.id]}).pipe((0,R.U)(S=>S.count)).subscribe(S=>{_.title=S})}openSaveComponent(){this.dialog.open(B,{data:this.person}).afterClosed().pipe((0,L.q)(1)).subscribe(S=>{S&&(this.person=S)})}}return E.\u0275fac=function(_){return new(_||E)(n.Y36(t.uw),n.Y36(g.K),n.Y36(u.gz),n.Y36(u.F0))},E.\u0275cmp=n.Xpm({type:E,selectors:[["medisy-peopel-person"]],features:[n._Bn([g.K])],decls:42,vars:5,consts:function(){let p,_,S,C,A,h;return p="Edit",_="Names",S="Phones",C="Emails",A="Addresses",h="Documents",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],p,["mat-menu-item","","routerLink","names"],_,["mat-menu-item","","routerLink","phones"],S,["mat-menu-item","","routerLink","emails"],C,["mat-menu-item","","routerLink","addresses"],A,["mat-menu-item","","routerLink","documents"],h,[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]]},template:function(_,S){if(1&_&&(n.TgZ(0,"sz-ui-header-basic")(1,"h5",0),n._uU(2),n.ALo(3,"personName"),n.qZA(),n.TgZ(4,"button",1)(5,"mat-icon"),n._uU(6,"more_vert"),n.qZA()(),n.TgZ(7,"mat-menu",null,2)(9,"button",3),n.NdJ("click",function(){return S.openSaveComponent()}),n.TgZ(10,"mat-icon"),n._uU(11,"edit"),n.qZA(),n.TgZ(12,"span"),n.SDv(13,4),n.qZA()(),n._UZ(14,"mat-divider"),n.TgZ(15,"button",5)(16,"mat-icon"),n._uU(17,"info"),n.qZA(),n.TgZ(18,"span"),n.SDv(19,6),n.qZA()(),n.TgZ(20,"button",7)(21,"mat-icon"),n._uU(22,"phone"),n.qZA(),n.TgZ(23,"span"),n.SDv(24,8),n.qZA()(),n.TgZ(25,"button",9)(26,"mat-icon"),n._uU(27,"alternate_email"),n.qZA(),n.TgZ(28,"span"),n.SDv(29,10),n.qZA()(),n.TgZ(30,"button",11)(31,"mat-icon"),n._uU(32,"home"),n.qZA(),n.TgZ(33,"span"),n.SDv(34,12),n.qZA()(),n.TgZ(35,"button",13)(36,"mat-icon"),n._uU(37,"badge"),n.qZA(),n.TgZ(38,"span"),n.SDv(39,14),n.qZA()()()(),n.TgZ(40,"div",15),n.YNc(41,J,1,1,"sz-ui-card",16),n.qZA()),2&_){const C=n.MAs(8);n.xp6(2),n.Oqu(n.lcZ(3,3,S.person)),n.xp6(2),n.Q6J("matMenuTriggerFor",C),n.xp6(37),n.Q6J("ngForOf",S.items)}},dependencies:[l.sg,u.rH,c.Hw,K.X,x.z,f.VK,f.OP,f.p6,o.d,a.RK,W.Y],encapsulation:2}),E})()},{path:"names",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(247)]).then(e.bind(e,2247)).then(E=>E.PersonNamesComponent)},{path:"phones",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(961)]).then(e.bind(e,1961)).then(E=>E.PersonPhonesComponent)},{path:"emails",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(814)]).then(e.bind(e,1814)).then(E=>E.PersonEmailsComponent)},{path:"documents",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(699)]).then(e.bind(e,9699)).then(E=>E.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(396)]).then(e.bind(e,4396)).then(E=>E.PersonAddressesComponent)}];let j=(()=>{class E{}return E.\u0275fac=function(_){return new(_||E)},E.\u0275mod=n.oAB({type:E}),E.\u0275inj=n.cJS({providers:[O.R],imports:[l.ez,s.u5,u.Bz.forChild(G),i.QW,c.Ps,m.V,P.E3,r.su,d.n,f.Tx,o.t,t.Is,a.ot,T.X]}),E})()},7553:(N,M,e)=>{e.d(M,{d:()=>T});var l=e(6814),s=e(6223),a=e(926),i=e(6893),t=e(8930),o=e(9598),c=e(8721),f=e(8180),u=e(5879);let T=(()=>{class O extends i.m{constructor(m,r){super(m),this.ngControl=m,this.languageService=r,this.label="Language",this.contentFormat=d=>d.name,this.valueFormat=d=>d.id,this.items$=this.languageService.getItems(o.J.unpagedSorted("name")).pipe((0,f.q)(1),(0,c.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return O.\u0275fac=function(m){return new(m||O)(u.Y36(s.a5,10),u.Y36(a.T))},O.\u0275cmp=u.Xpm({type:O,selectors:[["medisy-form-field-language"]],standalone:!0,features:[u._Bn([a.T]),u.qOj,u.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(m,r){1&m&&(u._UZ(0,"sz-ui-form-field-select",0),u.ALo(1,"async")),2&m&&u.Q6J("formControl",r.control)("indicator",r.indicator)("items",u.lcZ(1,9,r.items$))("label",r.label)("placeholder",r.placeholder)("emptyOption",r.emptyOption)("multiple",r.multiple)("contentFn",r.contentFormat)("valueFn",r.valueFormat)},dependencies:[l.ez,l.Ov,s.UX,s.JJ,s.oH,t.E],encapsulation:2}),O})()},2160:(N,M,e)=>{e.d(M,{V:()=>P});var l=e(6814),s=e(6223),a=e(4949),i=e(5879),t=e(9862);let o=(()=>{class m extends a.e{constructor(d){super(d,"medisy-people/v1/nationalities"),this.http=d}}return m.\u0275fac=function(d){return new(d||m)(i.LFG(t.eN))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac}),m})();var c=e(6893),f=e(8930),u=e(9598),T=e(8721),O=e(8180);let P=(()=>{class m extends c.m{constructor(d,g){super(d),this.ngControl=d,this.nationalityService=g,this.label="Nationality",this.contentFormat=D=>D.name,this.valueFormat=D=>D.id,this.items$=this.nationalityService.getItems(u.J.unpagedSorted("name")).pipe((0,O.q)(1),(0,T.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return m.\u0275fac=function(d){return new(d||m)(i.Y36(s.a5,10),i.Y36(o))},m.\u0275cmp=i.Xpm({type:m,selectors:[["medisy-form-field-nationality"]],standalone:!0,features:[i._Bn([o]),i.qOj,i.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(d,g){1&d&&(i._UZ(0,"sz-ui-form-field-select",0),i.ALo(1,"async")),2&d&&i.Q6J("formControl",g.control)("indicator",g.indicator)("items",i.lcZ(1,9,g.items$))("label",g.label)("placeholder",g.placeholder)("emptyOption",g.emptyOption)("multiple",g.multiple)("contentFn",g.contentFormat)("valueFn",g.valueFormat)},dependencies:[l.ez,l.Ov,s.UX,s.JJ,s.oH,f.E],encapsulation:2}),m})()},5741:(N,M,e)=>{e.d(M,{t:()=>c});var l=e(6223),s=e(5746),a=e(9155),i=e(6893),t=e(8930),o=e(5879);let c=(()=>{class f extends i.m{constructor(T,O){super(T),this.ngControl=T,this.sexI18nPipe=O,this.items=Object.keys(a.m).map(P=>a.m[P]),this.label="Sex",this.contentFormat=P=>this.sexI18nPipe.transform(P)}ngOnInit(){this.control=this.ngControl.control}}return f.\u0275fac=function(T){return new(T||f)(o.Y36(l.a5,10),o.Y36(s.l))},f.\u0275cmp=o.Xpm({type:f,selectors:[["medisy-form-field-sex"]],standalone:!0,features:[o._Bn([s.l]),o.qOj,o.jDz],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(T,O){1&T&&o._UZ(0,"sz-ui-form-field-select",0),2&T&&o.Q6J("formControl",O.control)("items",O.items)("label",O.label)("placeholder",O.placeholder)("emptyOption",O.emptyOption)("multiple",O.multiple)("contentFn",O.contentFormat)},dependencies:[l.UX,l.JJ,l.oH,t.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),f})()},465:(N,M,e)=>{e.d(M,{X:()=>s});var l=e(5879);let s=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({}),a})()},9060:(N,M,e)=>{e.d(M,{Y:()=>s});var l=e(5879);let s=(()=>{class a{transform(t,o=!1){if(!t.names||0===t.names.length)return`${t.id}`;const c=t.names[0].firstName,f=t.names[0].lastName,u=f?`${c} ${f}`:`${c}`;return o&&t.birthDate?""+(+new Date-+t.birthDate):u}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=l.Yjl({name:"personName",type:a,pure:!0,standalone:!0}),a})()},5746:(N,M,e)=>{e.d(M,{l:()=>a});var l=e(9155),s=e(5879);let a=(()=>{class i{transform(o){switch(o){case l.m.Female:return "Female";case l.m.Male:return "Male";default:return""}}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=s.Yjl({name:"sexI18n",type:i,pure:!0,standalone:!0}),i})()},926:(N,M,e)=>{e.d(M,{T:()=>i});var l=e(4949),s=e(5879),a=e(9862);let i=(()=>{class t extends l.e{constructor(c){super(c,"medisy-people/v1/languages"),this.http=c}}return t.\u0275fac=function(c){return new(c||t)(s.LFG(a.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})()},9155:(N,M,e)=>{e.d(M,{m:()=>l});var l=(()=>((l=l||{}).Male="Male",l.Female="Female",l))()},8873:(N,M,e)=>{e.d(M,{L:()=>O});var l=e(6814),s=e(6223),a=e(9157),i=e(2032),t=e(2757),o=e(5879);function c(P,m){if(1&P&&(o.TgZ(0,"mat-label"),o._uU(1),o.qZA()),2&P){const r=o.oxw();o.xp6(1),o.Oqu(r.label)}}function f(P,m){1&P&&(o.TgZ(0,"mat-error"),o.SDv(1,3),o.qZA())}function u(P,m){1&P&&(o.TgZ(0,"mat-error"),o.SDv(1,4),o.qZA())}function T(P,m){1&P&&(o.TgZ(0,"mat-error"),o.SDv(1,5),o.qZA())}let O=(()=>{class P extends t.l{constructor(r){super(r),this.ngControl=r}ngOnInit(){this.control=this.ngControl.control}writeValue(r){this.value=r}}return P.\u0275fac=function(r){return new(r||P)(o.Y36(s.a5,10))},P.\u0275cmp=o.Xpm({type:P,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[o.qOj,o.jDz],decls:7,vars:7,consts:function(){let m,r,d;return m="This field is required",r="This field has insufficient length",d="This field exceeds the maximum length",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],m,r,d]},template:function(r,d){1&r&&(o.TgZ(0,"mat-form-field",0),o.YNc(1,c,2,1,"mat-label",1),o.TgZ(2,"textarea",2),o._uU(3,"  "),o.qZA(),o.YNc(4,f,2,0,"mat-error",1),o.YNc(5,u,2,0,"mat-error",1),o.YNc(6,T,2,0,"mat-error",1),o.qZA()),2&r&&(o.xp6(1),o.Q6J("ngIf",d.label),o.xp6(1),o.Q6J("formControl",d.control)("value",d.value)("placeholder",d.placeholder),o.xp6(2),o.Q6J("ngIf",d.control.hasError("required")),o.xp6(1),o.Q6J("ngIf",d.control.hasError("minlength")),o.xp6(1),o.Q6J("ngIf",d.control.hasError("maxlength")))},dependencies:[l.ez,l.O5,s.UX,s.Fj,s.JJ,s.oH,a.lN,a.KE,a.hX,a.TO,i.c,i.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),P})()},9004:(N,M,e)=>{e.d(M,{g:()=>i});var l=e(5974),s=e(8873),a=e(5879);let i=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[l.g,s.L]}),t})()}}]);