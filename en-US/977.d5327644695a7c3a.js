"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[977],{9977:(h,O,e)=>{e.r(O),e.d(O,{PersonModule:()=>j});var l=e(6814),s=e(6223),i=e(2296),S=e(5195),a=e(7700),t=e(6385),p=e(617),m=e(7988),E=e(8109),c=e(465),u=e(5348),_=e(758),f=e(2595),o=e(3576),M=e(5041),g=e(5738),C=e(2430),D=e(9598),L=e(7398),R=e(8180),F=e(7553),y=e(2160),U=e(5741),z=e(9004),$=e(1122),n=e(5879),Y=e(4622),Z=e(6091),B=e(5974);let X=(()=>{class r extends o.Ku{constructor(d,P,A,N){super(A),this.personService=d,this.fb=P,this.dialog=A,this.data=N,this.form=P.group({sex:[N.sex,[s.kI.required]],languageId:[N.languageId,[s.kI.required]],title:[N.title,[]],ssn:[N.ssn,[]],nationalityId:[N.nationalityId,[]],birthDate:[N.birthDate,[]]})}submit(){this.IsValid()&&this.save(this.personService.updatePerson(this.data.id,this.form.value))}}return r.\u0275fac=function(d){return new(d||r)(n.Y36(u.R),n.Y36(s.qu),n.Y36(a.so),n.Y36(a.WI))},r.\u0275cmp=n.Xpm({type:r,selectors:[["medisy-people-person-save"]],standalone:!0,features:[n._Bn([]),n.qOj,n.jDz],decls:12,vars:3,consts:function(){let T,d,P;return T="SSN",d="Title",P="BirthDate",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",T],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",d],["formControlName","birthDate","label",P],[3,"actions"]]},template:function(d,P){1&d&&(n._UZ(0,"sz-ui-dialog-header",0),n.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),n._UZ(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),n.qZA(),n._UZ(6,"medisy-form-field-language",5),n.TgZ(7,"div",2),n._UZ(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),n.qZA(),n._UZ(10,"sz-ui-form-field-date",8),n.qZA()(),n._UZ(11,"sz-ui-dialog-actions",9)),2&d&&(n.Q6J("header",P.header),n.xp6(2),n.Q6J("formGroup",P.form),n.xp6(9),n.Q6J("actions",P.actions))},dependencies:[s.UX,s._Y,s.JJ,s.JL,s.sg,s.u,o.su,Y.Y,Z.t,z.g,B.g,a.Is,a.xY,y.V,$.L,U.t,F.d],encapsulation:2}),r})();var K=e(6128),W=e(2516),x=e(9060);function J(r,T){1&r&&n._UZ(0,"sz-ui-card",17),2&r&&n.Q6J("card",T.$implicit)}const G=[{path:"",component:(()=>{class r{constructor(d,P,A,N){this.dialog=d,this.analysisService=P,this.route=A,this.router=N,this.items=[],this.person=this.route.snapshot.data.person;const I={title:0,type:C.k.Counter,icon:"science",subtitle:"Analyses",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personId:this.person.id}})};this.items.push(I),this.getAnalysisCount(I)}getAnalysisCount(d){this.analysisService.get({...D.J.count(),personIds:[this.person.id]}).pipe((0,L.U)(P=>P.count)).subscribe(P=>{d.title=P})}openSaveComponent(){this.dialog.open(X,{data:this.person}).afterClosed().pipe((0,R.q)(1)).subscribe(P=>{P&&(this.person=P)})}}return r.\u0275fac=function(d){return new(d||r)(n.Y36(a.uw),n.Y36(g.K),n.Y36(E.gz),n.Y36(E.F0))},r.\u0275cmp=n.Xpm({type:r,selectors:[["medisy-peopel-person"]],features:[n._Bn([g.K])],decls:42,vars:5,consts:function(){let T,d,P,A,N,I;return T="Edit",d="Names",P="Phones",A="Emails",N="Addresses",I="Documents",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],T,["mat-menu-item","","routerLink","names"],d,["mat-menu-item","","routerLink","phones"],P,["mat-menu-item","","routerLink","emails"],A,["mat-menu-item","","routerLink","addresses"],N,["mat-menu-item","","routerLink","documents"],I,[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]]},template:function(d,P){if(1&d&&(n.TgZ(0,"sz-ui-header-basic")(1,"h5",0),n._uU(2),n.ALo(3,"personName"),n.qZA(),n.TgZ(4,"button",1)(5,"mat-icon"),n._uU(6,"more_vert"),n.qZA()(),n.TgZ(7,"mat-menu",null,2)(9,"button",3),n.NdJ("click",function(){return P.openSaveComponent()}),n.TgZ(10,"mat-icon"),n._uU(11,"edit"),n.qZA(),n.TgZ(12,"span"),n.SDv(13,4),n.qZA()(),n._UZ(14,"mat-divider"),n.TgZ(15,"button",5)(16,"mat-icon"),n._uU(17,"info"),n.qZA(),n.TgZ(18,"span"),n.SDv(19,6),n.qZA()(),n.TgZ(20,"button",7)(21,"mat-icon"),n._uU(22,"phone"),n.qZA(),n.TgZ(23,"span"),n.SDv(24,8),n.qZA()(),n.TgZ(25,"button",9)(26,"mat-icon"),n._uU(27,"alternate_email"),n.qZA(),n.TgZ(28,"span"),n.SDv(29,10),n.qZA()(),n.TgZ(30,"button",11)(31,"mat-icon"),n._uU(32,"home"),n.qZA(),n.TgZ(33,"span"),n.SDv(34,12),n.qZA()(),n.TgZ(35,"button",13)(36,"mat-icon"),n._uU(37,"badge"),n.qZA(),n.TgZ(38,"span"),n.SDv(39,14),n.qZA()()()(),n.TgZ(40,"div",15),n.YNc(41,J,1,1,"sz-ui-card",16),n.qZA()),2&d){const A=n.MAs(8);n.xp6(2),n.Oqu(n.lcZ(3,3,P.person)),n.xp6(2),n.Q6J("matMenuTriggerFor",A),n.xp6(37),n.Q6J("ngForOf",P.items)}},dependencies:[l.sg,E.rH,p.Hw,K.X,W.z,m.VK,m.OP,m.p6,t.d,i.RK,x.Y],encapsulation:2}),r})()},{path:"names",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(247)]).then(e.bind(e,2247)).then(r=>r.PersonNamesComponent)},{path:"phones",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(961)]).then(e.bind(e,1961)).then(r=>r.PersonPhonesComponent)},{path:"emails",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(814)]).then(e.bind(e,1814)).then(r=>r.PersonEmailsComponent)},{path:"documents",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(699)]).then(e.bind(e,9699)).then(r=>r.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>Promise.all([e.e(572),e.e(986),e.e(592),e.e(396)]).then(e.bind(e,4396)).then(r=>r.PersonAddressesComponent)}];let j=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({providers:[u.R],imports:[l.ez,s.u5,E.Bz.forChild(G),S.QW,p.Ps,f.V,_.E3,o.su,M.n,m.Tx,t.t,a.Is,i.ot,c.X]}),r})()},7553:(h,O,e)=>{e.d(O,{d:()=>c});var l=e(6814),s=e(6223),i=e(926),S=e(6893),a=e(8930),t=e(8721),p=e(8180),m=e(7398),E=e(5879);let c=(()=>{class u extends S.m{constructor(f,o){super(f),this.ngControl=f,this.languageService=o,this.label="Language",this.contentFormat=M=>M.name,this.valueFormat=M=>M.id,this.items$=this.languageService.getLanguages().pipe((0,p.q)(1),(0,m.U)(M=>M.items)).pipe((0,t.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return u.\u0275fac=function(f){return new(f||u)(E.Y36(s.a5,10),E.Y36(i.T))},u.\u0275cmp=E.Xpm({type:u,selectors:[["medisy-form-field-language"]],standalone:!0,features:[E._Bn([i.T]),E.qOj,E.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(f,o){1&f&&(E._UZ(0,"sz-ui-form-field-select",0),E.ALo(1,"async")),2&f&&E.Q6J("formControl",o.control)("indicator",o.indicator)("items",E.lcZ(1,9,o.items$))("label",o.label)("placeholder",o.placeholder)("emptyOption",o.emptyOption)("multiple",o.multiple)("contentFn",o.contentFormat)("valueFn",o.valueFormat)},dependencies:[l.ez,l.Ov,s.UX,s.JJ,s.oH,a.E],encapsulation:2}),u})()},2160:(h,O,e)=>{e.d(O,{V:()=>f});var l=e(6814),s=e(6223),i=e(9862),S=e(3971),a=e(9598),t=e(5879);let p=(()=>{class o{constructor(g){this.http=g,this.path="medisy-people/v1/nationalities"}getNationalities(g=a.J.unpagedSorted("name")){return this.http.get(`${this.path}`,{params:new i.LE({fromObject:(0,S.c)(g)})})}}return o.\u0275fac=function(g){return new(g||o)(t.LFG(i.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var m=e(6893),E=e(8930),c=e(8721),u=e(8180),_=e(7398);let f=(()=>{class o extends m.m{constructor(g,C){super(g),this.ngControl=g,this.nationalityService=C,this.label="Nationality",this.contentFormat=D=>D.name,this.valueFormat=D=>D.id,this.items$=this.nationalityService.getNationalities().pipe((0,u.q)(1),(0,_.U)(D=>D.items)).pipe((0,c.sU)(this.indicator))}ngOnInit(){this.control=this.ngControl.control}}return o.\u0275fac=function(g){return new(g||o)(t.Y36(s.a5,10),t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["medisy-form-field-nationality"]],standalone:!0,features:[t._Bn([p]),t.qOj,t.jDz],decls:2,vars:11,consts:[[3,"formControl","indicator","items","label","placeholder","emptyOption","multiple","contentFn","valueFn"]],template:function(g,C){1&g&&(t._UZ(0,"sz-ui-form-field-select",0),t.ALo(1,"async")),2&g&&t.Q6J("formControl",C.control)("indicator",C.indicator)("items",t.lcZ(1,9,C.items$))("label",C.label)("placeholder",C.placeholder)("emptyOption",C.emptyOption)("multiple",C.multiple)("contentFn",C.contentFormat)("valueFn",C.valueFormat)},dependencies:[l.ez,l.Ov,s.UX,s.JJ,s.oH,E.E],encapsulation:2}),o})()},5741:(h,O,e)=>{e.d(O,{t:()=>p});var l=e(6223),s=e(5746),i=e(9155),S=e(6893),a=e(8930),t=e(5879);let p=(()=>{class m extends S.m{constructor(c,u){super(c),this.ngControl=c,this.sexI18nPipe=u,this.items=Object.keys(i.m).map(_=>i.m[_]),this.label="Sex",this.contentFormat=_=>this.sexI18nPipe.transform(_)}ngOnInit(){this.control=this.ngControl.control}}return m.\u0275fac=function(c){return new(c||m)(t.Y36(l.a5,10),t.Y36(s.l))},m.\u0275cmp=t.Xpm({type:m,selectors:[["medisy-form-field-sex"]],standalone:!0,features:[t._Bn([s.l]),t.qOj,t.jDz],decls:1,vars:7,consts:[[3,"formControl","items","label","placeholder","emptyOption","multiple","contentFn"]],template:function(c,u){1&c&&t._UZ(0,"sz-ui-form-field-select",0),2&c&&t.Q6J("formControl",u.control)("items",u.items)("label",u.label)("placeholder",u.placeholder)("emptyOption",u.emptyOption)("multiple",u.multiple)("contentFn",u.contentFormat)},dependencies:[l.UX,l.JJ,l.oH,a.E],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),m})()},465:(h,O,e)=>{e.d(O,{X:()=>s});var l=e(5879);let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({}),i})()},9060:(h,O,e)=>{e.d(O,{Y:()=>s});var l=e(5879);let s=(()=>{class i{transform(a,t=!1){if(!a.names||0===a.names.length)return`${a.id}`;const p=a.names[0].firstName,m=a.names[0].lastName,E=m?`${p} ${m}`:`${p}`;return t&&a.birthDate?""+(+new Date-+a.birthDate):E}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=l.Yjl({name:"personName",type:i,pure:!0,standalone:!0}),i})()},5746:(h,O,e)=>{e.d(O,{l:()=>i});var l=e(9155),s=e(5879);let i=(()=>{class S{transform(t){switch(t){case l.m.Female:return "Female";case l.m.Male:return "Male";default:return""}}}return S.\u0275fac=function(t){return new(t||S)},S.\u0275pipe=s.Yjl({name:"sexI18n",type:S,pure:!0,standalone:!0}),S})()},926:(h,O,e)=>{e.d(O,{T:()=>p});var l=e(9862),s=e(3971),i=e(9598),S=e(8180),a=e(7398),t=e(5879);let p=(()=>{class m{constructor(c){this.http=c,this.path="medisy-people/v1/languages",this.languages$=this.getLanguages().pipe((0,S.q)(1),(0,a.U)(u=>u.items))}getLanguages(c=i.J.unpagedSorted("name")){return this.http.get(`${this.path}`,{params:new l.LE({fromObject:(0,s.c)(c)})})}}return m.\u0275fac=function(c){return new(c||m)(t.LFG(l.eN))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),m})()},9155:(h,O,e)=>{e.d(O,{m:()=>l});var l=(()=>((l=l||{}).Male="Male",l.Female="Female",l))()},8873:(h,O,e)=>{e.d(O,{L:()=>u});var l=e(6814),s=e(6223),i=e(9157),S=e(2032),a=e(2757),t=e(5879);function p(_,f){if(1&_&&(t.TgZ(0,"mat-label"),t._uU(1),t.qZA()),2&_){const o=t.oxw();t.xp6(1),t.Oqu(o.label)}}function m(_,f){1&_&&(t.TgZ(0,"mat-error"),t.SDv(1,3),t.qZA())}function E(_,f){1&_&&(t.TgZ(0,"mat-error"),t.SDv(1,4),t.qZA())}function c(_,f){1&_&&(t.TgZ(0,"mat-error"),t.SDv(1,5),t.qZA())}let u=(()=>{class _ extends a.l{constructor(o){super(o),this.ngControl=o}ngOnInit(){this.control=this.ngControl.control}writeValue(o){this.value=o}}return _.\u0275fac=function(o){return new(o||_)(t.Y36(s.a5,10))},_.\u0275cmp=t.Xpm({type:_,selectors:[["sz-ui-form-field-textarea"]],standalone:!0,features:[t.qOj,t.jDz],decls:7,vars:7,consts:function(){let f,o,M;return f="This field is required",o="This field has insufficient length",M="This field exceeds the maximum length",[[1,"tw-flex-1"],[4,"ngIf"],["matInput","",3,"formControl","value","placeholder"],f,o,M]},template:function(o,M){1&o&&(t.TgZ(0,"mat-form-field",0),t.YNc(1,p,2,1,"mat-label",1),t.TgZ(2,"textarea",2),t._uU(3,"  "),t.qZA(),t.YNc(4,m,2,0,"mat-error",1),t.YNc(5,E,2,0,"mat-error",1),t.YNc(6,c,2,0,"mat-error",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",M.label),t.xp6(1),t.Q6J("formControl",M.control)("value",M.value)("placeholder",M.placeholder),t.xp6(2),t.Q6J("ngIf",M.control.hasError("required")),t.xp6(1),t.Q6J("ngIf",M.control.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",M.control.hasError("maxlength")))},dependencies:[l.ez,l.O5,s.UX,s.Fj,s.JJ,s.oH,i.lN,i.KE,i.hX,i.TO,S.c,S.Nt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),_})()},9004:(h,O,e)=>{e.d(O,{g:()=>S});var l=e(5974),s=e(8873),i=e(5879);let S=(()=>{class a{}return a.\u0275fac=function(p){return new(p||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[l.g,s.L]}),a})()}}]);