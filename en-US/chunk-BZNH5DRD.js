import{a as A,b as x}from"./chunk-UWFX4FMI.js";import{h as z}from"./chunk-FWZEH63T.js";import{b as Ue}from"./chunk-BVDDTOMA.js";import{a as f}from"./chunk-WBYPLE6B.js";import{a as N}from"./chunk-LAXXIHXK.js";import{c as E,h as je,i as Ve,j as Be,l as He,m as Ye,n as ke}from"./chunk-SK6APAT5.js";import{b as W}from"./chunk-AQRFGV44.js";import{d as Q}from"./chunk-I5QX4CCA.js";import{a as Le,b as Ge,d as T,e as we,g as $e}from"./chunk-3NLMA3OD.js";import{A as Re,a as De,b as Fe,g as Ie,o as ze,v as Oe,w as Ne,x as Ae,z as xe}from"./chunk-7ERNPK3U.js";import{A as y,d as oe,e as Se,f as J,g as ve,k as Ce,l as Me,m as ge,p as ye,q as Te,t as K,w as M,y as Ee,z as Pe}from"./chunk-HA3OCK63.js";import{i as F,j as U}from"./chunk-UVKSHNQV.js";import{q as O}from"./chunk-QFHU2GEW.js";import{Ja as g,r as he,ya as be}from"./chunk-T2UVNK6V.js";import{Bb as B,Cb as H,Db as Y,Eb as p,Fb as l,Gb as c,Kb as k,M as $,Qb as q,Sb as G,Ub as S,Vb as ue,Wb as fe,bb as I,da as se,dc as w,ea as le,ec as ie,fb as s,fc as _e,gb as a,gc as P,ja as me,jc as u,kb as de,na as d,nb as v,oa as pe,pa as ce,qb as D,sa as j,ta as V,ub as m,zb as C}from"./chunk-T2ST7G6M.js";var _=(()=>{let e=class e{constructor(o){this.http=o,this.basePath="softuza-portal",this.tiles=new Q(this.http,`${this.basePath}/v1/tiles`),this.tileGroups=new Q(this.http,`${this.basePath}/v1/tile-groups`),this.tileTypes=new Q(this.http,`${this.basePath}/v1/tile-types`);}};e.ɵfac=function(t){return new(t||e)(me(he));},e.ɵprov=se({token:e,factory:e.ɵfac});let i=e;return i;})();var rt=["*"],R=(()=>{let e=class e{constructor(){this.start=0,this.decimal=0,this.duration=800,this.currentValue=0,this.oldValue=0;}set value(o){o&&(this.animate(this.oldValue,o),this.oldValue=o);}ngOnDestroy(){this.timer&&clearInterval(this.timer);}animate(o,t){let r=t-o,h=50,te=Math.abs(Math.floor(this.duration/r));te=Math.max(te,h);let tt=new Date().getTime()+this.duration,ne=()=>{let it=new Date().getTime(),ot=Math.max((tt-it)/this.duration,0),ae=Math.round(t-ot*r);this.currentValue=ae,Math.round(ae)===Math.round(t)&&clearInterval(this.timer);};this.timer=setInterval(ne,te),ne();}};e.ɵfac=function(t){return new(t||e)();},e.ɵcmp=d({type:e,selectors:[["sz-ui-counter"]],inputs:{value:"value"},standalone:!0,features:[u],ngContentSelectors:rt,decls:3,vars:1,template:function(t,r){t&1&&(ue(),p(0,"span"),w(1),fe(2),l()),t&2&&(s(),_e(" ",r.currentValue," "));},encapsulation:2});let i=e;return i;})();var L=(()=>{let e=class e{constructor(){this.removed=new de();}remove(){this.removed?.emit(this.tile);}};e.ɵfac=function(t){return new(t||e)();},e.ɵdir=ce({type:e,inputs:{tile:"tile"},outputs:{removed:"removed"}});let i=e;return i;})();var Xe=(()=>{let e=class e extends L{constructor(o,t,r,h){super(),this.mlabService=o,this.sprtService=t,this.dialog=r,this.router=h,this.card={menu:U.more([F.delete(()=>this.remove())]),subtitle:f.analyses,clickFn:()=>this.router.navigate(["/mlab/analyses"]),actions:[x.action(f.add,()=>this.router.navigate(["/mlab/analyses/create"]))]},this.value=null,this.indicator=I(!1),this.get();}get(){this.mlabService.analyses.count({filters:[]}).pipe(E(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(t){return new(t||e)(a(N),a(_),a(T),a(M));},e.ɵcmp=d({type:e,selectors:[["medisy-laboratory-tiles-analyses-count"]],standalone:!0,features:[P([_]),v,u],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(t,r){t&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),t&2&&(m("card",r.card)("indicator",r.indicator),s(),m("value",r.value));},dependencies:[z,g,O,y,A,R],encapsulation:2});let i=e;return i;})();var qe=(()=>{let e=class e extends L{constructor(o,t,r){super(),this.mlabService=o,this.dialog=t,this.router=r,this.card={icon:"biotech",subtitle:f.laboratories,clickFn:()=>this.router.navigate(["/mlab/laboratories"]),actions:[x.action(f.show,()=>this.router.navigate(["/mlab/laboratories"]))]},this.value=null,this.indicator=I(!1),this.get();}get(){this.mlabService.laboratories.count({filters:[]}).pipe(E(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(t){return new(t||e)(a(N),a(T),a(M));},e.ɵcmp=d({type:e,selectors:[["medisy-laboratory-tiles-laboratories-count"]],standalone:!0,features:[v,u],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(t,r){t&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),t&2&&(m("card",r.card)("indicator",r.indicator),s(),m("value",r.value));},dependencies:[z,g,O,y,A,R],encapsulation:2});let i=e;return i;})();var Je=(()=>{let e=class e extends L{constructor(o,t,r){super(),this.mlabService=o,this.dialog=t,this.router=r,this.card={icon:"label",subtitle:f.specimens,clickFn:()=>this.router.navigate(["/mlab/specimens"]),actions:[x.action(f.show,()=>this.router.navigate(["/mlab/specimens"]))]},this.value=null,this.indicator=I(!1),this.get();}get(){this.mlabService.specimens.count({filters:[]}).pipe(E(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(t){return new(t||e)(a(N),a(T),a(M));},e.ɵcmp=d({type:e,selectors:[["medisy-laboratory-tiles-specimens-count"]],standalone:!0,features:[v,u],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(t,r){t&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),t&2&&(m("card",r.card)("indicator",r.indicator),s(),m("value",r.value));},dependencies:[z,g,O,y,A,R],encapsulation:2});let i=e;return i;})();var Ke=(()=>{let e=class e extends L{constructor(o,t,r){super(),this.mlabService=o,this.dialog=t,this.router=r,this.card={icon:"lab_profile",subtitle:f.testClasses,clickFn:()=>this.router.navigate(["/mlab/test-classes"]),actions:[x.action(f.show,()=>this.router.navigate(["/mlab/test-classes"]))]},this.value=null,this.indicator=I(!1),this.get();}get(){this.mlabService.testClasses.count({filters:[]}).pipe(E(this.indicator)).subscribe(o=>{this.value=o;});}};e.ɵfac=function(t){return new(t||e)(a(N),a(T),a(M));},e.ɵcmp=d({type:e,selectors:[["medisy-laboratory-tiles-test-classes-count"]],standalone:!0,features:[v,u],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(t,r){t&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),t&2&&(m("card",r.card)("indicator",r.indicator),s(),m("value",r.value));},dependencies:[z,g,O,y,A,R],encapsulation:2});let i=e;return i;})();function at(i,e){if(i&1&&(p(0,"mat-label"),w(1),l()),i&2){let n=S();s(),ie(n.label);}}function st(i,e){i&1&&(p(0,"mat-option"),w(1,"-"),l());}function lt(i,e){if(i&1&&(p(0,"mat-option",4),w(1),l()),i&2){let n=e.$implicit,o=S();m("value",o.getOptionValue(n)),s(),ie(o.getOptionContent(n));}}function mt(i,e){i&1&&(p(0,"mat-error"),q(1,5),l());}function pt(i,e){i&1&&(p(0,"mat-error"),q(1,6),l());}function ct(i,e){i&1&&(p(0,"mat-error"),q(1,7),l());}function dt(i,e){i&1&&c(0,"mat-progress-bar",3);}var Qe=(()=>{let e=class e extends ze{constructor(o,t){super(o),this.ngControl=o,this.sprtService=t,this.label=f.abbreviation;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.sprtService.tileTypes.getAll(null,["name"]).pipe($(1)).pipe(E(this.indicator)).subscribe(o=>{this.options.push(...o.items),this.totalPages=o.totalPages;});}};e.ɵfac=function(t){return new(t||e)(a(Se,10),a(_));},e.ɵcmp=d({type:e,selectors:[["medisy-form-field-tile-type"]],standalone:!0,features:[P([_]),v,u],decls:11,vars:10,consts:()=>{let o;o="This field is required";let t;t="This field does not the minimum length";let r;return r="This field exceeds the maximum length",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],o,t,r];},template:function(t,r){t&1&&(p(0,"div",0)(1,"mat-form-field",1),D(2,at,2,1,"mat-label"),p(3,"mat-select",2),G("szScrolled",function(){return r.scroll();}),D(4,st,2,0,"mat-option"),H(5,lt,2,2,"mat-option",4,B),l(),D(7,mt,2,0,"mat-error")(8,pt,2,0,"mat-error")(9,ct,2,0,"mat-error"),l(),D(10,dt,1,0,"mat-progress-bar",3),l()),t&2&&(s(2),C(2,r.label?2:-1),s(),m("formControl",r.control)("multiple",r.multiple)("placeholder",r.placeholder)("szScrollIgnored",r.indicator()),s(),C(4,r.emptyOption?4:-1),s(),Y(r.options),s(2),C(7,r.control.hasError("required")?7:-1),s(),C(8,r.control.hasError("min")?8:-1),s(),C(9,r.control.hasError("max")?9:-1),s(),C(10,r.indicator()?10:-1));},dependencies:[K,J,Me,Ae,Ie,De,Fe,Ne,be,y,Pe,Ue],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let i=e;return i;})();function ut(i,e){i&1&&c(0,"medisy-form-field-tile-type",4),i&2&&m("multiple",!0);}var We=(()=>{let e=class e extends je{constructor(o,t,r,h){super(r),this.sprtService=o,this.fb=t,this.dialog=r,this.data=h,this.form=t.group({name:[h?.name,[oe.required,oe.minLength(1)]],description:[h?.description,[]],tileTypeIds:[]});}submit(){this.IsValid()&&(this.data?this.save(this.sprtService.tileGroups.update(this.data.id,this.form.value)):this.save(this.sprtService.tileGroups.create(this.form.value)));}};e.ɵfac=function(t){return new(t||e)(a(_),a(Te),a(Le),a(Ge));},e.ɵcmp=d({type:e,selectors:[["medisy-dashboard-save"]],standalone:!0,features:[P([_]),v,u],decls:7,vars:4,consts:()=>{let o;o="Name";let t;return t="Description",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","description","label",t],["formControlName","tileTypeIds",3,"multiple"],[3,"actions"]];},template:function(t,r){t&1&&(c(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),c(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),D(5,ut,1,1,"medisy-form-field-tile-type",4),l()(),c(6,"sz-ui-dialog-actions",5)),t&2&&(m("header",r.header),s(2),m("formGroup",r.form),s(3),C(5,r.data?-1:5),s(),m("actions",r.actions));},dependencies:[K,Ce,J,ve,ge,ye,$e,we,Ye,Ve,Be,Re,Oe,xe,Qe],encapsulation:2});let i=e;return i;})();function ft(i,e){if(i&1){let n=k();p(0,"medisy-laboratory-tiles-analyses-count",4),G("removed",function(t){j(n);let r=S(3);return V(r.removeTile(t));}),l();}if(i&2){let n=S().$implicit;m("tile",n);}}function _t(i,e){if(i&1){let n=k();p(0,"medisy-laboratory-tiles-specimens-count",4),G("removed",function(t){j(n);let r=S(3);return V(r.removeTile(t));}),l();}if(i&2){let n=S().$implicit;m("tile",n);}}function ht(i,e){if(i&1){let n=k();p(0,"medisy-laboratory-tiles-laboratories-count",4),G("removed",function(t){j(n);let r=S(3);return V(r.removeTile(t));}),l();}if(i&2){let n=S().$implicit;m("tile",n);}}function St(i,e){if(i&1){let n=k();p(0,"medisy-laboratory-tiles-test-classes-count",4),G("removed",function(t){j(n);let r=S(3);return V(r.removeTile(t));}),l();}if(i&2){let n=S().$implicit;m("tile",n);}}function vt(i,e){if(i&1&&D(0,ft,1,1,"medisy-laboratory-tiles-analyses-count",3)(1,_t,1,1)(2,ht,1,1)(3,St,1,1),i&2){let n=e.$implicit;C(0,n.tileType.identifier==="mlab-analyses-count"?0:n.tileType.identifier==="mlab-specimens-count"?1:n.tileType.identifier==="mlab-laboratories-count"?2:n.tileType.identifier==="mlab-test-classes-count"?3:-1);}}function Ct(i,e){if(i&1&&(c(0,"sz-ui-header-info",1),p(1,"div",2),H(2,vt,4,1,null,null,B),l()),i&2){let n=e.$implicit,o=S();m("title",n.name)("subtitle",n.description)("menu",o.tileGroupMenu)("data",n),s(2),Y(n.tiles);}}var Ze=(()=>{let e=class e{constructor(o,t,r){this.sprtService=o,this.dialog=t,this.router=r,this.tileGroups=[],this.title=f.dashboard,this.manageTileGroups=!1,this.menu=U.more([F.add(()=>this.openSaveComponent()),F.divider(),F.manage(()=>{this.manageTileGroups=!this.manageTileGroups,this.manageTileGroups?this.tileGroupMenu=U.more([F.edit(h=>this.openSaveComponent(h)),F.divider(),F.delete(h=>this.openTileGroupDeleteComponent(h))]):this.tileGroupMenu=null;})]),this.tileGroupMenu=null,this.get();}removeTile(o){this.sprtService.tiles.delete(o.id).pipe($(1)).subscribe(()=>{this.tileGroups.forEach(t=>{t.tiles=t.tiles.filter(r=>r.id!==o.id);});});}openSaveComponent(o=null){this.dialog.open(We,{data:o}).afterClosed().subscribe(t=>{t&&this.get();});}openTileGroupDeleteComponent(o){this.dialog.open(He,{data:ke.delete(this.sprtService.tileGroups.delete(o.id),o)}).afterClosed().subscribe(t=>{t&&(this.tileGroups=this.tileGroups.filter(r=>r.id!==t.id));});}get(){this.sprtService.tileGroups.getAll().pipe($(1)).subscribe(o=>{this.tileGroups=o.items;});}};e.ɵfac=function(t){return new(t||e)(a(_),a(T),a(M));},e.ɵcmp=d({type:e,selectors:[["medisy-dashboard"]],standalone:!0,features:[P([_]),u],decls:3,vars:2,consts:[[3,"title","menu"],[3,"title","subtitle","menu","data"],[1,"sz-grid-card","tw-mb-2"],[3,"tile"],[3,"tile","removed"]],template:function(t,r){t&1&&(c(0,"sz-ui-header-info",0),H(1,Ct,4,4,null,null,B)),t&2&&(m("title",r.title)("menu",r.menu),s(),Y(r.tileGroups));},dependencies:[W,Xe,Je,qe,Ke],encapsulation:2});let i=e;return i;})();var et=[{path:"",component:Ze}];var Bo=(()=>{let e=class e{};e.ɵfac=function(t){return new(t||e)();},e.ɵmod=pe({type:e}),e.ɵinj=le({imports:[Ee.forChild(et),g,W]});let i=e;return i;})();export{Bo as DashboardModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/