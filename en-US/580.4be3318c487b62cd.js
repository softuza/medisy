"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[580],{6580:(Oe,P,a)=>{a.r(P),a.d(P,{PersonsModule:()=>Me});var p=a(9808),Z=a(9764),I=a(7531),N=a(5245),E=a(7423),$=a(6114),_=a(2349),D=a(1079),c=a(6346),M=a(6087),F=a(1575),C=a(7446),O=a(4107),r=a(3075),b=a(2081),f=a(2181),y=a(7238),U=a(4623),S=a(4847),h=a(508),G=a(773),J=a(9224),A=a(5467),B=a(5701),x=a(2986),Q=a(675),Y=a(3869),g=a(6158),d=(()=>{return(t=d||(d={})).Male="Male",t.Female="Female",d;var t})(),m=(()=>{return(t=m||(m={})).Mr="Mr",t.Mrs="Mrs",t.Miss="Miss",t.Ms="Ms",m;var t})(),e=a(5e3),T=a(7093),z=a(7322),X=a(5006);let R=(()=>{class t{transform(n){switch(n){case d.Female:return "Female";case d.Male:return "Male";default:return""}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"sexI18n",type:t,pure:!0}),t})(),L=(()=>{class t{transform(n){switch(n){case m.Miss:return "Miss";case m.Mr:return "Mr";case m.Mrs:return "Mrs";case m.Ms:return "Ms";default:return""}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"titleI18n",type:t,pure:!0}),t})();function j(t,l){1&t&&e._UZ(0,"app-alert",14),2&t&&e.Q6J("alert",l.ngIf)}function H(t,l){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"sexI18n"),e.qZA()),2&t){const n=l.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(e.lcZ(2,2,n))}}function w(t,l){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"titleI18n"),e.qZA()),2&t){const n=l.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(e.lcZ(2,2,n))}}let k=(()=>{class t extends Y.a{constructor(n,o,s){super(o,n.group({sex:[s.sex],title:[s.title],startBirthDate:[s.startBirthDate],endBirthDate:[s.endBirthDate]})),this.fb=n,this.dialog=o,this.data=s,this.sexes=Object.values(d),this.titles=Object.values(m)}handleSubmit(){this.close(this.form.value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(_.so),e.Y36(_.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-management-persons-filter"]],features:[e._Bn([g.R]),e.qOj],decls:24,vars:9,consts:function(){let l,n,o,s,i;return l="Filter Results",n="Sex",o="Title",s="Close",i=" Save ",[["mat-dialog-title",""],l,[3,"alert",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayout.lt-md","column wrap","fxLayoutGap","8px"],["fxFlex","1 1 100%"],["formControlName","sex","placeholder",n],[3,"value",4,"ngFor","ngForOf"],["formControlName","title","placeholder",o],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],s,["mat-flat-button","","color","primary",3,"disabled","click"],i,[3,"alert"],[3,"value"]]},template:function(n,o){1&n&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,j,1,1,"app-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-select",6)(9,"mat-option"),e._uU(10,"-"),e.qZA(),e.YNc(11,H,3,4,"mat-option",7),e.qZA()()(),e.TgZ(12,"div",4)(13,"mat-form-field",5)(14,"mat-select",8)(15,"mat-option"),e._uU(16,"-"),e.qZA(),e.YNc(17,w,3,4,"mat-option",7),e.qZA()()()()(),e.TgZ(18,"mat-dialog-actions",9)(19,"button",10),e.NdJ("click",function(){return o.close()}),e.SDv(20,11),e.qZA(),e.TgZ(21,"button",12),e.NdJ("click",function(){return o.submit()}),e.SDv(22,13),e.ALo(23,"async"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,o.alert$)),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(6),e.Q6J("ngForOf",o.sexes),e.xp6(6),e.Q6J("ngForOf",o.titles),e.xp6(4),e.Q6J("disabled",e.lcZ(23,7,o.indicator$)))},dependencies:[p.sg,p.O5,r._Y,r.JJ,r.JL,r.sg,r.u,_.uh,_.xY,_.H8,h.ey,T.xw,T.SQ,T.yH,z.KE,X.w,E.lW,O.gD,p.Ov,R,L],encapsulation:2}),t})();var K=a(9779),V=a(9293),W=a(3998),v=a(7544);function q(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-header-cell",25)(1,"mat-checkbox",26),e.NdJ("change",function(s){e.CHM(n);const i=e.oxw();return e.KtG(s?i.masterToggle():null)}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function ee(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-cell",25)(1,"mat-checkbox",27),e.NdJ("click",function(s){return s.stopPropagation()})("change",function(s){const u=e.CHM(n).$implicit,Ce=e.oxw();return e.KtG(s?Ce.selection.toggle(u):null)}),e.qZA()()}if(2&t){const n=l.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(n))}}function te(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&t){const n=l.$implicit,o=e.oxw();e.uIk("colspan",o.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",n===o.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",n.description," ")}}function ne(t,l){1&t&&(e.TgZ(0,"mat-header-cell",28),e._uU(1," #"),e.qZA())}function oe(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",n.id," ")}}function le(t,l){1&t&&(e.TgZ(0,"mat-header-cell",28),e.SDv(1,29),e.qZA())}function ae(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",30)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&t){const n=l.$implicit;e.xp6(4),e.hij(" ",n.name," ")}}function se(t,l){1&t&&(e.TgZ(0,"mat-header-cell",28),e.SDv(1,31),e.qZA())}function ie(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",30)(2,"div")(3,"strong"),e._uU(4),e.ALo(5,"sexI18n"),e.qZA()()()()),2&t){const n=l.$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,n.sex)," ")}}function ce(t,l){1&t&&(e.TgZ(0,"mat-header-cell",28),e.SDv(1,32),e.qZA())}function re(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",30)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&t){const n=l.$implicit;e.xp6(4),e.hij(" ",n.birthDate," ")}}function me(t,l){1&t&&e._UZ(0,"mat-header-cell",25)}function _e(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(n);const s=e.oxw().$implicit,i=e.oxw();return e.KtG(i.expandedElement=i.expandedElement===s?null:s)}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA()()}if(2&t){const n=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Oqu(o.expandedElement===n?"expand_less":"expand_more")}}function pe(t,l){if(1&t&&(e.TgZ(0,"mat-cell",33),e.YNc(1,_e,3,1,"button",34),e.TgZ(2,"button",35)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e._UZ(5,"mat-menu",null,36),e.qZA()),2&t){const n=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("matMenuTriggerFor",n)}}function de(t,l){1&t&&e._UZ(0,"mat-header-row")}function ue(t,l){1&t&&e._UZ(0,"mat-row")}function Ee(t,l){if(1&t&&(e._UZ(0,"app-table-state",37),e.ALo(1,"async")),2&t){const n=e.oxw();e.Q6J("loading",e.lcZ(1,1,n.indicator$))}}const fe=function(){return[10,25,50,100]};function Se(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-paginator",38),e.NdJ("page",function(s){e.CHM(n);const i=e.oxw();return e.KtG(i.onPageChange(s.pageIndex,s.pageSize))}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("length",n.count)("pageSize",n.pageSize)("pageSizeOptions",e.DdM(3,fe))}}const ge=[{path:"",component:(()=>{class t extends Q.a{constructor(n,o){super(),this.dialog=n,this.personService=o,this.displayedColumns=["Sex","BirthDate","menu"],this.filter={},this.sortBy="CreatedAt",this.get()}openFilterComponent(){this.dialog.open(k,{autoFocus:!0,width:"480px",data:this.filter}).afterClosed().pipe((0,x.q)(1)).subscribe(o=>{o&&(this.filter=o,this.get())})}get(){const n={pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending};this.filter.sex&&(n.sex=this.filter.sex),this.filter.title&&(n.title=this.filter.title),this.personService.getPersons(n).pipe((0,B.sU)(this.indicator$)).pipe((0,x.q)(1)).subscribe(o=>{this.set(o.count,o.items)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.uw),e.Y36(g.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-management-persons"]],features:[e.qOj],decls:41,vars:11,consts:function(){let l,n,o,s;return l="Persons",n="Name",o="Sex",s="BirthDate",[[1,"header-basic"],[1,"title"],l,[1,"spacer"],["mat-icon-button","",3,"click"],["mat-icon-button","","matBadgeSize","small",3,"matBadge","click"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","Sex"],["matColumnDef","BirthDate"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],n,[1,"table-cell-stacked"],o,s,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e.SDv(3,2),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.search=!0}),e.TgZ(6,"mat-icon"),e._uU(7,"search"),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return o.openFilterComponent()}),e.TgZ(9,"mat-icon"),e._uU(10,"filter_list"),e.qZA()(),e.TgZ(11,"app-search-bar",6),e.NdJ("changed",function(i){return o.onSearch(i)})("closed",function(){return o.onSearchClose()}),e.qZA()(),e.TgZ(12,"app-table-selection",7)(13,"span"),e._uU(14),e.qZA(),e._UZ(15,"span",3),e.qZA(),e.TgZ(16,"mat-table",8),e.NdJ("matSortChange",function(i){return o.onSort(i.active,i.direction)}),e.ynx(17,9),e.YNc(18,q,2,2,"mat-header-cell",10),e.YNc(19,ee,2,1,"mat-cell",11),e.BQk(),e.ynx(20,12),e.YNc(21,te,4,3,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,ne,2,0,"mat-header-cell",15),e.YNc(24,oe,2,1,"mat-cell",13),e.BQk(),e.ynx(25,16),e.YNc(26,le,2,0,"mat-header-cell",15),e.YNc(27,ae,5,1,"mat-cell",13),e.BQk(),e.ynx(28,17),e.YNc(29,se,2,0,"mat-header-cell",15),e.YNc(30,ie,6,3,"mat-cell",13),e.BQk(),e.ynx(31,18),e.YNc(32,ce,2,0,"mat-header-cell",15),e.YNc(33,re,5,1,"mat-cell",13),e.BQk(),e.ynx(34,19),e.YNc(35,me,1,0,"mat-header-cell",10),e.YNc(36,pe,7,2,"mat-cell",20),e.BQk(),e.YNc(37,de,1,0,"mat-header-row",21),e.YNc(38,ue,1,0,"mat-row",22),e.qZA(),e.YNc(39,Ee,2,3,"app-table-state",23),e.YNc(40,Se,1,4,"mat-paginator",24),e.qZA()),2&n&&(e.xp6(8),e.s9C("matBadge",o.getFilterCount()),e.xp6(3),e.Q6J("visible",o.search),e.xp6(1),e.Q6J("visible",o.selection.hasValue()),e.xp6(2),e.hij("",o.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",o.sortBy),e.Q6J("dataSource",o.dataSource),e.xp6(21),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===o.count),e.xp6(1),e.Q6J("ngIf",o.count>0))},dependencies:[p.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,M.NW,K.R,V.H,W.N,C.oG,f.VK,f.p6,N.Hw,E.lW,S.YE,S.nU,v.k,p.Ov,R],encapsulation:2}),t})()}];let Te=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[A.Bz.forChild(ge),A.Bz]}),t})();var Pe=a(7775),Ne=a(4687);let Me=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[g.R,L],imports:[p.ez,r.u5,r.UX,Te,_.Is,D.Bb,Z.o9,c.p0,M.TU,I.c,F.U,Pe.B,$.n,C.p9,f.Tx,N.Ps,E.ot,O.LD,b.T5,y.AV,U.ie,S.JX,h.XK,J.QW,v.g,G.Cq,Ne.L]}),t})()}}]);