import{a as o,d as L,e as k,f as w,i as x,j as E}from"./chunk-UMQZRE5E.js";import"./chunk-RCVS45O2.js";import"./chunk-PXWWDYTP.js";import{a as R,g as j}from"./chunk-CK7WEH63.js";import{a as f}from"./chunk-6Q3GIAKO.js";import{a as m}from"./chunk-75LL5PNS.js";import"./chunk-R3ZFNPLW.js";import{k as F}from"./chunk-UXK6PSGI.js";import{a as T}from"./chunk-LLZ7TKB3.js";import{d as P,j as n,k as D}from"./chunk-EVGSYUOK.js";import"./chunk-LOH5CTE4.js";import{d as B,g as I}from"./chunk-M5V3PZRJ.js";import"./chunk-VUCYJ2HO.js";import"./chunk-CVH4P2E2.js";import"./chunk-443GWC6S.js";import"./chunk-SYXG226D.js";import"./chunk-J5ICTFNH.js";import"./chunk-D5DHQUZL.js";import"./chunk-EOQNX5GG.js";import{Y as O}from"./chunk-I2SD3VIP.js";import{a as y,c as v,d as z}from"./chunk-TM5JFVB7.js";import"./chunk-NUQX3XTB.js";import{ia as _,la as A}from"./chunk-Y7HMALTZ.js";import"./chunk-HTTNJI4B.js";import{Jb as l,Kb as c,Wb as p,ab as b,bb as s,ea as h,mc as M,na as S,oa as C,yb as u}from"./chunk-PGHKBHIM.js";import"./chunk-7NJ6IGLQ.js";var N=(()=>{let t=class t{constructor(e,r,i,d){this.dialog=e,this.mlabService=r,this.route=i,this.router=d,this.dataSource=new L("-createdAt"),this.appBarConfig={title:O.analyses,menu:D.default().setItems([n.add(()=>{this.router.navigate([f.AnalysisCreate])}),n.menu([n.search(),n.filter().setBadge(()=>this.dataSource.filtrationCount())])])};let g=this.router.getCurrentNavigation()?.extras.state;this.dataSource.filtration?.push(g&&g.filter),this.dataSource.columnDefs.push(o.uuid("id"),o.uuid("laboratoryId"),o.uuid("personId"),o.number("code").setClickFn(V=>this.router.navigate([f.Analyses,V.id])).setValueClassFontBold().setStacked(o.string("laboratory.name").setValueClassFontSmall()),o.date("createdAt"),o.date("updatedAt").setVisible(!1),o.menu([n.barcode(this.openBarcodeWriterComponent.bind(this))])),this.get()}openBarcodeWriterComponent(e){this.dialog.open(j,{data:{format:R.QR_CODE,msg:`analysisid.${e.id}`}}).afterClosed().subscribe({})}get(){this.mlabService.analyses.get(this.dataSource.getQuery()).pipe(k(this.dataSource.state)).subscribe(e=>{this.dataSource.set(e.items,e.count)})}};t.\u0275fac=function(r){return new(r||t)(s(B),s(m),s(y),s(v))},t.\u0275cmp=S({type:t,selectors:[["sz-medisy-laboratory-analyses"]],features:[M([])],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(r,i){r&1&&(l(0,"sz-ui-table-bar",0),p("changed",function(){return i.get()}),c(),l(1,"sz-ui-table",1),p("update",function(){return i.get()}),c()),r&2&&(u("config",i.appBarConfig)("dataSource",i.dataSource),b(),u("dataSource",i.dataSource))},dependencies:[x,w],styles:[".column-status[_ngcontent-%COMP%], .mat-column-detail-status[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]:not(mat-header-cell){max-width:4px;margin-left:24px}.mat-column-status[_ngcontent-%COMP%]:not(mat-header-cell){background-color:#13a311}.mat-column-detail-status[_ngcontent-%COMP%]{background-color:#13a311}.mat-cell[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{padding-left:0}"]});let a=t;return a})();var pt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=C({type:t}),t.\u0275inj=h({providers:[m],imports:[z.forChild([{path:"",component:N},{path:"create",loadComponent:()=>import("./chunk-3P3PM5IP.js").then(e=>e.CreateComponent)}]),I,E,F,T,P,_,A]});let a=t;return a})();export{N as AnalysesComponent,pt as AnalysesModule};
/**i18n:5a2c0bc94bbf1ef498664455a9d60582c29bc498832d9f320f89c95b436c0516*/
