import{a as Be,b as Ge,c as je}from"./chunk-ZTXSPDKN.js";import{a as Ue}from"./chunk-2J7Z53QK.js";import{a as Y}from"./chunk-K42OC3OB.js";import"./chunk-RZJGFBXK.js";import{b as Le}from"./chunk-AXEHZJFI.js";import{a as ae,b as se,c as me,d as pe,e as le,f as de,g as _e,h as ce}from"./chunk-FWZEH63T.js";import{a as ze}from"./chunk-EIONBHM2.js";import{b as De,d as G}from"./chunk-2ECT6FNW.js";import{b as Fe}from"./chunk-EFEERWMK.js";import{a as A}from"./chunk-23U5OAWX.js";import{a as R}from"./chunk-WMELU7HW.js";import{a as $e}from"./chunk-KPVCDJJ5.js";import{a as L}from"./chunk-HZ7HLTNL.js";import"./chunk-GTEYMXYW.js";import{h as Ye,r as xe}from"./chunk-72BBSYBY.js";import{a as B}from"./chunk-JHPSZAE5.js";import{a as _}from"./chunk-LAXXIHXK.js";import{c as Ne,h as Te,i as Oe,j as Re,m as be}from"./chunk-CWT2QOXX.js";import{b}from"./chunk-RCTLQVYZ.js";import"./chunk-I5QX4CCA.js";import{a as Ae,b as he,d as Ie,e as ye,g as O}from"./chunk-3NLMA3OD.js";import{A as Ee,v as Pe}from"./chunk-7ERNPK3U.js";import{A as Ce,f as J,g as K,k as Q,m as W,p as Z,q as ee,t as te,u as ie,w as oe,x as ne,y as N,z as Me}from"./chunk-HA3OCK63.js";import{f as ge,i as S,j as ve}from"./chunk-TRBAPJPW.js";import{p as fe,q as ue}from"./chunk-QFHU2GEW.js";import"./chunk-SRHI3DNT.js";import{Ea as re,Ga as T,Ja as Se,o as q}from"./chunk-T2UVNK6V.js";import{Eb as r,Fb as a,Gb as p,M as I,Qb as z,Ub as C,a as U,b as X,bb as y,dc as u,ea as H,ec as P,fb as s,gb as m,gc as E,jc as v,lc as w,na as M,nb as k,nc as F,oa as V,oc as $,qb as c,rb as D,sb as g,ub as d,zb as f}from"./chunk-T2ST7G6M.js";function we(e,i){if(e&1&&(r(0,"mat-card-subtitle"),u(1),a()),e&2){let l=C();s(),P(l.person==null?null:l.person.title);}}function qe(e,i){e&1&&(r(0,"mat-card-subtitle"),z(1,4),a());}function Je(e,i){if(e&1&&(r(0,"span"),u(1),a()),e&2){let l=C();s(),P(l.getPersonSex(l.person==null?null:l.person.sex));}}function Ke(e,i){e&1&&(r(0,"span"),u(1," - "),a());}function Qe(e,i){if(e&1&&(r(0,"span"),u(1),F(2,"personAge"),a()),e&2){let l=C();s(),P($(2,1,l.person==null?null:l.person.birthDate));}}function We(e,i){e&1&&(r(0,"mat-card-footer"),p(1,"mat-progress-bar",5),a());}var Ze=e=>[e],x=(()=>{let i=class i{set personId(o){this._personId=o,this.getPerson(o);}get personId(){return this._personId;}constructor(o,t){this.mpplService=o,this.personNamePipe=t,this.indicator=y(!1),this.attributes={items:[]};}addAttributes(o){if(o.phones&&o.phones.length>0){let t=o.phones.find(n=>n.phoneType===$e.Mobile)?.value;t&&this.attributes.items.push(G.text(t,"phone"));}if(o.emails&&o.emails.length>0){let t=o.emails.find(n=>n.emailType===Ue.Private)?.value;t&&this.attributes.items.push(G.text(t,"email"));}}getPersonSex(o){return Fe(o);}getPerson(o){this.mpplService.persons.getById(o).pipe(I(1),Ne(this.indicator)).subscribe(t=>{this.person=t,this.addAttributes(t);});}};i.ɵfac=function(t){return new(t||i)(m(R),m(A));},i.ɵcmp=M({type:i,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[E([]),v],decls:22,vars:13,consts:()=>{let o;o="More";let t;return t="Patient",[[1,"example-card"],[3,"list"],["mat-button","",3,"routerLink"],o,t,["mode","indeterminate"]];},template:function(t,n){t&1&&(r(0,"mat-card",0)(1,"mat-card-header"),c(2,we,2,1,"mat-card-subtitle")(3,qe,2,0),r(4,"mat-card-title"),u(5),F(6,"personName"),a(),r(7,"mat-card-subtitle"),c(8,Je,2,1,"span")(9,Ke,2,0,"span")(10,Qe,3,3,"span"),a()(),r(11,"mat-card-content")(12,"p"),u(13),a()(),r(14,"mat-card-content"),p(15,"sz-ui-list-compact",1),a(),r(16,"mat-card-content"),p(17,"mat-divider"),a(),r(18,"mat-card-actions")(19,"button",2),z(20,3),a()(),c(21,We,2,0,"mat-card-footer"),a()),t&2&&(s(2),f(2,n.person!=null&&n.person.title?2:3),s(3),P($(6,9,n.person)),s(3),f(8,n.person!=null&&n.person.sex?8:-1),s(),f(9,n.person!=null&&n.person.sex&&n.person!=null&&n.person.birthDate?9:-1),s(),f(10,n.person!=null&&n.person.birthDate?10:-1),s(3),P(n.person==null?null:n.person.note),s(2),d("list",n.attributes),s(4),d("routerLink",w(11,Ze,"/mppl/persons/"+n.personId)),s(2),f(21,n.indicator()?21:-1));},dependencies:[N,ne,ce,ae,le,me,_e,de,pe,se,De,Ce,Me,ue,fe,T,re,xe,A,ze],encapsulation:2});let e=i;return e;})();var Xe=(()=>{let i=class i extends Te{constructor(o,t,n,h){super(n),this.mlabService=o,this.fb=t,this.dialog=n,this.data=h,this.form=t.group({note:[h?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,X(U({},this.data),{note:this.form.value.note})));}};i.ɵfac=function(t){return new(t||i)(m(_),m(ee),m(Ae),m(he));},i.ɵcmp=M({type:i,selectors:[["medisy-analysis-save"]],standalone:!0,features:[E([_]),k,v],decls:5,vars:3,consts:()=>{let o;return o="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",o],[3,"actions"]];},template:function(t,n){t&1&&(p(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2),a()(),p(4,"sz-ui-dialog-actions",3)),t&2&&(d("header",n.header),s(2),d("formGroup",n.form),s(2),d("actions",n.actions));},dependencies:[te,Q,J,K,W,Z,O,ye,be,Oe,Re,Ee,Pe],encapsulation:2});let e=i;return e;})();var ot=()=>[L],nt=()=>[Y],rt=()=>[x];function at(e,i){if(e&1&&p(0,"medisy-people-persons-common-person-card",5),e&2){let l=C(2);d("personId",l.analysis.personId);}}function st(e,i){e&1&&(c(0,at,1,1),D(1,0,rt),g());}function mt(e,i){e&1&&p(0,"medisy-laboratory-analysis-tests");}function pt(e,i){e&1&&p(0,"medisy-laboratory-analysis-specimens");}var He=(()=>{let i=class i{constructor(o,t,n,h){this.dialog=o,this.route=t,this.router=n,this.mlabService=h,this.alert$=y(void 0),this.tiles=[],this.analysisMenu=ve.more([S.edit(()=>this.openSaveComponent()),S.divider(),S.print(()=>this.opendPrintComponent),S.default(B.publish,"publish",this.openPublishComponent),S.divider(),S.default(B.qr,"qr_code",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(Xe,{data:this.analysis}).afterClosed().pipe(I(1)).subscribe(o=>{o&&(this.analysis=o);});}opendPrintComponent(){}openPublishComponent(){}};i.ɵfac=function(t){return new(t||i)(m(Ie),m(ie),m(oe),m(_));},i.ɵcmp=M({type:i,selectors:[["medisy-laboratory-analysis"]],features:[E([_,R,A])],decls:12,vars:4,consts:()=>{let o;o="Tests";let t;return t="Specimens",[[3,"title","subTitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",o],["label",t],[3,"personId"]];},template:function(t,n){t&1&&(p(0,"sz-ui-header-info",0),r(1,"div",1),c(2,st,3,0),a(),r(3,"mat-tab-group",2)(4,"mat-tab",3),c(5,mt,1,0),D(6,5,ot),g(),a(),r(8,"mat-tab",4),c(9,pt,1,0),D(10,9,nt),g(),a()()),t&2&&(d("title",n.analysis.code)("subTitle",n.analysis.note)("menu",n.analysisMenu),s(2),f(2,n.analysis.personId?2:-1));},dependencies:[Be,Ge,b],encapsulation:2});let e=i;return e;})();var Ve=[{path:"",component:He},{path:"tests",loadComponent:()=>import("./chunk-UXZPJJ52.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-6WAUD2OD.js").then(e=>e.AnalysisSpecimensComponent)}];var vi=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=V({type:i}),i.ɵinj=H({providers:[_],imports:[q,N.forChild(Ve),O,Se,T,Ye,je,b,Le,ge,L,Y,x]});let e=i;return e;})();export{vi as AnalysisModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/