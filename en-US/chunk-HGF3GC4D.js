import{a as Qe,b as Xe,c as ke}from"./chunk-BJVDHX2A.js";import{a as ne}from"./chunk-7NL2LWQ5.js";import{a as ie}from"./chunk-7CK2BV2P.js";import"./chunk-GYUI2SSN.js";import"./chunk-CHPZASVR.js";import"./chunk-D7QF6LJS.js";import{a as Ge}from"./chunk-OS3HZXTL.js";import{a as He}from"./chunk-7FA4ZYOE.js";import"./chunk-HGFYK4WW.js";import{a as oe}from"./chunk-D6MZWQV5.js";import"./chunk-Z6KDOQJY.js";import{e as qe}from"./chunk-ZE2DUEEW.js";import"./chunk-LUYVV6ZZ.js";import"./chunk-KQZBZKEV.js";import{a as D}from"./chunk-3RTSFAIT.js";import{d as Ve,f as Ue,g as K,h as ee,k as te}from"./chunk-IQ6SYQWH.js";import"./chunk-BEDKXBFC.js";import"./chunk-D5SZFKK7.js";import{b as J}from"./chunk-WZL7BTCT.js";import{g as G,h as je,i as Pe,j as fe,l as xe}from"./chunk-J5QZPDV7.js";import{a as k,b as W,d as we,e as Z,g as B}from"./chunk-UN7ZV7OU.js";import{l as Be,r as $e}from"./chunk-GX24BV66.js";import"./chunk-UDOEMJGB.js";import{a as Ye}from"./chunk-IRYEWOMO.js";import"./chunk-RH3HJREX.js";import{c as pe}from"./chunk-O6G4W4SF.js";import"./chunk-3MHW6B4E.js";import{f as De,g as Ee,k as Te,m as be,p as Ne,q as Q,t as X}from"./chunk-U3CUVO3E.js";import"./chunk-72GYWXTT.js";import{a as Re,c as Le,e as ze}from"./chunk-D3PLXWXH.js";import"./chunk-IFFAZPN3.js";import{c as Fe}from"./chunk-AHPLM44D.js";import{ia as Oe}from"./chunk-Y7MZZUBM.js";import{o as Ie}from"./chunk-AD74A3E4.js";import{Cb as Ce,Hb as R,Ib as L,Jb as A,O as ae,Xb as Me,a as de,b as ue,cc as ye,dc as Ae,ea as me,eb as _e,ec as ve,f as he,ha as Se,ib as O,jb as M,jc as Y,mc as q,pa as le,qa as F,qb as H,ra as ge,tb as x,ub as V,vb as U,xb as I}from"./chunk-MNGWH3SB.js";function We(f){let l=[],$=0,u=0,m=function(c,p){l[p]=l[p]||[],l[p][c]=1;},d=function(c){let p=[];for(let r=0;r<c.length;r++){let t=c.charCodeAt(r),o=r+1<c.length?c.charCodeAt(r+1):0;t>47&&t<58&&o>47&&o<58?(p.push((t-48)*10+o+82),r++):t>127?(p.push(235),p.push(t-127&255)):p.push(t+1);}return p;},E=function(c){let p=[231],r=c.length;250<r&&p.push(37+(r/250|0)&255),p.push(r%250+149*(p.length+1)%255+1&255);for(let t=0;t<r;t++)p.push(c.charCodeAt(t)+149*(p.length+1)%255+1&255);return p;},it=function(c){let p=c.length+1&-4,r=0,t,o=p>0?[240]:[];for(let a=0;a<p;a++){if(a<p-1){if(t=c.charCodeAt(a),t<32||t>94)return[];}else t=31;r=r*64+(t&63),(a&3)==3&&(o.push(r>>16),o.push(r>>8&255),o.push(r&255),r=0);}return p>c.length?o:o.concat(d(c.substr(p==0?0:p-1)));},re=function(c,p){let r,t,o=0,a=0,n=c.length,e=[p[0]],C=function(_){a=40*a+_,o++==2&&(e.push(++a>>8),e.push(a&255),o=a=0);};for(r=0;r<n&&!(o==0&&r==n-1);r++){let _=c.charCodeAt(r);for(_>127&&e[0]!=238&&(C(1),C(30),_-=128),t=1;_>p[t];t+=3);let y=p[t+1];if(y==8||y==9&&o==0&&r==n-1)return[];if(y<5&&o==2&&r==n-1)break;y<5&&C(y),C(_-p[t+2]);}return o==2&&e[0]!==238&&C(0),e.push(254),(o>0||r<n)&&(e=e.concat(d(c.substr(r-o)))),e;},ot=function(c,p){c=decodeURI(encodeURI(c));let r=d(c),t=r.length,o=re(c,[230,31,0,0,32,9,29,47,1,33,57,9,44,64,1,43,90,9,51,95,1,69,127,2,96,255,1,0]),a=o.length;a>0&&a<t&&(r=o,t=a),o=re(c,[239,31,0,0,32,9,29,47,1,33,57,9,44,64,1,43,90,2,64,95,1,69,122,9,83,127,2,96,255,1,0]),a=o.length,a>0&&a<t&&(r=o,t=a),o=re(c,[238,12,8,0,13,9,13,31,8,0,32,9,29,41,8,0,42,9,41,47,8,0,57,9,44,64,8,0,90,9,51,255,8,0]),a=o.length,a>0&&a<t&&(r=o,t=a),o=it(c),a=o.length,a>0&&a<t&&(r=o,t=a),o=E(c),a=o.length,a>0&&a<t&&(r=o,t=a);let n,e,C=1,_=1,y,T,i,s=-1,h,g,S,b=1,v=new Array(70),N=new Array(70),z=new Array(256),w=new Array(255);if(p&&t<50){o=[16,7,28,11,24,14,32,18,32,24,44,28];do e=o[++s],n=6+(s&12),a=e*n/8;while(a-o[++s]<t);e>25&&(C=2);}else{e=n=6,i=2,o=[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620];do{if(++s==o.length)return[0,0];e>11*i&&(i=4+i&12),e=n+=i,a=e*n>>3;}while(a-o[s]<t);e>27&&(_=C=2*(e/54|0)+2),a>255&&(b=2*(a>>9)+2);}for(S=o[s],y=e/C,T=n/_,t<a-S&&(r[t++]=129);t<a-S;)r[t++]=(149*t%253+130)%254;S/=b;let se;for(s=1,i=0;i<255;i++)w[i]=s,z[s]=i,s+=s,s>255&&(s^=301);for(v[S]=0,i=1;i<=S;i++)for(s=S-i,v[s]=1;s<S;s++)v[s]=v[s+1]^w[(z[v[s]]+i)%255];for(h=0;h<b;h++){for(i=0;i<=S;i++)N[i]=0;for(i=h;i<t;i+=b)for(s=0,se=N[0]^r[i];s<S;s++)N[s]=N[s+1]^(se?w[(z[v[s]]+z[se])%255]:0);for(i=0;i<S;i++)r[t+h+i*b]=N[i];}for(i=0;i<n+2*_;i+=T+2)for(s=0;s<e+2*C;s++)m(s,i+T+1),s&1||m(s,i);for(i=0;i<e+2*C;i+=y+2)for(s=0;s<n;s++)m(i,s+(s/T|0)*2+1),(s&1)==1&&m(i+y+1,s+(s/T|0)*2);S=2,h=0,g=4;let nt=[0,0,-1,0,-2,0,0,-1,-1,-1,-2,-1,-1,-2,-2,-2];for(i=0;i<a;g-=S,h+=S){if(g==n-3&&h==-1)o=[e,6-n,e,5-n,e,4-n,e,3-n,e-1,3-n,3,2,2,2,1,2];else if(g==n+1&&h==1&&!(e&7)&&(n&7)==6)o=[e-2,-n,e-3,-n,e-4,-n,e-2,-1-n,e-3,-1-n,e-4,-1-n,e-2,-2,-1,-2];else{if(g==0&&h==e-2&&e&3)continue;if(g<0||h>=e||g>=n||h<0)for(S=-S,g+=2+S/2,h+=2-S/2;g<0||h>=e||g>=n||h<0;)g-=S,h+=S;if(g==n-2&&h==0&&e&3)o=[e-1,3-n,e-1,2-n,e-2,2-n,e-3,2-n,e-4,2-n,0,1,0,0,0,-1];else if(g==n-2&&h==0&&(e&7)==4)o=[e-1,5-n,e-1,4-n,e-1,3-n,e-1,2-n,e-2,2-n,0,1,0,0,0,-1];else{if(g==1&&h==e-1&&!(e&7)&&(n&7)==6)continue;o=nt;}}for(t=r[i++],s=0;t>0;s+=2,t>>=1)if(t&1){let j=h+o[s],P=g+o[s+1];j<0&&(j+=e,P+=4-(e+4&7)),P<0&&(P+=n,j+=4-(n+4&7)),m(j+2*(j/y|0)+1,P+2*(P/T|0)+1);}}for(i=e;i&3;i--)m(i,i);$=e+2*C,u=n+2*_;};return function(){function c(v){return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(v);}function p(v,N){let z=document.createElementNS(e,v);for(let w in N||{})z.setAttribute(w,N[w]);return z;}let r,t,o,a,n,e="http://www.w3.org/2000/svg",C="",_=typeof f=="string"?{msg:f}:f||{},y=_.pal||["#000"],T=Math.abs(_.dim)||256,i=Math.abs(_.pad);i=i>-1?i:2;let s=[1,0,0,1,i,i],h=y[0];h=c(h)?h:"#000";let g=y[1];g=c(g)?g:0;let S=_.vrb?0:1;for(ot(_.msg||"",_.rct),a=$+i*2,n=u+i*2,t=u;t--;)for(o=0,r=$;r--;)l[t][r]&&(S?(o++,l[t][r-1]||(C+="M"+r+","+t+"h"+o+"v1h-"+o+"v-1z",o=0)):C+="M"+r+","+t+"h1v1h-1v-1z");let b=p("svg",{viewBox:[0,0,a,n].join(" "),width:`${T/n*a|0}`,height:`${T}`,fill:h,"shape-rendering":"crispEdges",xmlns:e,version:"1.1"});return g&&b.appendChild(p("path",{fill:g,d:"M0,0v"+n+"h"+a+"V0H0Z"})),b.appendChild(p("path",{transform:"matrix("+s+")",d:C})),b;}();}var mt=["container"],Je=(()=>{let l=class l extends Ve{constructor(u,m,d){super(m),this.fb=u,this.dialog=m,this.data=d,this.minHeight=me(200),this.minWidth=me(200),this.quietZoneSize=4;}ngAfterViewInit(){this.generate();}generate(){return he(this,null,function*(){this.containerElement||this.alert.set({message:"Container not found",type:Ye.Error,timeout:5e3});let u=this.containerElement.nativeElement.offsetWidth,m=this.containerElement.nativeElement.offsetHeight,d=We({msg:"Your message here",dim:256,rct:0,pad:2,pal:["#000000","#f2f4f8"],vrb:0});this.containerElement.nativeElement.appendChild(d);});}};l.ɵfac=function(m){return new(m||l)(M(Q),M(k),M(W));},l.ɵcmp=F({type:l,selectors:[["sz-medisy-laboratory-analysis-qr"]],viewQuery:function(m,d){if(m&1&&ye(mt,5),m&2){let E;Ae(E=ve())&&(d.containerElement=E.first);}},inputs:{minHeight:[le.SignalBased,"minHeight"],minWidth:[le.SignalBased,"minWidth"]},standalone:!0,features:[Y([]),H,q],decls:5,vars:2,consts:[[3,"header"],["container",""],[3,"actions"]],template:function(m,d){m&1&&(A(0,"sz-ui-dialog-header",0),R(1,"mat-dialog-content"),A(2,"div",null,1),L(),A(4,"sz-ui-dialog-actions",2)),m&2&&(I("header",d.header),O(4),I("actions",d.actions));},dependencies:[X,B,Z,te,K,ee],encapsulation:2});let f=l;return f;})();var Ke=(()=>{let l=class l extends Ue{constructor(u,m,d,E){super(d),this.mlabService=u,this.fb=m,this.dialog=d,this.data=E,this.form=m.group({note:[E?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,ue(de({},this.data),{note:this.form.value.note})));}};l.ɵfac=function(m){return new(m||l)(M(D),M(Q),M(k),M(W));},l.ɵcmp=F({type:l,selectors:[["sz-medisy-laboratory-analysis-save"]],standalone:!0,features:[Y([D]),H,q],decls:5,vars:3,consts:()=>{let u;return u="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",u],[3,"actions"]];},template:function(m,d){m&1&&(A(0,"sz-ui-dialog-header",0),R(1,"mat-dialog-content")(2,"form",1),A(3,"sz-ui-form-field-input",2),L()(),A(4,"sz-ui-dialog-actions",3)),m&2&&(I("header",d.header),O(2),I("formGroup",d.form),O(2),I("actions",d.actions));},dependencies:[X,Te,De,Ee,be,Ne,B,Z,te,K,ee,$e,Be],encapsulation:2});let f=l;return f;})();var pt=()=>[oe],ft=()=>[ne],ct=()=>[ie];function dt(f,l){if(f&1&&A(0,"sz-medisy-people-person-card",5),f&2){let $=Me(2);I("personId",$.analysis.personId);}}function ut(f,l){f&1&&(x(0,dt,1,1),V(1,0,ct),U());}function ht(f,l){f&1&&A(0,"sz-medisy-laboratory-analysis-tests");}function St(f,l){f&1&&A(0,"sz-medisy-laboratory-analysis-specimens");}var et=(()=>{let l=class l{constructor(u,m,d,E){this.dialog=u,this.route=m,this.router=d,this.mlabService=E,this.alert$=_e(void 0),this.tiles=[],this.analysisMenu=xe.more([fe.edit(()=>this.openSaveComponent()),G.divider(),fe.print(()=>this.opendPrintComponent),G.item(pe.publish,"publish",this.openPublishComponent),G.divider(),G.item(pe.qr,Pe.qr,()=>this.openQRCodeComponent())]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(Ke,{data:this.analysis}).afterClosed().pipe(ae(1)).subscribe(u=>{u&&(this.analysis=u);});}opendPrintComponent(){}openPublishComponent(){}openQRCodeComponent(){this.dialog.open(Je,{data:this.analysis}).afterClosed().pipe(ae(1)).subscribe({});}};l.ɵfac=function(m){return new(m||l)(M(we),M(Re),M(Le),M(D));},l.ɵcmp=F({type:l,selectors:[["sz-medisy-laboratory-analysis"]],features:[Y([D,Ge])],decls:12,vars:4,consts:()=>{let u;u="Tests";let m;return m="Specimens",[[3,"title","subtitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",u],["label",m],[3,"personId"]];},template:function(m,d){m&1&&(A(0,"sz-ui-header-info",0),R(1,"div",1),x(2,ut,3,0),L(),R(3,"mat-tab-group",2)(4,"mat-tab",3),x(5,ht,1,0),V(6,5,pt),U(),L(),R(8,"mat-tab",4),x(9,St,1,0),V(10,9,ft),U(),L()()),m&2&&(I("title",d.analysis.code)("subtitle",d.analysis.note)("menu",d.analysisMenu),O(2),Ce(2,d.analysis.personId?2:-1));},dependencies:[Qe,Xe,J],encapsulation:2});let f=l;return f;})();var tt=[{path:"",component:et},{path:"tests",loadComponent:()=>import("./chunk-DS27T6LL.js").then(f=>f.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-YMTTHS6G.js").then(f=>f.AnalysisSpecimensComponent)}];var Ii=(()=>{let l=class l{};l.ɵfac=function(m){return new(m||l)();},l.ɵmod=ge({type:l}),l.ɵinj=Se({providers:[D],imports:[Ie,ze.forChild(tt),B,Oe,Fe,qe,ke,J,He,je,oe,ne,ie]});let f=l;return f;})();export{et as AnalysisComponent,Ii as AnalysisModule};/**i18n:93110c93724266b1c17cde4cedf877a4f3393465ad71eafcdf9d2e9828471749*/