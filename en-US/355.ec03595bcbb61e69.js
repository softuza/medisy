"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[355],{355:(Z,E,n)=>{n.r(E),n.d(E,{SamplesModule:()=>q});var A,O,e=n(6814),d=n(6223),f=n(4630),M=n(9014),T=n(2296),P=n(5195),N=n(5986),v=n(3680),h=n(7700),y=n(617),_=n(2032),R=n(9038),L=n(7988),z=n(1476),D=n(5940),b=n(8525),F=n(3566),x=n(1545),B=n(5313),Y=n(2596),i=n(8109),c=n(4407),o=n(5041),s=n(8766),u=n(3572),C=n(465),$=n(3753),U=n(9598),G=n(2119),J=n(8180);A||(A={}),O||(O={});var I,S=(()=>((S=S||{}).Blood="Blood",S.Semen="Semen",S.Sputun="Sputun",S.Stool="Stool",S.Urine="Urine",S.Saliva="Saliva",S.Sweat="Sweat",S.Hair="Hair",S.Fingernail="Fingernail",S.Biopsy="Biopsy",S.Fluid="Fluid",S.Swab="Swab",S))();I||(I={});var H=n(3524),t=n(5879),Q=n(9157),X=n(1746);function j(l,p){if(1&l&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&l){const a=p.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}let w=(()=>{class l extends H.Ts{constructor(a,r,m){super(r),this.fb=a,this.dialog=r,this.data=m,this.sampleTypes=Object.keys(S).map(g=>S[g]),this.biopsyTypes=Object.keys(A).map(g=>A[g]),this.fluidTypes=Object.keys(O).map(g=>O[g]),this.swabTypes=Object.keys(I).map(g=>I[g]),this.form=a.group({sampleType:[m.sampleType],swabType:[m.swabType],fluidType:[m.fluidType],biopsyType:[m.biopsyType]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return l.\u0275fac=function(a){return new(a||l)(t.Y36(d.qu),t.Y36(h.so),t.Y36(h.WI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-laboratory-samples-filter"]],features:[t._Bn([]),t.qOj],decls:15,vars:4,consts:function(){let p,a,r,m;return p="Filter",a="Type",r="Close",m="Save",[["mat-dialog-title",""],p,[3,"alert"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["formControlName","sampleType","placeholder",a],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],r,["mat-flat-button","","color","primary",3,"disabled","click"],m,[3,"value"]]},template:function(a,r){1&a&&(t.TgZ(0,"h2",0),t.SDv(1,1),t.qZA(),t._UZ(2,"sz-ui-alert",2),t.TgZ(3,"mat-dialog-content")(4,"form",3)(5,"mat-form-field",4)(6,"mat-select",5)(7,"mat-option"),t._uU(8,"-"),t.qZA(),t.YNc(9,j,2,2,"mat-option",6),t.qZA()()()(),t.TgZ(10,"mat-dialog-actions",7)(11,"button",8),t.NdJ("click",function(){return r.dialog.close()}),t.SDv(12,9),t.qZA(),t.TgZ(13,"button",10),t.NdJ("click",function(){return r.submit()}),t.SDv(14,11),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("alert",r.alert()),t.xp6(2),t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("ngForOf",r.sampleTypes),t.xp6(4),t.Q6J("disabled",r.indicator()))},dependencies:[e.sg,d._Y,d.JJ,d.JL,d.sg,d.u,h.uh,h.xY,h.H8,v.ey,Q.KE,X.R,T.lW,b.gD],encapsulation:2}),l})();var K=n(9692),W=n(9288),V=n(2516);const k=[{path:"",component:(()=>{class l{constructor(a,r){this.dialog=a,this.sampleService=r,this.dataSource=new u.b2(U.J.pagedSorted("-createdAt")),this.get()}openFilterComponent(){this.dialog.open(w,{data:this.dataSource.filterModel}).afterClosed().pipe((0,J.q)(1)).subscribe(r=>{this.dataSource.updateFilterModel(r),this.get()})}get(){this.sampleService.getSamples(this.dataSource.filterModel).pipe((0,G.sU)(this.dataSource.indicator),(0,J.q)(1)).subscribe(a=>{this.dataSource.set(a.items,a.count)})}}return l.\u0275fac=function(a){return new(a||l)(t.Y36(h.uw),t.Y36($.F))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-laboratory-samples"]],decls:8,vars:4,consts:function(){let p,a;return p="Samples",a="Add",[["start","",1,"sz-h5"],p,[3,"dataSource","search","filter"],["title","","mat-flat-button","","routerLink","create","color","primary","start",""],a,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(a,r){1&a&&(t.TgZ(0,"sz-ui-header-basic")(1,"h5",0),t.SDv(2,1),t.qZA()(),t.TgZ(3,"sz-ui-table-filter",2),t.NdJ("search",function(){return r.get()})("filter",function(){return r.openFilterComponent()}),t.TgZ(4,"button",3)(5,"span"),t.SDv(6,4),t.qZA()()(),t.TgZ(7,"sz-ui-table",5),t.NdJ("update",function(){return r.get()}),t.qZA()),2&a&&(t.xp6(3),t.Q6J("dataSource",r.dataSource),t.xp6(4),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",r.dataSource))},dependencies:[i.rH,K.K,W.f,V.z,T.lW],encapsulation:2}),l})()}];let q=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[$.F],imports:[e.ez,d.u5,d.UX,i.Bz.forChild(k),h.Is,f.Bb,B.p0,z.TU,_.c,u.Vn,s.h,c.E,o.n,N.p9,L.Tx,y.Ps,T.ot,b.LD,x.T5,Y.AV,R.ie,F.JX,v.XK,P.QW,M.g,D.Cq,C.L]}),l})()},465:(Z,E,n)=>{n.d(E,{L:()=>d});var e=n(5879);let d=(()=>{class f{}return f.\u0275fac=function(T){return new(T||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({}),f})()},9288:(Z,E,n)=>{n.d(E,{f:()=>Y});var e=n(5879),d=n(6814),f=n(2516),M=n(7650);const T=["input"];function P(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.close())}),e.qZA()}}let N=(()=>{class i{constructor(){this.showClose=!0,this.closed=new e.vpe,this.changed=new e.vpe,this.valueChange=new e.vpe,this._value="",this.visibleChange=new e.vpe,this._visible=!1}set value(o){this._value=o||""}get value(){return this._value}set visible(o){this._visible=o,o&&this.input&&this.input.nativeElement.focus()}get visible(){return this._visible}keyup(o){if("Escape"===o.key)return void this.close();const s=this.input?.nativeElement.value;this.valueChange.emit(s),this.changed.emit(s)}close(){this.value="",this.valueChange.emit(this.value),this.changed.emit(this.value),this.visibleChange.emit(!1),this.closed.emit()}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["sz-ui-search-bar"]],viewQuery:function(o,s){if(1&o&&e.Gf(T,5),2&o){let u;e.iGM(u=e.CRH())&&(s.input=u.first)}},inputs:{showClose:"showClose",value:"value",visible:"visible"},outputs:{closed:"closed",changed:"changed",valueChange:"valueChange",visibleChange:"visibleChange"},decls:4,vars:3,consts:function(){let c;return c="Search...",[[1,"container"],["label",c,"type","text","aria-label","search","name","",3,"value","keyup"],["input",""],["aria-label","close",3,"click",4,"ngIf"],["aria-label","close",3,"click"]]},template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("keyup",function(C){return s.keyup(C)}),e.qZA(),e.YNc(3,P,1,0,"button",3),e.qZA()),2&o&&(e.Q6J("@slide",s._visible),e.xp6(1),e.Q6J("value",s.value),e.xp6(2),e.Q6J("ngIf",s.showClose))},dependencies:[d.O5],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;right:0;left:0;z-index:2;background-color:#fafafa;display:flex;box-sizing:border-box;padding:0;flex-direction:row;align-items:center;white-space:nowrap;border-radius:4px}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:inherit;font-size:18px;line-height:1;display:inline-block;box-sizing:border-box;width:100%;padding:.05em 16px;color:#000;border:none;outline:none;background-color:transparent}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:24px;width:24px;height:24px;margin:0;padding:0;cursor:pointer;border:none;outline:none;background:no-repeat url(data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}"],data:{animation:[M.N$.slide()]}}),i})();var v=n(9014),h=n(617),y=n(2296),_=n(6825);const R=["*"];let L=(()=>{class i{constructor(){this.visible=!1}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["sz-ui-table-selection"]],inputs:{visible:"visible"},ngContentSelectors:R,decls:2,vars:1,consts:[[1,"table-selection","container"]],template:function(o,s){1&o&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&o&&e.Q6J("@toggleHeight",s.visible)},styles:[".container[_ngcontent-%COMP%]{width:100%;height:56px;position:absolute;top:0;right:0;left:0;z-index:2;display:flex;box-sizing:border-box;padding:0 16px;flex-direction:row;align-items:center;white-space:nowrap}@media (max-width: 599px){.container[_ngcontent-%COMP%]{height:56px}}"],data:{animation:[(0,_.X$)("toggleHeight",[(0,_.SB)("false",(0,_.oB)({height:"0px",opacity:"0",overflow:"hidden"})),(0,_.SB)("true",(0,_.oB)({height:"*",opacity:"1"})),(0,_.eR)("false => true",(0,_.jt)("100ms ease-in")),(0,_.eR)("true => false",(0,_.jt)("100ms ease-out"))])]}}),i})();function z(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.searching=!0)}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function D(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.filterData())}),e.TgZ(1,"mat-icon"),e._uU(2,"filter_list"),e.qZA()()}if(2&i){const o=e.oxw();e.s9C("matBadge",o.dataSource.getFilterCount())}}function b(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"sz-ui-search-bar",9),e.NdJ("visibleChange",function(u){e.CHM(o);const C=e.oxw();return e.KtG(C.searching=u)})("valueChange",function(u){e.CHM(o);const C=e.oxw();return e.KtG(C.dataSource.filterModel.query=u)})("changed",function(){e.CHM(o);const u=e.oxw();return e.KtG(u.searchData())}),e.qZA()}if(2&i){const o=e.oxw();e.Q6J("visible",o.searching)("value",o.dataSource.filterModel.query)}}function F(i,c){if(1&i&&(e.TgZ(0,"sz-ui-table-selection",10)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",11),e.qZA()),2&i){const o=e.oxw();e.Q6J("visible",o.dataSource.hasSelected()),e.xp6(2),e.hij("",o.dataSource.selectedCount()," selected")}}const x=[[["","start",""]],[["","end",""]],[["","end",""]]],B=["[start]","[end]","[end]"];let Y=(()=>{class i{constructor(){this.visible=!1,this.search=new e.vpe,this.filter=new e.vpe,this.searching=!1}searchData(){this.search&&this.search.emit()}filterData(){this.filter&&this.filter.emit()}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["sz-ui-table-filter"]],inputs:{visible:"visible",dataSource:"dataSource"},outputs:{search:"search",filter:"filter"},ngContentSelectors:B,decls:10,vars:5,consts:[[3,"cls"],["start",""],["end",""],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matBadgeSize","small",3,"matBadge","click",4,"ngIf"],[3,"visible","value","visibleChange","valueChange","changed",4,"ngIf"],[3,"visible",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","matBadgeSize","small",3,"matBadge","click"],[3,"visible","value","visibleChange","valueChange","changed"],[3,"visible"],[1,"spacer"]],template:function(o,s){1&o&&(e.F$t(x),e.TgZ(0,"sz-ui-header-basic",0)(1,"div",1),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2),e.Hsn(4,1),e.YNc(5,z,3,0,"button",3),e.YNc(6,D,3,1,"button",4),e.YNc(7,b,1,2,"sz-ui-search-bar",5),e.YNc(8,F,4,2,"sz-ui-table-selection",6),e.Hsn(9,2),e.qZA()()),2&o&&(e.Q6J("cls","sz-header-margin sz-shadow"),e.xp6(5),e.Q6J("ngIf",s.search.observers.length>0),e.xp6(1),e.Q6J("ngIf",s.filter.observers.length>0),e.xp6(1),e.Q6J("ngIf",s.dataSource.filterModel),e.xp6(1),e.Q6J("ngIf",s.dataSource))},dependencies:[d.O5,f.z,N,v.k,h.Hw,y.RK,L]}),i})()}}]);