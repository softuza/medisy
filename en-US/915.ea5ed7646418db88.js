"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[915],{8915:(b,g,s)=>{s.r(g),s.d(g,{PersonModule:()=>vt});var r=s(6895),c=s(4392),O=s(5698),M=s(9293),u=s(2700),N=s(5412),l=s(4006),p=s(6656),T=s(6381),e=s(4650),d=s(9939),f=s(5237),R=s(3238),h=s(9549),A=s(4859),I=s(4385),L=s(4144),X=s(806);function B(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function F(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"emailTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let j=(()=>{class _ extends p.E{constructor(t,n,E,a){super(E,n.group({value:[a.value,[l.kI.required,l.kI.email]],emailType:[a.emailType,[l.kI.required]],description:[a.description,[]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=a,this.emailTypes=Object.keys(T.V).map(i=>T.V[i])}handleSubmit(){this.personService.updatePersonEmail(this.data.personId,this.data.id,this.form.value).pipe((0,M.sU)(this.indicator$)).pipe((0,M.S3)(this.alert$)).pipe((0,O.q)(1)).subscribe(n=>{this.close(n)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(l.qu),e.Y36(N.so),e.Y36(N.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-emails-person-email-edit"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,a,i;return o="Edit",t="Description",n="Email",E="Type",a="Close",i=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","emailType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],a,["mat-flat-button","","color","primary",3,"disabled","click"],i,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,B,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,F,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.emailTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.w,N.uh,N.xY,N.H8,R.ey,h.KE,A.lW,I.gD,L.Nt,r.Ov,X.V],encapsulation:2}),_})();var Z=s(8823);function K(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function V(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"emailTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let W=(()=>{class _ extends p.E{constructor(t,n,E,a){super(E,n.group({value:[null,[l.kI.required,l.kI.email]],description:[null,[]],emailType:[T.V.Private,[l.kI.required]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=a,this.emailTypes=Object.keys(T.V).map(i=>T.V[i])}handleSubmit(){this.personService.createPersonEmail(this.data.id,this.form.value).pipe((0,M.sU)(this.indicator$)).pipe((0,M.S3)(this.alert$)).pipe((0,O.q)(1)).subscribe(t=>{this.close(t)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(l.qu),e.Y36(N.so),e.Y36(N.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-emails-create"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,a,i;return o="Create",t="Description",n="Email",E="Type",a="Close",i=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","emailType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],a,["mat-flat-button","","color","primary",3,"disabled","click"],i,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,K,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,V,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.emailTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.w,N.uh,N.xY,N.H8,R.ey,h.KE,A.lW,I.gD,L.Nt,r.Ov,X.V],encapsulation:2}),_})();var G=s(7392),C=s(8255),k=s(3104),q=s(7885),J=s(3748),S=s(671),x=s(8739),D=s(6308),y=s(4850),U=s(6709),Y=s(3593);function ee(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-header-cell",28)(1,"mat-checkbox",29),e.NdJ("change",function(E){e.CHM(t);const a=e.oxw();return e.KtG(E?a.masterToggle():null)}),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function te(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",28)(1,"mat-checkbox",30),e.NdJ("click",function(E){return E.stopPropagation()})("change",function(E){const i=e.CHM(t).$implicit,P=e.oxw();return e.KtG(E?P.selection.toggle(i):null)}),e.qZA()()}if(2&_){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function _e(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&_){const t=o.$implicit,n=e.oxw();e.uIk("colspan",n.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",t===n.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",t.description," ")}}function ne(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," #"),e.qZA())}function oe(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ee(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,32),e.qZA())}function ae(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div",33)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&_){const t=o.$implicit;e.xp6(4),e.hij(" ",t.description," ")}}function le(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,34),e.qZA())}function ie(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function se(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,35),e.qZA())}function re(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function Pe(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,36),e.qZA())}function Ne(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"emailTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.emailType)," ")}}function ce(_,o){1&_&&e._UZ(0,"mat-header-cell",28)}function Se(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",37)(1,"button",38)(2,"mat-icon",7),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,39)(6,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openPersonEmailEditComponent(a))}),e.TgZ(7,"mat-icon",7),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,41),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openPersonEmailDeleteComponent(a))}),e.TgZ(13,"mat-icon",42),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,43),e.qZA()()()()}if(2&_){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function me(_,o){1&_&&e._UZ(0,"mat-header-row")}function Me(_,o){1&_&&e._UZ(0,"mat-row")}function Oe(_,o){if(1&_&&(e._UZ(0,"softuza-ui-table-state",44),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("loading",e.lcZ(1,1,t.indicator$))}}const ue=function(){return[10,25,50,100]};function Te(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-paginator",45),e.NdJ("page",function(E){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(E.pageIndex,E.pageSize))}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("length",t.count)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(3,ue))}}let pe=(()=>{class _ extends u.a{constructor(t,n,E){super(),this.dialog=t,this.personService=n,this.route=E,this.displayedColumns=["EmailType","Value","CreatedAt","menu"],this.person=this.route.snapshot.data.person,this.get()}openCreateComponent(){this.dialog.open(W,{autoFocus:!0,width:"480px",data:this.person}).afterClosed().pipe((0,O.q)(1)).subscribe(n=>{n&&this.add(n)})}openPersonEmailEditComponent(t){this.dialog.open(j,{autoFocus:!0,width:"480px",data:t}).afterClosed().pipe((0,O.q)(1)).subscribe(E=>{E&&this.update(E)})}openPersonEmailDeleteComponent(t){const n=this.personService.deletePersonEmail(t.personId,t.id),E=Z.Tb;E.data=t.id,E.submitEvent=n,this.dialog.open(Z.pg,{autoFocus:!0,width:"480px",data:E}).afterClosed().pipe((0,O.q)(1)).subscribe(i=>{i&&this.delete(i)})}get(){this.personService.getPersonEmails(this.person.id,{pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,query:this.filterValue}).pipe((0,M.sU)(this.indicator$)).pipe((0,O.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(N.uw),e.Y36(d.R),e.Y36(c.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-emails"]],features:[e.qOj],decls:46,vars:13,consts:function(){let o,t,n,E,a,i,P;return o="Add",t="Description",n="Email",E="Created Date",a="Type",i="Edit",P="Delete",[[1,"header-main"],[1,"title"],[1,"header-basic"],["mat-flat-button","","color","primary",3,"click"],o,[1,"spacer"],["mat-icon-button","",3,"click"],["fontSet","material-symbols-outlined"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Description"],["matColumnDef","Value"],["matColumnDef","CreatedAt"],["matColumnDef","EmailType"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],t,[1,"table-cell-stacked"],n,E,a,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],i,["color","warn"],P,[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.openCreateComponent()}),e.TgZ(7,"span"),e.SDv(8,4),e.qZA()(),e._UZ(9,"span",5),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.search=!0}),e.TgZ(11,"mat-icon",7),e._uU(12,"search"),e.qZA()(),e.TgZ(13,"softuza-ui-search-bar",8),e.NdJ("changed",function(a){return n.onSearch(a)})("closed",function(){return n.onSearchClose()}),e.qZA()(),e.TgZ(14,"softuza-ui-table-selection",9)(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"span",5),e.qZA(),e.TgZ(18,"mat-table",10),e.NdJ("matSortChange",function(a){return n.onSort(a.active,a.direction)}),e.ynx(19,11),e.YNc(20,ee,2,2,"mat-header-cell",12),e.YNc(21,te,2,1,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,_e,4,3,"mat-cell",15),e.BQk(),e.ynx(24,16),e.YNc(25,ne,2,0,"mat-header-cell",17),e.YNc(26,oe,2,1,"mat-cell",15),e.BQk(),e.ynx(27,18),e.YNc(28,Ee,2,0,"mat-header-cell",17),e.YNc(29,ae,5,1,"mat-cell",15),e.BQk(),e.ynx(30,19),e.YNc(31,le,2,0,"mat-header-cell",17),e.YNc(32,ie,2,1,"mat-cell",15),e.BQk(),e.ynx(33,20),e.YNc(34,se,2,0,"mat-header-cell",17),e.YNc(35,re,3,4,"mat-cell",15),e.BQk(),e.ynx(36,21),e.YNc(37,Pe,2,0,"mat-header-cell",17),e.YNc(38,Ne,3,3,"mat-cell",15),e.BQk(),e.ynx(39,22),e.YNc(40,ce,1,0,"mat-header-cell",12),e.YNc(41,Se,17,1,"mat-cell",23),e.BQk(),e.YNc(42,me,1,0,"mat-header-row",24),e.YNc(43,Me,1,0,"mat-row",25),e.qZA(),e.YNc(44,Oe,2,3,"softuza-ui-table-state",26),e.YNc(45,Te,1,4,"mat-paginator",27),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,n.person)),e.xp6(10),e.Q6J("visible",n.search),e.xp6(1),e.Q6J("visible",n.selection.hasValue()),e.xp6(2),e.hij("",n.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",n.sortBy),e.Q6J("dataSource",n.dataSource),e.xp6(24),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===n.count),e.xp6(1),e.Q6J("ngIf",n.count>0))},dependencies:[r.O5,G.Hw,C.VK,C.OP,C.p6,k.R,q.H,J.N,S.BZ,S.fO,S.as,S.w1,S.Dz,S.nj,S.ge,S.ev,S.XQ,S.Gk,x.NW,D.YE,D.nU,y.d,U.oG,A.lW,A.RK,r.Ov,r.uU,Y.Y,X.V],encapsulation:2}),_})();var H=s(4004),z=s(4841);function de(_,o){1&_&&e._UZ(0,"softuza-ui-alert",17),2&_&&e.Q6J("alert",o.ngIf)}function Ae(_,o){if(1&_&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}let Ce=(()=>{class _ extends p.E{constructor(t,n,E,a,i){super(a,E.group({firstName:["",[l.kI.required,l.kI.minLength(1)]],lastName:[null,[]],middleName:[null,[]],languageId:[null,[l.kI.required]]})),this.personService=t,this.languageService=n,this.fb=E,this.dialog=a,this.data=i,this.languages$=null,this.languages$=this.languageService.getLanguages().pipe((0,H.U)(P=>P.items))}handleSubmit(){this.personService.createPersonName(this.data.id,this.form.value).pipe((0,M.sU)(this.indicator$)).pipe((0,M.S3)(this.alert$)).pipe((0,O.q)(1)).subscribe(t=>{this.close(t)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(z.T),e.Y36(l.qu),e.Y36(N.so),e.Y36(N.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-names-create"]],features:[e._Bn([z.T]),e.qOj],decls:28,vars:10,consts:function(){let o,t,n,E,a,i,P;return o="Create",t="First name",n="Last name",E="Middle name",a="Language",i="Close",P=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],[1,"tw-flex-1"],["autocomplete","off","formControlName","firstName","matInput","","placeholder",t],["autocomplete","off","formControlName","lastName","matInput","","placeholder",n],["autocomplete","off","formControlName","middleName","matInput","","placeholder",E],a,["formControlName","languageId"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],i,["mat-flat-button","","color","primary",3,"disabled","click"],P,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,de,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"label"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"mat-form-field",5)(11,"label"),e._UZ(12,"input",7),e.qZA()()(),e.TgZ(13,"mat-form-field",5)(14,"label"),e._UZ(15,"input",8),e.qZA()(),e.TgZ(16,"mat-form-field",5)(17,"label"),e.SDv(18,9),e.qZA(),e.TgZ(19,"mat-select",10),e.YNc(20,Ae,2,2,"mat-option",11),e.ALo(21,"async"),e.qZA()()()(),e.TgZ(22,"mat-dialog-actions",12)(23,"button",13),e.NdJ("click",function(){return n.close()}),e.SDv(24,14),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.submit()}),e.SDv(26,16),e.ALo(27,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(15),e.Q6J("ngForOf",e.lcZ(21,6,n.languages$)),e.xp6(5),e.Q6J("disabled",e.lcZ(27,8,n.indicator$)))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.w,N.uh,N.xY,N.H8,R.ey,h.KE,A.lW,I.gD,L.Nt,r.Ov],encapsulation:2}),_})();function ge(_,o){1&_&&e._UZ(0,"softuza-ui-alert",17),2&_&&e.Q6J("alert",o.ngIf)}function fe(_,o){if(1&_&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}let Re=(()=>{class _ extends p.E{constructor(t,n,E,a,i){super(a,E.group({firstName:[i.firstName,[l.kI.required,l.kI.minLength(1)]],lastName:[i.lastName,[]],middleName:[i.middleName,[]],languageId:[i.languageId,[l.kI.required]]})),this.personService=t,this.languageService=n,this.fb=E,this.dialog=a,this.data=i,this.languages$=null,this.languages$=this.languageService.getLanguages().pipe((0,H.U)(P=>P.items))}handleSubmit(){this.personService.updatePersonName(this.data.personId,this.data.id,this.form.value).pipe((0,M.sU)(this.indicator$)).pipe((0,M.S3)(this.alert$)).pipe((0,O.q)(1)).subscribe(n=>{this.close(n)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(z.T),e.Y36(l.qu),e.Y36(N.so),e.Y36(N.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-names-person-name-edit"]],features:[e._Bn([z.T]),e.qOj],decls:28,vars:10,consts:function(){let o,t,n,E,a,i,P;return o="Edit",t="First name",n="Last name",E="Middle name",a="Language",i="Close",P=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],[1,"tw-flex-1"],["autocomplete","off","formControlName","firstName","matInput","","placeholder",t],["autocomplete","off","formControlName","lastName","matInput","","placeholder",n],["autocomplete","off","formControlName","middleName","matInput","","placeholder",E],a,["formControlName","languageId"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],i,["mat-flat-button","","color","primary",3,"disabled","click"],P,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,ge,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"label"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"mat-form-field",5)(11,"label"),e._UZ(12,"input",7),e.qZA()()(),e.TgZ(13,"mat-form-field",5)(14,"label"),e._UZ(15,"input",8),e.qZA()(),e.TgZ(16,"mat-form-field",5)(17,"label"),e.SDv(18,9),e.qZA(),e.TgZ(19,"mat-select",10),e.YNc(20,fe,2,2,"mat-option",11),e.ALo(21,"async"),e.qZA()()()(),e.TgZ(22,"mat-dialog-actions",12)(23,"button",13),e.NdJ("click",function(){return n.close()}),e.SDv(24,14),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.submit()}),e.SDv(26,16),e.ALo(27,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(15),e.Q6J("ngForOf",e.lcZ(21,6,n.languages$)),e.xp6(5),e.Q6J("disabled",e.lcZ(27,8,n.indicator$)))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.w,N.uh,N.xY,N.H8,R.ey,h.KE,A.lW,I.gD,L.Nt,r.Ov],encapsulation:2}),_})();function he(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-header-cell",29)(1,"mat-checkbox",30),e.NdJ("change",function(E){e.CHM(t);const a=e.oxw();return e.KtG(E?a.masterToggle():null)}),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function Ie(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",29)(1,"mat-checkbox",31),e.NdJ("click",function(E){return E.stopPropagation()})("change",function(E){const i=e.CHM(t).$implicit,P=e.oxw();return e.KtG(E?P.selection.toggle(i):null)}),e.qZA()()}if(2&_){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function Le(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e._uU(1," #"),e.qZA())}function De(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function $e(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,33),e.qZA())}function Ze(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"strong"),e._uU(2),e.qZA()()),2&_){const t=o.$implicit;e.xp6(2),e.hij(" ",t.firstName," ")}}function Ge(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,34),e.qZA())}function ye(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"strong"),e._uU(2),e.qZA()()),2&_){const t=o.$implicit;e.xp6(2),e.hij(" ",t.middleName," ")}}function ve(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,35),e.qZA())}function be(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"strong"),e._uU(2),e.qZA()()),2&_){const t=o.$implicit;e.xp6(2),e.hij(" ",t.lastName," ")}}function xe(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,36),e.qZA())}function Ue(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function Ye(_,o){1&_&&(e.TgZ(0,"mat-header-cell",37),e.SDv(1,38),e.qZA())}function ze(_,o){if(1&_&&(e.TgZ(0,"mat-cell",29),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function Xe(_,o){1&_&&e._UZ(0,"mat-header-cell",29)}function ke(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",39)(1,"button",40)(2,"mat-icon",7),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,41)(6,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openPersonNameEditComponent(a))}),e.TgZ(7,"mat-icon",7),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,43),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openPersonNameDeleteComponent(a))}),e.TgZ(13,"mat-icon",44),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,45),e.qZA()()()()}if(2&_){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function qe(_,o){1&_&&e._UZ(0,"mat-header-row")}function Je(_,o){1&_&&e._UZ(0,"mat-row")}function we(_,o){if(1&_&&(e._UZ(0,"softuza-ui-table-state",46),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("loading",e.lcZ(1,1,t.indicator$))}}const He=function(){return[10,25,50,100]};function Qe(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-paginator",47),e.NdJ("page",function(E){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(E.pageIndex,E.pageSize))}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("length",t.count)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(3,He))}}let Be=(()=>{class _ extends u.a{constructor(t,n,E){super(),this.dialog=t,this.personService=n,this.route=E,this.displayedColumns=["FirstName","MiddleName","LastName","CreatedAt","menu"],this.person=this.route.snapshot.data.person,this.get()}openCreateComponent(){this.dialog.open(Ce,{autoFocus:!0,width:"480px",data:this.person}).afterClosed().pipe((0,O.q)(1)).subscribe(n=>{n&&this.add(n)})}openPersonNameEditComponent(t){this.dialog.open(Re,{autoFocus:!0,width:"480px",data:t}).afterClosed().pipe((0,O.q)(1)).subscribe(E=>{E&&this.update(E)})}openPersonNameDeleteComponent(t){const n=this.personService.deletePersonName(t.personId,t.id),E=Z.Tb;E.data=t.id,E.submitEvent=n,this.dialog.open(Z.pg,{autoFocus:!0,width:"480px",data:E}).afterClosed().pipe((0,O.q)(1)).subscribe(i=>{i&&this.delete(i)})}get(){this.personService.getPersonNames(this.person.id,{pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,query:this.filterValue}).pipe((0,M.sU)(this.indicator$)).pipe((0,O.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(N.uw),e.Y36(d.R),e.Y36(c.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-names"]],features:[e.qOj],decls:47,vars:13,consts:function(){let o,t,n,E,a,i,P,m;return o="Add",t="First name",n="Middle name",E="Last name",a="Created Date",i="Code",P="Edit",m="Delete",[[1,"header-main"],[1,"title"],[1,"header-basic"],["mat-flat-button","","color","primary",3,"click"],o,[1,"spacer"],["mat-icon-button","",3,"click"],["fontSet","material-symbols-outlined"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","FirstName"],["matColumnDef","MiddleName"],["matColumnDef","LastName"],["matColumnDef","CreatedAt"],["matColumnDef","Code"],["mat-sort-header","","class","table-column-small",4,"matHeaderCellDef"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],t,n,E,a,["mat-sort-header","",1,"table-column-small"],i,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],P,["color","warn"],m,[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.openCreateComponent()}),e.TgZ(7,"span"),e.SDv(8,4),e.qZA()(),e._UZ(9,"span",5),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.search=!0}),e.TgZ(11,"mat-icon",7),e._uU(12,"search"),e.qZA()(),e.TgZ(13,"softuza-ui-search-bar",8),e.NdJ("changed",function(a){return n.onSearch(a)})("closed",function(){return n.onSearchClose()}),e.qZA()(),e.TgZ(14,"softuza-ui-table-selection",9)(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"span",5),e.qZA(),e.TgZ(18,"mat-table",10),e.NdJ("matSortChange",function(a){return n.onSort(a.active,a.direction)}),e.ynx(19,11),e.YNc(20,he,2,2,"mat-header-cell",12),e.YNc(21,Ie,2,1,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,Le,2,0,"mat-header-cell",15),e.YNc(24,De,2,1,"mat-cell",16),e.BQk(),e.ynx(25,17),e.YNc(26,$e,2,0,"mat-header-cell",15),e.YNc(27,Ze,3,1,"mat-cell",16),e.BQk(),e.ynx(28,18),e.YNc(29,Ge,2,0,"mat-header-cell",15),e.YNc(30,ye,3,1,"mat-cell",16),e.BQk(),e.ynx(31,19),e.YNc(32,ve,2,0,"mat-header-cell",15),e.YNc(33,be,3,1,"mat-cell",16),e.BQk(),e.ynx(34,20),e.YNc(35,xe,2,0,"mat-header-cell",15),e.YNc(36,Ue,3,4,"mat-cell",16),e.BQk(),e.ynx(37,21),e.YNc(38,Ye,2,0,"mat-header-cell",22),e.YNc(39,ze,2,1,"mat-cell",13),e.BQk(),e.ynx(40,23),e.YNc(41,Xe,1,0,"mat-header-cell",12),e.YNc(42,ke,17,1,"mat-cell",24),e.BQk(),e.YNc(43,qe,1,0,"mat-header-row",25),e.YNc(44,Je,1,0,"mat-row",26),e.qZA(),e.YNc(45,we,2,3,"softuza-ui-table-state",27),e.YNc(46,Qe,1,4,"mat-paginator",28),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,n.person)),e.xp6(10),e.Q6J("visible",n.search),e.xp6(1),e.Q6J("visible",n.selection.hasValue()),e.xp6(2),e.hij("",n.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",n.sortBy),e.Q6J("dataSource",n.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===n.count),e.xp6(1),e.Q6J("ngIf",n.count>0))},dependencies:[r.O5,G.Hw,C.VK,C.OP,C.p6,k.R,q.H,J.N,S.BZ,S.fO,S.as,S.w1,S.Dz,S.nj,S.ge,S.ev,S.XQ,S.Gk,x.NW,D.YE,D.nU,y.d,U.oG,A.lW,A.RK,r.Ov,r.uU,Y.Y],encapsulation:2}),_})();var v=s(827),w=s(2564);function Fe(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function je(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"phoneTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let Ke=(()=>{class _ extends p.E{constructor(t,n,E,a){super(E,n.group({value:[a.value,[l.kI.required,l.kI.minLength(1)]],phoneType:[a.phoneType,[l.kI.required]],description:[a.description,[]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=a,this.phoneTypes=Object.keys(v.z).map(i=>v.z[i])}handleSubmit(){this.personService.updatePersonPhone(this.data.personId,this.data.id,this.form.value).pipe((0,M.sU)(this.indicator$)).pipe((0,M.S3)(this.alert$)).pipe((0,O.q)(1)).subscribe(n=>{this.close(n)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(l.qu),e.Y36(N.so),e.Y36(N.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-phones-person-phone-edit"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,a,i;return o="Edit",t="Description",n="Number",E="Type",a="Close",i=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","phoneType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],a,["mat-flat-button","","color","primary",3,"disabled","click"],i,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Fe,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,je,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.phoneTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.w,N.uh,N.xY,N.H8,R.ey,h.KE,A.lW,I.gD,L.Nt,r.Ov,w.r],encapsulation:2}),_})();function Ve(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function We(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"phoneTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let et=(()=>{class _ extends p.E{constructor(t,n,E,a){super(E,n.group({value:[null,[l.kI.required]],description:[null,[]],phoneType:[v.z.Mobile,[l.kI.required]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=a,this.phoneTypes=Object.keys(v.z).map(i=>v.z[i])}handleSubmit(){this.personService.createPersonPhone(this.data.id,this.form.value).pipe((0,M.sU)(this.indicator$)).pipe((0,M.S3)(this.alert$)).pipe((0,O.q)(1)).subscribe(t=>{this.close(t)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(l.qu),e.Y36(N.so),e.Y36(N.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-phones-create"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,a,i;return o="Create",t="Description",n="Number",E="Type",a="Close",i=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","phoneType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],a,["mat-flat-button","","color","primary",3,"disabled","click"],i,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Ve,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,We,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.phoneTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.w,N.uh,N.xY,N.H8,R.ey,h.KE,A.lW,I.gD,L.Nt,r.Ov,w.r],encapsulation:2}),_})();function tt(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-header-cell",28)(1,"mat-checkbox",29),e.NdJ("change",function(E){e.CHM(t);const a=e.oxw();return e.KtG(E?a.masterToggle():null)}),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function _t(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",28)(1,"mat-checkbox",30),e.NdJ("click",function(E){return E.stopPropagation()})("change",function(E){const i=e.CHM(t).$implicit,P=e.oxw();return e.KtG(E?P.selection.toggle(i):null)}),e.qZA()()}if(2&_){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function nt(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&_){const t=o.$implicit,n=e.oxw();e.uIk("colspan",n.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",t===n.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",t.description," ")}}function ot(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," #"),e.qZA())}function Et(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function at(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,32),e.qZA())}function lt(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div",33)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&_){const t=o.$implicit;e.xp6(4),e.hij(" ",t.description," ")}}function it(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,34),e.qZA())}function st(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function rt(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,35),e.qZA())}function Pt(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function Nt(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,36),e.qZA())}function ct(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"phoneTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.phoneType)," ")}}function St(_,o){1&_&&e._UZ(0,"mat-header-cell",28)}function mt(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",37)(1,"button",38)(2,"mat-icon",7),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,39)(6,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openPersonPhoneEditComponent(a))}),e.TgZ(7,"mat-icon",7),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,41),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openPersonPhoneDeleteComponent(a))}),e.TgZ(13,"mat-icon",42),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,43),e.qZA()()()()}if(2&_){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Mt(_,o){1&_&&e._UZ(0,"mat-header-row")}function Ot(_,o){1&_&&e._UZ(0,"mat-row")}function ut(_,o){if(1&_&&(e._UZ(0,"softuza-ui-table-state",44),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("loading",e.lcZ(1,1,t.indicator$))}}const Tt=function(){return[10,25,50,100]};function pt(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-paginator",45),e.NdJ("page",function(E){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(E.pageIndex,E.pageSize))}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("length",t.count)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(3,Tt))}}let dt=(()=>{class _ extends u.a{constructor(t,n,E){super(),this.dialog=t,this.personService=n,this.route=E,this.displayedColumns=["PhoneType","Value","CreatedAt","menu"],this.person=this.route.snapshot.data.person,this.get()}openCreateComponent(){this.dialog.open(et,{autoFocus:!0,width:"480px",data:this.person}).afterClosed().pipe((0,O.q)(1)).subscribe(n=>{n&&this.add(n)})}openPersonPhoneEditComponent(t){this.dialog.open(Ke,{autoFocus:!0,width:"480px",data:t}).afterClosed().pipe((0,O.q)(1)).subscribe(E=>{E&&this.update(E)})}openPersonPhoneDeleteComponent(t){const n=this.personService.deletePersonPhone(t.personId,t.id),E=Z.Tb;E.data=t.id,E.submitEvent=n,this.dialog.open(Z.pg,{autoFocus:!0,width:"480px",data:E}).afterClosed().pipe((0,O.q)(1)).subscribe(i=>{i&&this.delete(i)})}get(){this.personService.getPersonPhones(this.person.id,{pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,query:this.filterValue}).pipe((0,M.sU)(this.indicator$)).pipe((0,O.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(N.uw),e.Y36(d.R),e.Y36(c.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-phones"]],features:[e.qOj],decls:46,vars:13,consts:function(){let o,t,n,E,a,i,P;return o="Add",t="Description",n="Phone",E="Created Date",a="Type",i="Edit",P="Delete",[[1,"header-main"],[1,"title"],[1,"header-basic"],["mat-flat-button","","color","primary",3,"click"],o,[1,"spacer"],["mat-icon-button","",3,"click"],["fontSet","material-symbols-outlined"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Description"],["matColumnDef","Value"],["matColumnDef","CreatedAt"],["matColumnDef","PhoneType"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],t,[1,"table-cell-stacked"],n,E,a,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],i,["color","warn"],P,[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.openCreateComponent()}),e.TgZ(7,"span"),e.SDv(8,4),e.qZA()(),e._UZ(9,"span",5),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.search=!0}),e.TgZ(11,"mat-icon",7),e._uU(12,"search"),e.qZA()(),e.TgZ(13,"softuza-ui-search-bar",8),e.NdJ("changed",function(a){return n.onSearch(a)})("closed",function(){return n.onSearchClose()}),e.qZA()(),e.TgZ(14,"softuza-ui-table-selection",9)(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"span",5),e.qZA(),e.TgZ(18,"mat-table",10),e.NdJ("matSortChange",function(a){return n.onSort(a.active,a.direction)}),e.ynx(19,11),e.YNc(20,tt,2,2,"mat-header-cell",12),e.YNc(21,_t,2,1,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,nt,4,3,"mat-cell",15),e.BQk(),e.ynx(24,16),e.YNc(25,ot,2,0,"mat-header-cell",17),e.YNc(26,Et,2,1,"mat-cell",15),e.BQk(),e.ynx(27,18),e.YNc(28,at,2,0,"mat-header-cell",17),e.YNc(29,lt,5,1,"mat-cell",15),e.BQk(),e.ynx(30,19),e.YNc(31,it,2,0,"mat-header-cell",17),e.YNc(32,st,2,1,"mat-cell",15),e.BQk(),e.ynx(33,20),e.YNc(34,rt,2,0,"mat-header-cell",17),e.YNc(35,Pt,3,4,"mat-cell",15),e.BQk(),e.ynx(36,21),e.YNc(37,Nt,2,0,"mat-header-cell",17),e.YNc(38,ct,3,3,"mat-cell",15),e.BQk(),e.ynx(39,22),e.YNc(40,St,1,0,"mat-header-cell",12),e.YNc(41,mt,17,1,"mat-cell",23),e.BQk(),e.YNc(42,Mt,1,0,"mat-header-row",24),e.YNc(43,Ot,1,0,"mat-row",25),e.qZA(),e.YNc(44,ut,2,3,"softuza-ui-table-state",26),e.YNc(45,pt,1,4,"mat-paginator",27),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,n.person)),e.xp6(10),e.Q6J("visible",n.search),e.xp6(1),e.Q6J("visible",n.selection.hasValue()),e.xp6(2),e.hij("",n.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",n.sortBy),e.Q6J("dataSource",n.dataSource),e.xp6(24),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===n.count),e.xp6(1),e.Q6J("ngIf",n.count>0))},dependencies:[r.O5,G.Hw,C.VK,C.OP,C.p6,k.R,q.H,J.N,S.BZ,S.fO,S.as,S.w1,S.Dz,S.nj,S.ge,S.ev,S.XQ,S.Gk,x.NW,D.YE,D.nU,y.d,U.oG,A.lW,A.RK,r.Ov,r.uU,Y.Y,w.r],encapsulation:2}),_})();var Q=s(9739),At=s(1219),Ct=s(5509);function gt(_,o){if(1&_&&(e.TgZ(0,"softuza-ui-card",18),e._UZ(1,"softuza-ui-counter",19),e.qZA()),2&_){const t=o.$implicit;e.Q6J("card",t),e.xp6(1),e.Q6J("value",null==t?null:t.counter)}}const ft=[{path:"",component:(()=>{class _{constructor(t,n,E){this.analysisService=t,this.route=n,this.router=E,this.items=[{counter:0,icon:"science",subtitle:"Analyses",loading:!0}],this.person=this.route.snapshot.data.person,this.getAnlysesCount()}getAnlysesCount(){this.analysisService.getAnalysesCount({personId:this.person.id}).subscribe(t=>{this.items[0].counter=t.count,this.items[0].loading=!1})}navigate(t){t&&t.url&&this.router.navigate([t.url])}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(Q.K),e.Y36(c.gz),e.Y36(c.F0))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-peopel-management-person"]],features:[e._Bn([Q.K])],decls:39,vars:5,consts:function(){let o,t,n,E,a;return o="Edit",t="Names",n="Phones",E="Emails",a="Nationalities",[[1,"header-main"],[1,"title"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["fontSet","material-symbols-outlined"],["itemMenu","matMenu"],["mat-menu-item",""],o,["mat-menu-item","","routerLink","names"],t,["mat-menu-item","","routerLink","phones"],n,["mat-menu-item","","routerLink","emails"],E,["mat-menu-item","","routerLink","nationalities"],a,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-4"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],["title","",2,"font-size","24px",3,"value"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA(),e._UZ(5,"span",2),e.TgZ(6,"button",3)(7,"mat-icon",4),e._uU(8,"more_vert"),e.qZA()(),e.TgZ(9,"mat-menu",null,5)(11,"button",6)(12,"mat-icon",4),e._uU(13,"edit"),e.qZA(),e.TgZ(14,"span"),e.SDv(15,7),e.qZA()(),e._UZ(16,"mat-divider"),e.TgZ(17,"button",8)(18,"mat-icon",4),e._uU(19,"info"),e.qZA(),e.TgZ(20,"span"),e.SDv(21,9),e.qZA()(),e.TgZ(22,"button",10)(23,"mat-icon",4),e._uU(24,"phone"),e.qZA(),e.TgZ(25,"span"),e.SDv(26,11),e.qZA()(),e.TgZ(27,"button",12)(28,"mat-icon",4),e._uU(29,"email"),e.qZA(),e.TgZ(30,"span"),e.SDv(31,13),e.qZA()(),e.TgZ(32,"button",14)(33,"mat-icon",4),e._uU(34,"badge"),e.qZA(),e.TgZ(35,"span"),e.SDv(36,15),e.qZA()()()(),e.TgZ(37,"div",16),e.YNc(38,gt,2,2,"softuza-ui-card",17),e.qZA()()),2&t){const E=e.MAs(10);e.xp6(3),e.Oqu(e.lcZ(4,3,n.person)),e.xp6(3),e.Q6J("matMenuTriggerFor",E),e.xp6(32),e.Q6J("ngForOf",n.items)}},dependencies:[r.sg,c.rH,G.Hw,C.VK,C.OP,C.p6,At.R,Ct.A,y.d,A.RK,Y.Y],encapsulation:2}),_})()},{path:"names",component:Be},{path:"phones",component:dt},{path:"emails",component:pe}];let Rt=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[c.Bz.forChild(ft),c.Bz]}),_})();var ht=s(3546),It=s(4905),Lt=s(2597),Dt=s(4001),$t=s(2579),Zt=s(1143),Gt=s(4053),yt=s(6220);let vt=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({providers:[d.R],imports:[r.ez,l.u5,l.UX,Rt,ht.QW,G.Ps,C.Tx,Lt.k,It.d,Dt.U,$t.B,Zt.n,S.p0,x.TU,D.JX,y.t,U.p9,N.Is,R.Ng,h.lN,A.ot,I.LD,L.c,yt.v,Gt.L]}),_})()},6656:(b,g,s)=>{s.d(g,{E:()=>O});var r=s(1135),c=s(7579);class O{constructor(u,N){this.indicator$=new r.X(!1),this.alert$=new c.x,this.dialogRef=null,this.dialogRef=u,this.form=N}reset(){Object.keys(this.form.controls).forEach(u=>{this.form?.get(u)?.setValue(null)})}submit(){!this.form||this.form.valid?this.handleSubmit():Object.keys(this.form.controls).forEach(u=>{this.form?.get(u)?.markAsTouched({onlySelf:!0})})}close(u=null){this.dialogRef?.close(u)}handleSubmit(){}}},5237:(b,g,s)=>{s.d(g,{w:()=>M});var r=s(2494),c=s(4650),O=s(6895);let M=(()=>{class u{constructor(){this.message="",this.className="alert-error"}set alert(l){l?this.show(l):this.message=""}error(l){this.show({message:l,type:r.N.error})}success(l){this.show({message:l,type:r.N.success})}info(l){this.show({message:l,type:r.N.info})}warning(l){this.show({message:l,type:r.N.warning})}show(l){switch(this.message=l.message,l.type){case r.N.error:this.className="alert-error";break;case r.N.success:this.className="alert-success";break;case r.N.info:this.className="alert-info";break;case r.N.warning:this.className="alert-warning"}}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275cmp=c.Xpm({type:u,selectors:[["softuza-ui-alert"]],inputs:{alert:"alert"},decls:2,vars:2,consts:[[1,"alert",3,"ngClass"],[3,"innerHtml"]],template:function(l,p){1&l&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.qZA()),2&l&&(c.Q6J("ngClass",p.className),c.xp6(1),c.Q6J("innerHtml",p.message,c.oJD))},dependencies:[O.mk],styles:[".alert[_ngcontent-%COMP%], .alert-warning[_ngcontent-%COMP%], .alert-info[_ngcontent-%COMP%], .alert-success[_ngcontent-%COMP%], .alert-error[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;transition:all .2s;color:#fff;background-color:#d32f2f;padding:16px 0 16px 8px;border-radius:3px;margin-bottom:16px;text-align:center}.alert-error[_ngcontent-%COMP%]{background-color:#d32f2f}.alert-success[_ngcontent-%COMP%]{background-color:#43a047}.alert-info[_ngcontent-%COMP%]{background-color:#005cb2}.alert-warning[_ngcontent-%COMP%]{background-color:#c63f17}"]}),u})()},3748:(b,g,s)=>{s.d(g,{N:()=>N});var r=s(4650),c=s(7340),O=s(6895);const M=["input"];function u(l,p){if(1&l){const T=r.EpF();r.TgZ(0,"button",4),r.NdJ("click",function(){r.CHM(T);const d=r.oxw();return r.KtG(d.close())}),r.qZA()}}let N=(()=>{class l{constructor(){this.changed=new r.vpe,this.closed=new r.vpe,this.status=!1,this.closeVisible=!0}set visible(T){this.status=T,T&&this.input&&this.input.nativeElement.focus()}get visible(){return this.status}onKey(T){"Escape"!==T.key?this.changed.emit(this.input?.nativeElement.value):this.close()}close(){this.input.nativeElement.value="",this.closed.emit()}}return l.\u0275fac=function(T){return new(T||l)},l.\u0275cmp=r.Xpm({type:l,selectors:[["softuza-ui-search-bar"]],viewQuery:function(T,e){if(1&T&&r.Gf(M,5),2&T){let d;r.iGM(d=r.CRH())&&(e.input=d.first)}},inputs:{visible:"visible",closeVisible:"closeVisible"},outputs:{changed:"changed",closed:"closed"},decls:4,vars:2,consts:function(){let p;return p="Search...",[[1,"search-bar"],["placeholder",p,"type","text","aria-label","search","name","",3,"keyup"],["input",""],["aria-label","close",3,"click",4,"ngIf"],["aria-label","close",3,"click"]]},template:function(T,e){1&T&&(r.TgZ(0,"div",0)(1,"input",1,2),r.NdJ("keyup",function(f){return e.onKey(f)}),r.qZA(),r.YNc(3,u,1,0,"button",3),r.qZA()),2&T&&(r.Q6J("@toggleHeight",e.status),r.xp6(3),r.Q6J("ngIf",e.closeVisible))},dependencies:[O.O5],styles:[".search-bar[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;right:0;left:0;z-index:2;background-color:#fafafa;display:flex;box-sizing:border-box;padding:0;flex-direction:row;align-items:center;white-space:nowrap;border-radius:4px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:inherit;font-size:18px;line-height:1;display:inline-block;box-sizing:border-box;width:100%;padding:.05em 16px;color:#000;border:none;outline:none;background-color:transparent}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:24px;width:24px;height:24px;margin:0;padding:0;cursor:pointer;border:none;outline:none;background:no-repeat url(data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}"],data:{animation:[(0,c.X$)("toggleHeight",[(0,c.SB)("false",(0,c.oB)({height:"0px",opacity:"0",overflow:"hidden"})),(0,c.SB)("true",(0,c.oB)({height:"*",opacity:"1"})),(0,c.eR)("false => true",(0,c.jt)("100ms ease-in")),(0,c.eR)("true => false",(0,c.jt)("100ms ease-out"))])]}}),l})()},2579:(b,g,s)=>{s.d(g,{B:()=>O});var r=s(6895),c=s(4650);let O=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=c.oAB({type:M}),M.\u0275inj=c.cJS({imports:[r.ez]}),M})()}}]);