import{e as te}from"./chunk-I7CCWA7X.js";import{c as A,g as M}from"./chunk-EJAWDHJM.js";import"./chunk-UYAHV2UU.js";import{c as K,d as W,e as n,h as Z,i as ee}from"./chunk-25OCZQ76.js";import"./chunk-RB3G63CU.js";import"./chunk-4NLUKIZF.js";import"./chunk-E3TIAARS.js";import{b as k,f as w,g as H,h as q,j as Q,k as J}from"./chunk-ZILQN7IV.js";import{a as u}from"./chunk-XBTOAGNR.js";import"./chunk-7JFHPBQA.js";import{a as F,b as G,d as U,e as V,g as $}from"./chunk-WP7GINVA.js";import{c as B,q as Y,r as X,s as x,u as j}from"./chunk-WKQOW3L7.js";import"./chunk-SWSR2FHM.js";import"./chunk-YGAFJZ7Z.js";import"./chunk-7ES6GSH3.js";import{d as c,f as L,g as D,l as v,o as z,r as I,s as y,u as P}from"./chunk-GJE2CTRJ.js";import{b as S,c as R}from"./chunk-UJCFOIFA.js";import"./chunk-IDEFMHWN.js";import"./chunk-EQLT65ZB.js";import"./chunk-K465E5EJ.js";import{a as f}from"./chunk-CLMOD2EC.js";import"./chunk-FPHQ27E5.js";import"./chunk-FMLZPT37.js";import"./chunk-WW2QO4XN.js";import"./chunk-DMIN26VD.js";import"./chunk-VE4VSZJT.js";import{Kb as _,Lb as d,Mb as E,Xb as N,cb as a,ja as l,na as C,nb as b,qc as g,rc as O,zb as r}from"./chunk-2H67EYAB.js";import"./chunk-ZA5F7ID5.js";var oe=(()=>{let i=class i extends w{constructor(){let o=l(F);super(o),this.mlabService=l(u),this.fb=l(y),this.data=l(G),this.timeUnits=Object.keys(M).map(s=>M[s]),this.sexes=Object.keys(A).map(s=>A[s]),this.sexesSelectConfig={emptyOption:!0};let t=this.fb;this.dialog=o;let e=this.data;this.form=t.group({nameEn:[e?.nameEn,[c.required,c.minLength(1)]],nameAr:[e?.nameAr,[c.minLength(1)]],description:[e?.description,[]],timeUnit:[e?.timeUnit??M.Year,[c.required]],sex:t.control(e?.sex,[]),startAge:t.control(e?.startAge,[]),endAge:t.control(e?.endAge,[])});}submit(){if(!this.IsValid())return;let o={nameEn:this.form.value.nameEn,nameAr:this.form.value.nameAr,description:this.form.value.description,sex:this.form.value.sex,timeUnit:this.form.value.timeUnit,startAge:parseInt(this.form.value.startAge),endAge:parseInt(this.form.value.endAge)};this.data?this.save(this.mlabService.referenceGroups.update(this.data.id,o)):this.save(this.mlabService.referenceGroups.create(o));}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=C({type:i,selectors:[["sz-medisy-laboratory-reference-groups-reference-group-save"]],standalone:!0,features:[g([u]),b,O],decls:13,vars:11,consts:()=>{let o;o="English Name";let t;t="Arabic Name";let e;e="Description";let s;s="Sex";let T;T="Start";let h;return h="End",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",o],["formControlName","nameAr","label",t],["formControlName","description","label",e],[1,"sz-form-row"],["formControlName","sex","label",s,3,"source","localizedValue","config"],["formControlName","timeUnit","label","Time Unit",3,"source"],["formControlName","startAge","label",T,3,"type"],["formControlName","endAge","label",h,3,"type"],[3,"actions"]];},template:function(t,e){t&1&&(E(0,"sz-ui-dialog-header",0),_(1,"mat-dialog-content")(2,"form",1),E(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-textarea",4),_(6,"div",5),E(7,"sz-ui-form-field-select",6)(8,"sz-ui-form-field-select",7),d(),_(9,"div",5),E(10,"sz-ui-form-field-input",8)(11,"sz-ui-form-field-input",9),d()()(),E(12,"sz-ui-dialog-actions",10)),t&2&&(r("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),a(2),r("formGroup",e.form),a(5),r("source",e.sexes)("localizedValue",!0)("config",e.sexesSelectConfig),a(),r("source",e.timeUnits),a(2),r("type","number"),a(),r("type","number"),a(),r("actions",e.actions));},dependencies:[P,v,L,D,z,I,$,V,J,H,q,j,B,x,X,Y,te],encapsulation:2});let m=i;return m;})();var ie=(()=>{let i=class i{constructor(){this.dialog=l(U),this.mlabService=l(u),this.dataSource=new Z(),this.appBarConfig={title:f.reference_groups,menu:R.default([S.add(this.openSaveComponent.bind(this)),S.menu([S.search()])])},this.dataSource.columnDefs.push(n.uuid("id"),n.string("nameEn").setStacked(n.string("nameAr").setValueClassFontSmall()),n.enum("sex"),n.enum("timeUnit").setHeaderName(f.unit),n.number("startAge").setHeaderName(f.start),n.number("endAge").setHeaderName(f.end),n.date("createdAt").setVisible(!1),n.date("updatedAt").setVisible(!1),n.menu(R.more([S.edit(this.openSaveComponent.bind(this)),S.divider(),S.delete(this.openReferenceGroupDeleteComponent.bind(this))]))),this.get();}openSaveComponent(o){this.dialog.open(oe,{data:o}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openReferenceGroupDeleteComponent(o){this.dialog.open(Q,{data:k.delete(this.mlabService.priceProfiles.delete(o.id),o)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.referenceGroups.get(this.dataSource.getQuery()).pipe(ee(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)();},i.ɵcmp=C({type:i,selectors:[["sz-medisy-laboratory-reference-groups"]],standalone:!0,features:[g([u]),O],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(t,e){t&1&&(_(0,"sz-ui-table-bar",0),N("changed",function(){return e.get();}),d(),_(1,"sz-ui-table",1),N("update",function(){return e.get();}),d()),t&2&&(r("config",e.appBarConfig)("dataSource",e.dataSource),a(),r("dataSource",e.dataSource));},dependencies:[K,W],encapsulation:2});let m=i;return m;})();var Fe=[{path:"",component:ie}];export{Fe as default};/**i18n:9054193bb4dcc24d51a6dba534830e37dcd91e77a8a9ecb6b346a792eb872c67*/