import{a as p}from"./chunk-QAAFB3E2.js";import{b as M,c as $,e as j,i as k,u as U,v as G}from"./chunk-7O2DLPTA.js";import{a as i}from"./chunk-WBYPLE6B.js";import{a as l}from"./chunk-D3DFCTIC.js";import{c as B,l as F,m as w,n as Y}from"./chunk-SK6APAT5.js";import{b as d}from"./chunk-AQRFGV44.js";import"./chunk-ARD3O325.js";import{d as I,g as N}from"./chunk-3NLMA3OD.js";import{A as R}from"./chunk-7ERNPK3U.js";import{s as T,t as v,y as D}from"./chunk-HA3OCK63.js";import{i as P}from"./chunk-UVKSHNQV.js";import"./chunk-QFHU2GEW.js";import"./chunk-SRHI3DNT.js";import{Ea as E,Ga as L,Ja as O}from"./chunk-T2UVNK6V.js";import{Eb as n,Fb as _,Gb as A,M as y,Qb as z,Sb as s,ea as h,fb as S,gb as b,na as g,oa as C,ub as m}from"./chunk-T2ST7G6M.js";var c=class r{static id(){return{name:"id",displayName:i.id,type:"string",nullable:!1};}static createdAt(){return{name:"createdAt",displayName:i.createdDate,type:"date",nullable:!1};}static updatedAt(){return{name:"updatedAt",displayName:i.updatedDate,type:"date",nullable:!1};}static dateModel(){return[...r.readOnlyDateModel()];}static readOnlyDateModel(){return[r.id(),r.createdAt()];}static nameAndDescripion(){return[{name:"name",type:"string",displayName:i.name,nullable:!1},{name:"description",displayName:i.description,type:"string",nullable:!0}];}static code(){return{name:"code",displayName:i.code,type:"number",nullable:!0};}};var H=(()=>{let t=class t{constructor(e,o){this.dialog=e,this.mlabService=o,this.title=i.laboratories,this.dataSource=new j("name");let a=$.default([]);c.dateModel().forEach(f=>{a.columns.push(M.column(f));}),a.columns.push(M.menu([P.edit(f=>this.openSaveComponent(f))])),this.dataSource.addRows(a),this.get();}openSaveComponent(e){this.dialog.open(p,{data:e}).afterClosed().subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}openLaboratoryDeleteComponent(e){this.dialog.open(F,{data:Y.delete(this.mlabService.laboratories.delete(e.id),e)}).afterClosed().subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.laboratories.get(this.dataSource.buildRequest()).pipe(B(this.dataSource.indicator),y(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};t.ɵfac=function(o){return new(o||t)(b(I),b(l));},t.ɵcmp=g({type:t,selectors:[["medisy-laboratories"]],decls:6,vars:4,consts:()=>{let e;return e="Add",[[3,"title"],[3,"dataSource","changed"],["mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(o,a){o&1&&(A(0,"sz-ui-header-info",0),n(1,"sz-ui-table-search-filter",1),s("changed",function(){return a.get();}),n(2,"button",2),s("click",function(){return a.openSaveComponent();}),n(3,"span"),z(4,3),_()()(),n(5,"sz-ui-table",4),s("update",function(){return a.get();}),_()),o&2&&(m("title",a.title),S(),m("dataSource",a.dataSource),S(4),m("stateEnabled",!0)("dataSource",a.dataSource));},dependencies:[E,U,k,d],encapsulation:2});let r=t;return r;})();var X=[{path:"",component:H}];var Oe=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=C({type:t}),t.ɵinj=h({providers:[l],imports:[T,v,D.forChild(X),N,O,L,G,R,d,w,p]});let r=t;return r;})();export{Oe as LaboratoriesModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/