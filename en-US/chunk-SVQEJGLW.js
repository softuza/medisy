import{a as W}from"./chunk-RS5EUCW5.js";import{a as p}from"./chunk-PMGZB256.js";import{a as m,b as oe,d as ie,e as re,g as ne,j as ae,k as se}from"./chunk-74QKTG7Q.js";import"./chunk-L4AIUAS4.js";import"./chunk-72FHVNNU.js";import"./chunk-V5DZRW4C.js";import"./chunk-UBUNO3NI.js";import{e as Y,f as Z,g as x,i as ee,j as E,k as te}from"./chunk-J45WVHKD.js";import{a as T}from"./chunk-ZCG62LHU.js";import{h as g}from"./chunk-IGQXTHNA.js";import{a as B,b as G,d as Q,e as q,g as N}from"./chunk-ARJDRL2D.js";import"./chunk-ILMMVNTQ.js";import{A as K,e as k,v as H,z as J}from"./chunk-WXFEEGCV.js";import"./chunk-SV7OQSW7.js";import"./chunk-CXCVSTK4.js";import{c as w}from"./chunk-WP4QADEO.js";import"./chunk-5TZ2K576.js";import{d as O,f as v,g as z,l as D,n as A,q as P,r as U,u as $}from"./chunk-S24KQKNZ.js";import"./chunk-WZNJXRSX.js";import{c as y,e as F}from"./chunk-XU6WJOFR.js";import"./chunk-MOKWSACW.js";import{ia as V,ja as j,la as X}from"./chunk-57EQYW4O.js";import"./chunk-2UTMVH6A.js";import{Jb as s,Kb as _,Lb as S,Vb as R,Wb as f,bb as l,cb as a,ea as I,ja as d,na as c,nc as C,oa as h,oc as b,qb as L,zb as n}from"./chunk-OD2PBDQL.js";import"./chunk-MYK76I3Y.js";var le=(()=>{let i=class i extends Y{constructor(o,t,e){super(t),this.fb=o,this.dialog=t,this.data=e,this.cstnService=d(p),this.form=o.group({name:[e?.name,[O.required,O.minLength(1)]],description:[e?.description,[]],plateNumber:[e?.plateNumber,[]],serialNumber:[e?.serialNumber,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.cstnService.equipment.update(this.data.id,this.form.value)):this.save(this.cstnService.equipment.create(this.form.value)));}};i.ɵfac=function(t){return new(t||i)(a(U),a(B),a(G));},i.ɵcmp=c({type:i,selectors:[["sz-constr-construction-projects-save"]],standalone:!0,features:[C([]),L,b],decls:8,vars:5,consts:()=>{let o;o="Name";let t;t="Description";let e;e="Serial Number";let u;return u="Plate Number",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","description","label",t],["formControlName","serialNumber","label",e],["formControlName","plateNumber","label",u],[3,"actions"]];},template:function(t,e){t&1&&(S(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),S(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-input",5),_()(),S(7,"sz-ui-dialog-actions",6)),t&2&&(n("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),l(2),n("formGroup",e.form),l(5),n("actions",e.actions));},dependencies:[$,D,v,z,A,P,N,q,H,E,Z,x,K,k,J],encapsulation:2});let r=i;return r;})();var Se=(()=>{let i=class i{constructor(o,t){this.dialog=o,this.router=t,this.cstnService=d(p),this.title=w.equipment,this.dataSource=new ie("name"),this.dataSource.columnDefs.push(m.uuid("id"),m.hyperlink("name",e=>`${W.EquipmentList}/${e.id}`).setHeaderSortable(!0),m.string("serialNumber").setResponsive(!0),m.string("plateNumber"),m.date("createdAt").setVisible(!1),m.date("updatedAt").setVisible(!1),oe.menu([g.edit(e=>this.openSaveComponent(e)),g.delete(e=>this.openEquipmentDeleteComponent(e))])),this.get();}openSaveComponent(o){this.dialog.open(le,{data:o}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openEquipmentDeleteComponent(o){this.dialog.open(ee,{data:te.delete(this.cstnService.equipment.delete(o.id),o)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.cstnService.equipment.get(this.dataSource.getQuery()).pipe(re(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)(a(Q),a(y));},i.ɵcmp=c({type:i,selectors:[["sz-constr-construction-equipment-list"]],features:[C([])],decls:6,vars:3,consts:()=>{let o;return o="Add",[o,[3,"title"],[3,"changed","dataSource"],["title","","mat-flat-button","","color","primary","start","",3,"click"],[3,"update","dataSource"]];},template:function(t,e){t&1&&(S(0,"sz-ui-app-bar",1),s(1,"sz-ui-table-search-filter",2),f("changed",function(){return e.get();}),s(2,"button",3),f("click",function(){return e.openSaveComponent();}),s(3,"span"),R(4,0),_()()(),s(5,"sz-ui-table",4),f("update",function(){return e.get();}),_()),t&2&&(n("title",e.title),l(),n("dataSource",e.dataSource),l(4),n("dataSource",e.dataSource));},dependencies:[j,ae,ne,T],encapsulation:2});let r=i;return r;})();var ot=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=h({type:i}),i.ɵinj=I({providers:[p],imports:[F.forChild([{path:"",component:Se}]),N,V,X,se,E,T]});let r=i;return r;})();export{ot as EquipmentListModule};/**i18n:4fd1e3784121426a165aad39e5b179e99241f431f66c0843478e7b7dba7da7b9*/