import{e as Z,f as ee,g as te,i as oe,j as re,k as ie}from"./chunk-VT3WYR67.js";import{g as w,t as X}from"./chunk-RQNRD2JQ.js";import"./chunk-3UYL57HA.js";import{a as q,b as x,d as H,e as J,g as K}from"./chunk-V6FPP55L.js";import"./chunk-U7VPIABE.js";import{b as v}from"./chunk-M3UESULM.js";import{a as M,b as ae,c as ne,d as le,f as se,h as C,p as de,q as me}from"./chunk-PTJACGQS.js";import"./chunk-UNCYENX6.js";import{b as y}from"./chunk-VRISEVPV.js";import{d as D,f as V,g as h,h as z,l as F,m as N,n as P,o as Y,p as B,s as E,t as k,v as G}from"./chunk-GJY7U5GZ.js";import{a as S}from"./chunk-B3ZGKPUK.js";import"./chunk-3BVZ364G.js";import{a as Q}from"./chunk-PIKBUH2I.js";import{a as W}from"./chunk-QDC3ZTFW.js";import{I as U,L as $,M as j,q as T}from"./chunk-NC2N2FCX.js";import{Ab as s,Bb as m,Cb as p,L as c,Mb as R,Pb as b,Wb as g,Xb as I,Zb as L,ac as f,bc as A,cc as O,eb as d,fb as a,ma as u,mb as _,pb as l}from"./chunk-3CXVAQY6.js";var pe=(()=>{let r=class r extends w{constructor(t,o){super(t),this.ngControl=t,this.mlabService=o,this.options=[],this.label="Reference Value",this.includeLaboratoryIds=[],this.excludeLaboratoryIds=[],this.optionContent=e=>e.testClass.name,this.optionValue=e=>e.id;}ngOnInit(){this.control=this.ngControl.control,this.mlabService.referenceValues.getItems({pageIndex:1,pageSize:-1,includeLaboratoryIds:this.includeLaboratoryIds,excludeLaboratoryIds:this.excludeLaboratoryIds}).pipe(y(this.indicator),c(1)).subscribe(t=>{this.options=t;});}};r.ɵfac=function(o){return new(o||r)(a(V,10),a(S));},r.ɵcmp=u({type:r,selectors:[["medisy-form-field-reference-value"]],inputs:{includeLaboratoryIds:"includeLaboratoryIds",excludeLaboratoryIds:"excludeLaboratoryIds"},standalone:!0,features:[L([]),_,f],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(o,e){o&1&&p(0,"sz-ui-form-field-select",0),o&2&&l("formControl",e.control)("indicator",e.indicator)("options",e.options)("label",e.label)("placeholder",e.placeholder)("emptyOption",e.emptyOption)("multiple",e.multiple)("szOptionContentFn",e.optionContent)("szOptionValueFn",e.optionValue);},dependencies:[T,E,h,N,X],encapsulation:2});let i=r;return i;})();var be=()=>[],he=i=>[i],fe=(()=>{let r=class r extends Z{constructor(t,o,e,n){super(e),this.mlabService=t,this.fb=o,this.dialog=e,this.data=n,this.form=o.group({referenceValueId:[n.laboratoryReferenceValue?.referenceValueId,[D.required]]});}submit(){this.IsValid()&&(this.data.laboratoryReferenceValue?this.save(this.mlabService.laboratories.referenceValues.update(this.data.laboratoryId,this.data.laboratoryReferenceValue?.id,this.form.value)):this.save(this.mlabService.laboratories.referenceValues.create(this.data.laboratoryId,this.form.value)));}};r.ɵfac=function(o){return new(o||r)(a(S),a(B),a(q),a(x));},r.ɵcmp=u({type:r,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[_,f],decls:5,vars:7,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","referenceValueId",3,"excludeLaboratoryIds"],[3,"actions"]],template:function(o,e){o&1&&(p(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-reference-value",2),m()(),p(4,"sz-ui-dialog-actions",3)),o&2&&(l("header",e.header),d(2),l("formGroup",e.form),d(1),l("excludeLaboratoryIds",e.data.laboratoryReferenceValue?A(4,be):O(5,he,e.data.laboratoryId)),d(1),l("actions",e.actions));},dependencies:[E,F,h,z,P,Y,re,ee,te,K,J,C,pe],encapsulation:2});let i=r;return i;})();var it=(()=>{let r=class r{constructor(t,o,e){this.dialog=t,this.mlabService=o,this.route=e,this.dataSource=new ne(Q.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(le.default([ae.text("referenceValue","Test Class",n=>n.referenceValue.testClass.name),v.createdAt(),v.menu([M.edit(n=>{this.openSaveComponent(n);}),M.delete(n=>{this.openLaboratoryReferenceValueDeleteComponent(n);})])])),this.get();}openSaveComponent(t){this.dialog.open(fe,{data:{laboratoryId:this.laboratory.id,laboratoryReferenceValue:t}}).afterClosed().pipe(c(1)).subscribe(e=>{this.dataSource.updateOrPushItem(e);});}openLaboratoryReferenceValueDeleteComponent(t){this.dialog.open(oe,{data:ie.delete(this.mlabService.laboratories.referenceValues.delete(t.laboratoryId,t.id),t)}).afterClosed().pipe(c(1)).subscribe(e=>{this.dataSource.delete(e);});}get(){this.mlabService.laboratories.referenceValues.get(this.laboratory.id,this.dataSource.filterModel).pipe(y(this.dataSource.indicator)).pipe(c(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};r.ɵfac=function(o){return new(o||r)(a(H),a(S),a(U));},r.ɵcmp=u({type:r,selectors:[["medisy-laboratory-reference-values"]],standalone:!0,features:[f],decls:11,vars:5,consts:()=>{let t;t="Reference Values";let o;return o="Add",[["start",""],[1,"sz-h5"],t,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(o,e){o&1&&(s(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),R(3,2),m(),s(4,"a",3),g(5),m()()(),s(6,"sz-ui-table-filter",4),b("search",function(){return e.get();}),s(7,"button",5),b("click",function(){return e.openSaveComponent();}),s(8,"span"),R(9,6),m()()(),s(10,"sz-ui-table",7),b("update",function(){return e.get();}),m()),o&2&&(d(5),I(e.laboratory.name),d(1),l("dataSource",e.dataSource),d(4),l("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[j,$,W,me,de,se,C,G,k],encapsulation:2});let i=r;return i;})();export{it as LaboratoryReferenceValuesComponent};/**i18n:c47ea6c8e33fa0c222c20e616e96e45afbcc3267e1e4f83fbed9283c01f003ba*/