import{a as y}from"./chunk-GJOLQKBR.js";import{a as x}from"./chunk-727VSYSF.js";import{a as me}from"./chunk-C6LWEION.js";import{a as fe}from"./chunk-FPEL7HED.js";import{j as ce,l as _e,n as de,o as ue,p as Se}from"./chunk-G4WGWXCP.js";import{a as he}from"./chunk-SUUMCV2R.js";import{c as se,d as pe}from"./chunk-AS5U2OT3.js";import{a as X,b as Y,h as K,i as W,j as te,k as ie,l as oe,m as re,n as ne,q as ae}from"./chunk-WYIASL3N.js";import{b as H,f as V,g as B,m as k,s as U}from"./chunk-DOVRWRQU.js";import{a as le}from"./chunk-C3UREHHC.js";import{f as Z,g as ee,i as A}from"./chunk-2IOOD4ZB.js";import{Ka as q,Na as j,Ta as J,Ua as Q}from"./chunk-26JDY2BM.js";import{Bb as m,Cb as a,Db as T,Hb as O,L as D,Nb as I,Pb as f,Rb as s,Vb as C,Wb as c,Xb as v,Yb as R,Zb as G,a as h,ac as L,b as Ce,cb as l,db as S,ec as $,fc as w,kb as b,la as z,nb as _,qa as M,ra as E,tb as u,ub as p,wb as g,xb as F,yb as P}from"./chunk-J5YYK5S2.js";function Ae(t,r){if(t&1){let n=O();m(0,"mat-chip-row",7),f("removed",function(){let o=M(n).$implicit,d=s(2);return E(d.removeSelection(o));}),c(1),$(2,"personName"),m(3,"button",8)(4,"mat-icon"),c(5,"cancel"),a()()();}if(t&2){let n=r.$implicit;l(1),R(" ",w(2,1,n)," ");}}function Ne(t,r){if(t&1){let n=O();m(0,"mat-chip-grid",null,4),F(2,Ae,6,3,"mat-chip-row",null,g),a(),m(4,"input",5,6),f("matChipInputTokenEnd",function(){M(n);let i=s();return E(i.addSelection());}),a();}if(t&2){let n=C(1),e=s(),i=C(7);P(2,e.selections),l(4),_("matAutocomplete",i)("formControl",e.control)("matChipInputFor",n)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes);}}function Re(t,r){if(t&1&&T(0,"input",9,6),t&2){let n=s(),e=C(7);_("matAutocomplete",e)("formControl",n.control);}}function ye(t,r){if(t&1&&(m(0,"small"),c(1),$(2,"personAge"),a()),t&2){let n=s().$implicit;l(1),v(w(2,1,n==null?null:n.birthDate));}}function xe(t,r){if(t&1&&(m(0,"mat-option",10)(1,"div",11)(2,"strong"),c(3),$(4,"personName"),a(),u(5,ye,3,3,"small"),a()()),t&2){let n=r.$implicit;_("value",n),l(3),v(w(4,3,n)),l(2),p(5,n!=null&&n.birthDate?5:-1);}}function De(t,r){t&1&&(m(0,"mat-error"),I(1,12),a());}function ze(t,r){t&1&&(m(0,"mat-error"),I(1,13),a());}function be(t,r){t&1&&T(0,"mat-progress-bar",3);}var st=(()=>{let r=class r extends ae{constructor(e,i,o,d){super(e),this.ngControl=e,this.mpplService=i,this.personNamePipe=o,this.personAgePipe=d,this.filter=A.default(),this.label="Name, phone, or email",this.szOptionFormatFn=N=>this.personNamePipe.transform(N);}ngOnInit(){this.control=this.ngControl.control,this.listenChanges();}listenChanges(){this.control.valueChanges.pipe(pe(400)).subscribe(e=>{this.handleValueChanged(e);});}handleValueChanged(e){if(this.reset(),typeof e=="string"){let i=e.split(" ");i.length===3?(this.filter.firstName=i[0],this.filter.middleName=i[1],this.filter.lastName=i[2]):i.length===2?(this.filter.firstName=i[0],this.filter.lastName=i[1]):this.filter.query=i[0];}else if(typeof e=="object"&&e)return;this.get();}reset(){this.filter=A.default(),this.totalPages=-1,this.options=[];}get(){this.mpplService.persons.get(h(h({},this.filter),this.pagination)).pipe(D(1),se(this.indicator)).subscribe(e=>{this.options.push(...e.items),this.totalPages=e.totalPages;});}};r.ɵfac=function(i){return new(i||r)(S(V,10),S(me),S(x),S(y));},r.ɵcmp=z({type:r,selectors:[["medisy-form-field-person-search"]],standalone:!0,features:[G([me,y,x]),b,L],decls:13,vars:7,consts:()=>{let e;e="This field is required";let i;return i="This field is not valid",[[1,"container"],[3,"displayWith","szScrollIgnored","optionSelected","szScrolled"],["auto","matAutocomplete"],["mode","indeterminate"],["chipGrid",""],["matInput","",3,"matAutocomplete","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["input",""],[3,"removed"],["matChipRemove",""],["matInput","",3,"matAutocomplete","formControl"],[3,"value"],[1,"sz-form"],e,i];},template:function(i,o){i&1&&(m(0,"div",0)(1,"mat-form-field")(2,"mat-label"),c(3),a(),u(4,Ne,6,4)(5,Re,2,2),m(6,"mat-autocomplete",1,2),f("optionSelected",function(N){return o.optionSelected(N);})("szScrolled",function(){return o.scroll();}),F(8,xe,6,5,"mat-option",10,g),a(),u(10,De,2,0,"mat-error")(11,ze,2,0,"mat-error"),a(),u(12,be,1,0,"mat-progress-bar",3),a()),i&2&&(l(3),v(o.label),l(1),p(4,o.multiple?4:5),l(2),_("displayWith",o.szOptionFormatFn)("szScrollIgnored",o.indicator()),P(8,o.options),l(4),p(10,o.control.hasError("required")?10:-1),l(1),p(11,o.control.hasError("invalid")?11:-1),l(1),p(12,o.indicator()?12:-1));},dependencies:[U,H,B,k,W,K,X,Y,oe,te,q,ie,ee,Z,ne,re,j,Se,de,ue,ce,_e,Q,J,fe,y,x],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=r;return t;})();function Ge(t,r){if(t&1){let n=O();m(0,"mat-chip-row",7),f("removed",function(){let o=M(n).$implicit,d=s(2);return E(d.removeSelection(o));}),c(1),m(2,"button",8)(3,"mat-icon"),c(4,"cancel"),a()()();}if(t&2){let n=r.$implicit,e=s(2);l(1),R(" ",e.getSelectionFormat(n)," ");}}function Le(t,r){if(t&1){let n=O();m(0,"mat-chip-grid",null,4),F(2,Ge,5,1,"mat-chip-row",null,g),a(),m(4,"input",5,6),f("matChipInputTokenEnd",function(){M(n);let i=s();return E(i.addSelection());}),a();}if(t&2){let n=C(1),e=s(),i=C(7);P(2,e.selections),l(4),_("matAutocomplete",i)("formControl",e.control)("matChipInputFor",n)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes);}}function $e(t,r){if(t&1&&T(0,"input",9,6),t&2){let n=s(),e=C(7);_("matAutocomplete",e)("formControl",n.control);}}function we(t,r){if(t&1&&(m(0,"mat-option",10),c(1),a()),t&2){let n=r.$implicit,e=s();_("value",e.getOptionValue(n)),l(1),R(" ",e.getOptionContent(n)," ");}}function He(t,r){t&1&&(m(0,"mat-error"),I(1,11),a());}function Ve(t,r){t&1&&(m(0,"mat-error"),I(1,12),a());}function Be(t,r){t&1&&T(0,"mat-progress-bar",3);}var Nt=(()=>{let r=class r extends ae{constructor(e,i){super(e),this.ngControl=e,this.mlabService=i,this.label=he.testGroup,this.filter=A.default(),this.sortBy="name",this.szOptionFormatFn=o=>o?o.name:"";}ngOnInit(){this.control=this.ngControl.control,this.listenChanges();}ngOnDestroy(){this.subscriptions.unsubscribe();}listenChanges(){this.subscriptions.add(this.control.valueChanges.pipe(pe(400)).subscribe(e=>{this.handleValueChanged(e);}));}handleValueChanged(e){if(this.reset(),typeof e=="string")this.filter.query=e;else if(typeof e=="object"&&e)return;this.get();}reset(){this.filter=A.default(),this.totalPages=-1,this.options=[];}get(){this.mlabService.testGroups.get(Ce(h(h({},this.filter),this.pagination),{sortBy:this.sortBy})).pipe(D(1),se(this.indicator)).subscribe(e=>{this.options.push(...e.items),this.totalPages=e.totalPages;});}getOptionValue(e){return e;}};r.ɵfac=function(i){return new(i||r)(S(V,10),S(le));},r.ɵcmp=z({type:r,selectors:[["medisy-form-field-test-group-search"]],inputs:{filter:"filter"},standalone:!0,features:[G([le]),b,L],decls:13,vars:7,consts:()=>{let e;e="This field is required";let i;return i="This field is not valid",[[1,"container"],[3,"displayWith","szScrollIgnored","optionSelected","szScrolled"],["auto","matAutocomplete"],["mode","indeterminate"],["chipGrid",""],["matInput","",3,"matAutocomplete","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["input",""],[3,"removed"],["matChipRemove",""],["matInput","",3,"matAutocomplete","formControl"],[3,"value"],e,i];},template:function(i,o){i&1&&(m(0,"div",0)(1,"mat-form-field")(2,"mat-label"),c(3),a(),u(4,Le,6,4)(5,$e,2,2),m(6,"mat-autocomplete",1,2),f("optionSelected",function(N){return o.optionSelected(N);})("szScrolled",function(){return o.scroll();}),F(8,we,2,2,"mat-option",10,g),a(),u(10,He,2,0,"mat-error")(11,Ve,2,0,"mat-error"),a(),u(12,Be,1,0,"mat-progress-bar",3),a()),i&2&&(l(3),v(o.label),l(1),p(4,o.multiple?4:5),l(2),_("displayWith",o.szOptionFormatFn)("szScrollIgnored",o.indicator()),P(8,o.options),l(4),p(10,o.control.hasError("required")?10:-1),l(1),p(11,o.control.hasError("invalid")?11:-1),l(1),p(12,o.indicator()?12:-1));},dependencies:[U,H,B,k,W,K,X,Y,oe,te,q,ie,ee,Z,ne,re,j,Se,de,ue,ce,_e,Q,J,fe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=r;return t;})();export{Nt as a,st as b};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/