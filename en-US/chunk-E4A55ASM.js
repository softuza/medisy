import{a as re}from"./chunk-GEKY6DEL.js";import"./chunk-BAVP4TXU.js";import{a as g}from"./chunk-YFD6L276.js";import{b as C,c as Q,e as W,g as Z,h as ee,i as M,s as te,t as oe}from"./chunk-HV2GTULS.js";import{c as w,h as X,i as q,j as H,l as x,m as J,n as K}from"./chunk-XBM75S76.js";import{a as B,b as U,d as $,e as k,g as j}from"./chunk-RY32KYW7.js";import"./chunk-DXSUKRZ3.js";import{d as h,g as A,h as G,l as R,n as I,o as D,p as P,s as N}from"./chunk-4NL6MOY5.js";import{a as T}from"./chunk-FT3WYIOA.js";import{a as b}from"./chunk-PYG3YJ62.js";import{b as V}from"./chunk-HMYAD4IK.js";import"./chunk-XP7I6OF6.js";import{a as L,e as z}from"./chunk-IF5LYGUI.js";import{i as y}from"./chunk-27CPCHLQ.js";import"./chunk-QFXGLSXE.js";import"./chunk-MZZLEOGC.js";import{Pa as Y,Ra as F}from"./chunk-HMJ5RFBC.js";import{Bb as l,Cb as u,Db as m,L as p,Nb as S,Pb as _,ac as f,bc as E,cb as d,cc as v,db as n,kb as O,la as c,nb as s}from"./chunk-VTJ4Z7TN.js";var me=()=>[],pe=a=>[a],ie=(()=>{let i=class i extends X{constructor(e,t,o,r){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=r,this.form=t.group({enabled:[r.laboratoryTestGroup?.enabled??!0,[h.required]],testGroupId:[r.laboratoryTestGroup?.testGroupId,[h.required]]});}submit(){this.IsValid()&&(this.data.laboratoryTestGroup?this.save(this.mlabService.laboratories.testGroups.update(this.data.laboratoryId,this.data.laboratoryTestGroup?.id,this.form.value)):this.save(this.mlabService.laboratories.testGroups.create(this.data.laboratoryId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(n(b),n(P),n(B),n(U));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[O,f],decls:7,vars:7,consts:()=>{let e;return e="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testGroupId",3,"excludeLaboratoryIds"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,o){t&1&&(m(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),m(3,"medisy-form-field-test-group-select",2),l(4,"mat-checkbox",3),S(5,4),u()()(),m(6,"sz-ui-dialog-actions",5)),t&2&&(s("header",o.header),d(2),s("formGroup",o.form),d(1),s("excludeLaboratoryIds",o.data.laboratoryTestGroup?E(4,me):v(5,pe,o.data.laboratoryId)),d(3),s("actions",o.actions));},dependencies:[N,R,A,G,I,D,J,q,H,j,k,M,ee,re],encapsulation:2});let a=i;return a;})();var Xe=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.title=T.testGroups,this.dataSource=new W(),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(Q.default([C.text("testGroup.name",T.testGroup),g.createdAt(),C.checkbox("enabled",T.enabled,(r,ae)=>{r.enabled=ae,this.mlabService.laboratories.testGroups.update(r.laboratoryId,r.id,r).pipe(p(1)).subscribe(ne=>{r=ne;});}),g.menu([y.edit(r=>this.openSaveComponent(r)),y.delete(r=>this.openLaboratoryTestGroupDeleteComponent(r))])])),this.get();}openSaveComponent(e){this.dialog.open(ie,{data:{laboratoryId:this.laboratory.id,laboratoryTestGroup:e}}).afterClosed().pipe(p(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openLaboratoryTestGroupDeleteComponent(e){this.dialog.open(x,{data:K.delete(this.mlabService.laboratories.testGroups.delete(e.laboratoryId,e.id),e)}).afterClosed().pipe(p(1)).subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.laboratories.testGroups.get(this.laboratory.id,this.dataSource.buildRequest()).pipe(w(this.dataSource.indicator)).pipe(p(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(n($),n(b),n(L));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-groups"]],standalone:!0,features:[f],decls:6,vars:5,consts:()=>{let e;return e="Add",[[3,"title","subTitle"],[3,"filter","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(t,o){t&1&&(m(0,"sz-ui-header-info",0),l(1,"sz-ui-table-filter",1),_("search",function(){return o.get();}),l(2,"button",2),_("click",function(){return o.openSaveComponent();}),l(3,"span"),S(4,3),u()()(),l(5,"sz-ui-table",4),_("update",function(){return o.get();}),u()),t&2&&(s("title",o.title)("subTitle",o.laboratory.name),d(1),s("filter",o.dataSource.filter),d(4),s("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[z,V,oe,te,Z,M,F,Y],encapsulation:2});let a=i;return a;})();export{Xe as LaboratoryTestGroupsComponent};/**i18n:58cd3b8848ac5782a36a96a60f590b5398c328b80f04dbb1677d4c0de37b393f*/