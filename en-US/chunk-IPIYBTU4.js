import{b as Re}from"./chunk-5D7OMFN2.js";import{a as L}from"./chunk-V3AZJZGI.js";import{b as Ee,c as Me,e as Ce,g as he,i as I,s as be,t as ge}from"./chunk-DO5PPINK.js";import{a as h}from"./chunk-SUUMCV2R.js";import{c as O,h as ce,i as pe,j as ue,l as _e,m as fe,n as Se}from"./chunk-TXP6BBJB.js";import{a as ae,b as ne,d as le,e as se,g as me}from"./chunk-BVSJJDLC.js";import{A as re,a as Q,b as W,h as Z,p as oe,z as ie}from"./chunk-GXEPFKEQ.js";import{d as U,f as x,g as y,h as Y,l as G,m as B,n as j,o as k,p as H,s as v}from"./chunk-2OZGA6L4.js";import"./chunk-KMOC5U6F.js";import{a as M}from"./chunk-MQCWF3BP.js";import{b as de}from"./chunk-SNKHLPW5.js";import"./chunk-STMMTQTR.js";import"./chunk-3LBYHEZ3.js";import{a as X,e as w,f as ee,g as te}from"./chunk-KIPWFCJ2.js";import{i as F}from"./chunk-Y2P4J75K.js";import"./chunk-5XV2VVI7.js";import"./chunk-E52CL7TM.js";import{Ka as q,Pa as J,Ra as K}from"./chunk-KZIHA7KF.js";import{$b as V,Bb as n,Cb as s,Db as c,L as u,Nb as f,Rb as S,Tb as T,Yb as R,Zb as N,cb as a,cc as E,db as m,dc as z,ec as $,kb as g,la as _,nb as d,tb as C,ub as p,wb as A,xb as D,yb as P}from"./chunk-6MBKLWBV.js";function Ne(o,r){if(o&1&&(n(0,"mat-label"),R(1),s()),o&2){let b=T();a(1),N(b.label);}}function Fe(o,r){o&1&&(n(0,"mat-option"),R(1,"-"),s());}function Le(o,r){if(o&1&&(n(0,"mat-option",3),R(1),s()),o&2){let b=r.$implicit,t=T();d("value",t.getOptionValue(b)),a(1),N(t.getOptionContent(b));}}function Ae(o,r){o&1&&(n(0,"mat-error"),f(1,4),s());}function De(o,r){o&1&&(n(0,"mat-error"),f(1,5),s());}function Pe(o,r){o&1&&(n(0,"mat-error"),f(1,6),s());}function Ve(o,r){o&1&&c(0,"mat-progress-bar",2);}var Oe=(()=>{let r=class r extends oe{constructor(t,i){super(t),this.ngControl=t,this.mlabService=i,this.label=h.referenceValue,this.includeLaboratoryIds=[],this.excludeLaboratoryIds=[],this.optionContent=e=>e.testClass.name,this.optionValue=e=>e.id;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.referenceValues.get({pageIndex:this.pageIndex,pageSize:this.pageSize,includeLaboratoryIds:this.includeLaboratoryIds,excludeLaboratoryIds:this.excludeLaboratoryIds}).pipe(O(this.indicator),u(1)).subscribe(t=>{this.options.push(...t.items),this.totalPages=t.totalPages;});}};r.ɵfac=function(i){return new(i||r)(m(x,10),m(M));},r.ɵcmp=_({type:r,selectors:[["medisy-form-field-reference-value"]],inputs:{includeLaboratoryIds:"includeLaboratoryIds",excludeLaboratoryIds:"excludeLaboratoryIds"},standalone:!0,features:[V([]),g,E],decls:11,vars:10,consts:()=>{let t;t="This field is required";let i;i="This field does not the minimum length";let e;return e="This field exceeds the maximum length",[[2,"position","relative"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],t,i,e];},template:function(i,e){i&1&&(n(0,"div",0)(1,"mat-form-field"),C(2,Ne,2,1,"mat-label"),n(3,"mat-select",1),S("szScrolled",function(){return e.scroll();}),C(4,Fe,2,0,"mat-option"),D(5,Le,2,2,"mat-option",3,A),s(),C(7,Ae,2,0,"mat-error")(8,De,2,0,"mat-error")(9,Pe,2,0,"mat-error"),s(),C(10,Ve,1,0,"mat-progress-bar",2),s()),i&2&&(a(2),p(2,e.label?2:-1),a(1),d("formControl",e.control)("multiple",e.multiple)("placeholder",e.placeholder)("szScrollIgnored",e.indicator()),a(1),p(4,e.emptyOption?4:-1),P(5,e.options),a(3),p(7,e.control.hasError("required")?7:-1),a(1),p(8,e.control.hasError("min")?8:-1),a(1),p(9,e.control.hasError("max")?9:-1),a(1),p(10,e.indicator()?10:-1));},dependencies:[v,y,B,re,Z,Q,W,ie,q,te,ee,Re],encapsulation:2});let o=r;return o;})();var $e=()=>[],Ue=o=>[o],Ie=(()=>{let r=class r extends ce{constructor(t,i,e,l){super(e),this.mlabService=t,this.fb=i,this.dialog=e,this.data=l,this.form=i.group({referenceValueId:[l.laboratoryReferenceValue?.referenceValueId,[U.required]]});}submit(){this.IsValid()&&(this.data.laboratoryReferenceValue?this.save(this.mlabService.laboratories.referenceValues.update(this.data.laboratoryId,this.data.laboratoryReferenceValue?.id,this.form.value)):this.save(this.mlabService.laboratories.referenceValues.create(this.data.laboratoryId,this.form.value)));}};r.ɵfac=function(i){return new(i||r)(m(M),m(H),m(ae),m(ne));},r.ɵcmp=_({type:r,selectors:[["medisy-laboratory-reference-values-save"]],standalone:!0,features:[g,E],decls:5,vars:7,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","referenceValueId",3,"excludeLaboratoryIds"],[3,"actions"]],template:function(i,e){i&1&&(c(0,"sz-ui-dialog-header",0),n(1,"mat-dialog-content")(2,"form",1),c(3,"medisy-form-field-reference-value",2),s()(),c(4,"sz-ui-dialog-actions",3)),i&2&&(d("header",e.header),a(2),d("formGroup",e.form),a(1),d("excludeLaboratoryIds",e.data.laboratoryReferenceValue?z(4,$e):$(5,Ue,e.data.laboratoryId)),a(1),d("actions",e.actions));},dependencies:[v,G,y,Y,j,k,fe,pe,ue,me,se,I,Oe],encapsulation:2});let o=r;return o;})();var At=(()=>{let r=class r{constructor(t,i,e){this.dialog=t,this.mlabService=i,this.route=e,this.title=h.referenceValues,this.dataSource=new Ce(),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(Me.default([Ee.text("testClass",h.testClass,l=>l.referenceValue.testClass.name),L.createdAt(),L.menu([F.edit(l=>{this.openSaveComponent(l);}),F.delete(l=>{this.openLaboratoryReferenceValueDeleteComponent(l);})])])),this.get();}openSaveComponent(t){this.dialog.open(Ie,{data:{laboratoryId:this.laboratory.id,laboratoryReferenceValue:t}}).afterClosed().pipe(u(1)).subscribe(i=>{this.dataSource.addOrUpdateItem(i);});}openLaboratoryReferenceValueDeleteComponent(t){this.dialog.open(_e,{data:Se.delete(this.mlabService.laboratories.referenceValues.delete(t.laboratoryId,t.id),t)}).afterClosed().pipe(u(1)).subscribe(i=>{this.dataSource.delete(i);});}get(){this.mlabService.laboratories.referenceValues.get(this.laboratory.id,this.dataSource.filter,this.dataSource.pagination).pipe(O(this.dataSource.indicator)).pipe(u(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};r.ɵfac=function(i){return new(i||r)(m(le),m(M),m(X));},r.ɵcmp=_({type:r,selectors:[["medisy-laboratory-reference-values"]],standalone:!0,features:[E],decls:6,vars:5,consts:()=>{let t;return t="Add",[[3,"title","subTitle"],[3,"filter","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"stateEnabled","dataSource","update"]];},template:function(i,e){i&1&&(c(0,"sz-ui-header-info",0),n(1,"sz-ui-table-filter",1),S("search",function(){return e.get();}),n(2,"button",2),S("click",function(){return e.openSaveComponent();}),n(3,"span"),f(4,3),s()()(),n(5,"sz-ui-table",4),S("update",function(){return e.get();}),s()),i&2&&(d("title",e.title)("subTitle",e.laboratory.name),a(1),d("filter",e.dataSource.filter),a(4),d("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[w,de,ge,be,he,I,K,J],encapsulation:2});let o=r;return o;})();export{At as LaboratoryReferenceValuesComponent};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/