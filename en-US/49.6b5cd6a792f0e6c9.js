"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[49],{6049:(A,E,t)=>{t.r(E),t.d(E,{ReferenceValueModule:()=>ne});var u=t(6814),l=t(6223),m=t(2296),i=t(5986),S=t(3680),d=t(7700),L=t(617),N=t(2032),I=t(7988),Y=t(8525),_=t(8109),y=t(6981),D=t(465),T=t(6987),$=t(758),z=t(2595),Z=t(2169),R=t(4110),x=t(9004),F=t(5041),J=t(7239),p=t(3572),G=t(8645),e=t(5879),B=t(2516),O=t(2191),V=t(5837),X=t(9598),Q=t(8721),C=t(8180),W=t(6187),g=t(2557),h=t(4257),v=t(4622),P=t(6091);let j=(()=>{class r extends R.Z2{constructor(o,n,s){super(n),this.fb=o,this.dialog=n,this.data=s,this.form=o.group({referenceGroupId:[s.referenceGroupId],comparisonOperator:[s.comparisonOperator]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(l.qu),e.Y36(d.so),e.Y36(d.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules-filter"]],features:[e._Bn([W.T]),e.qOj],decls:6,vars:5,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","comparisonOperator",3,"emptyOption"],["formControlName","referenceGroupId",3,"emptyOption"],[3,"actions"]],template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-comparison-operator",2)(4,"medisy-form-field-reference-group",3),e.qZA()(),e._UZ(5,"sz-ui-dialog-actions",4)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("actions",n.actions))},dependencies:[l._Y,l.JJ,l.JL,l.sg,l.u,d.xY,g.P,h.f,v.Y,P.t],encapsulation:2}),r})();var M=t(7263),U=t(8380),K=t(9157),b=t(8873);function H(r,a){1&r&&(e.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"label"),e._UZ(3,"input",10),e.qZA()(),e.TgZ(4,"mat-form-field",9)(5,"label"),e._UZ(6,"input",11),e.qZA()()())}function w(r,a){1&r&&(e.TgZ(0,"mat-form-field",9)(1,"label"),e._UZ(2,"input",12),e.qZA()())}let q=(()=>{class r extends R.Ku{constructor(o,n,s,c){super(s),this.referenceValueService=o,this.fb=n,this.dialog=s,this.data=c,this.form=n.group({description:[c.referenceValueRule?.description,[l.kI.maxLength(4096)]],comparisonOperator:[c.referenceValueRule?.comparisonOperator??M.v.Equal,[l.kI.required]],referenceGroupId:[c.referenceValueRule?.referenceGroupId,[l.kI.required]],value:[c.referenceValueRule?.value,[]],start:[c.referenceValueRule?.start,[]],end:[c.referenceValueRule?.end,[]]})}isRange(){return this.form.value.comparisonOperator===M.v.RangeWithBoundaries||this.form.value.comparisonOperator===M.v.RangeWithoutBoundaries}submit(){this.IsValid()&&this.save(this.data.referenceValueRule?this.referenceValueService.updateReferenceValueRule(this.data.referenceValueId,this.data.referenceValueRule.id,this.form.value):this.referenceValueService.createReferenceValueRule(this.data.referenceValueId,this.form.value))}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(U.U),e.Y36(l.qu),e.Y36(d.so),e.Y36(d.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules-save"]],features:[e._Bn([T.C]),e.qOj],decls:9,vars:5,consts:function(){let a,o,n,s;return a="Description",o="Start",n="End",s="Value",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",a],["formControlName","comparisonOperator"],["class","tw-flex md:tw-flex-row tw-flex-col md:tw-gap-4",4,"ngIf"],["class","tw-flex-1",4,"ngIf"],["formControlName","referenceGroupId"],[3,"actions"],[1,"tw-flex","md:tw-flex-row","tw-flex-col","md:tw-gap-4"],[1,"tw-flex-1"],["autocomplete","off","formControlName","start","matInput","","placeholder",o],["autocomplete","off","formControlName","end","matInput","","placeholder",n],["autocomplete","off","formControlName","value","matInput","","placeholder",s]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-comparison-operator",3),e.YNc(5,H,7,0,"div",4),e.YNc(6,w,3,0,"mat-form-field",5),e._UZ(7,"medisy-form-field-reference-group",6),e.qZA()(),e._UZ(8,"sz-ui-dialog-actions",7)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("ngIf",n.isRange()),e.xp6(1),e.Q6J("ngIf",!n.isRange()),e.xp6(2),e.Q6J("actions",n.actions))},dependencies:[u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.xY,N.Nt,K.KE,b.J,g.P,h.f,v.Y,P.t],encapsulation:2}),r})();var k=t(6939),ee=t(3144);let te=(()=>{class r{constructor(o,n,s,c){this.dialog=o,this.route=n,this.referenceValueService=s,this.comparisonOperatorI18nPipe=c,this.dataSource=new p.b2(X.J.paged()),this.referenceValue=this.route.snapshot.data.referenceValue,this.dataSource.columns=[p.UC.text("referenceGroup","Reference group",f=>f.referenceGroup.name),O.h.comparisonOperator(f=>c.transform(f.comparisonOperator)),p.UC.text("value","Value",f=>f.value?f.value:`${f.start} - ${f.end}`),O.h.createdAt(),O.h.menu([p.od.edit(f=>this.openSaveComponent(f)),p.od.delete(f=>{this.openReferenceValueRuleDeleteComponent(f)})])],this.get()}openSaveComponent(o){this.dialog.open(q,{data:{referenceValueId:this.referenceValue.id,referenceValueRule:o}}).afterClosed().pipe((0,C.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(j,{data:this.dataSource.filterModel}).afterClosed().pipe((0,C.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openReferenceValueRuleDeleteComponent(o){this.dialog.open(R.fN,{data:R.cb.delete(this.referenceValueService.deleteReferenceValueRule(o.referenceValueId,o.id),o)}).afterClosed().pipe((0,C.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.referenceValueService.getReferenceValueRules(this.referenceValue.id,this.dataSource.filterModel).pipe((0,Q.sU)(this.dataSource.indicator),(0,C.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(d.uw),e.Y36(_.gz),e.Y36(U.U),e.Y36(V.Q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value-rules"]],features:[e._Bn([V.Q])],decls:5,vars:4,consts:function(){let a;return a="Add",[[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],a,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-table-filter",0),e.NdJ("search",function(){return n.get()})("filter",function(){return n.openFilterComponent()}),e.TgZ(1,"button",1),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(2,"span"),e.SDv(3,2),e.qZA()()(),e.TgZ(4,"sz-ui-table",3),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[m.lW,k.K,ee.f],encapsulation:2}),r})();const oe=[{path:"",component:(()=>{class r{constructor(o,n){this.dialog=o,this.route=n,this.alert$=new G.x,this.referenceValue=this.route.snapshot.data.referenceValue}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(d.uw),e.Y36(_.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-laboratory-reference-value"]],features:[e._Bn([])],decls:7,vars:1,consts:function(){let a;return a="Reference Values",[["start",""],[1,"sz-h5"],["routerLink","../",1,"tw-underline","tw-text-sm"],a]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e._uU(3),e.qZA(),e.TgZ(4,"a",2),e.SDv(5,3),e.qZA()()(),e._UZ(6,"medisy-laboratory-reference-value-rules")),2&o&&(e.xp6(3),e.Oqu(n.referenceValue.testClass.name))},dependencies:[_.rH,B.z,te],encapsulation:2}),r})()}];let ne=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[T.C],imports:[u.ez,l.u5,l.UX,_.Bz.forChild(oe),d.Is,N.c,i.p9,I.Tx,L.Ps,S.Ng,m.ot,Y.LD,$.E3,p.Vn,Z.c,z.V,J.h,x.g,y.F,R.su,F.n,D.X]}),r})()},2191:(A,E,t)=>{t.d(E,{h:()=>l});var u=t(3572);class l{static menu(i){return u.UC.action("menu",i)}static code(){return u.UC.text("code","Code")}static createdAt(){return u.UC.date("createdAt","Created Date")}static updatedAt(){return u.UC.date("updatedAt","Updated Date")}static id(){return u.UC.text("id","Id")}static nameHyperlink(i,S,d){return u.UC.hyperlink("name","Name",i,S,d)}static nameText(i){return u.UC.text("name","Name",i)}static phoneType(i){return u.UC.text("phoneType","Phone Type",i)}static emailType(i){return u.UC.text("emailType","Email Type",i)}static documentType(i){return u.UC.text("documentType","Document Type",i)}static comparisonOperator(i){return u.UC.text("comparisonOperator","Comparison Operator",i)}}},465:(A,E,t)=>{t.d(E,{X:()=>l});var u=t(5879);let l=(()=>{class m{}return m.\u0275fac=function(S){return new(S||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({}),m})()}}]);