import{a as ee}from"./chunk-UZV5LP6K.js";import{c as m,g as y}from"./chunk-AYD4YNQF.js";import{b as Z}from"./chunk-BDAURDQS.js";import{a as C,b as J,c as K,o as Q,p as W}from"./chunk-UWWSZ6EK.js";import{c as B,h as U,i as k,j as x,l as H,m as X,n as q}from"./chunk-TZHDOS7D.js";import{a as G,b as Y,d as $,e as j,g as w}from"./chunk-MLSRSUWT.js";import{q as F,t as L}from"./chunk-DPUIQT2Q.js";import{g as A,h as D,l as E,n as z,o as N,p as I,s as O}from"./chunk-UZRVZSRL.js";import{c as h}from"./chunk-VXIMUH5R.js";import{a as l}from"./chunk-ANLAVR6W.js";import{a as V}from"./chunk-HSBTPXYW.js";import{a as P,e as R}from"./chunk-7EL7DJOA.js";import{$b as f,Ab as c,Bb as u,Cb as S,L as d,Ob as T,Yb as v,cb as g,db as n,ja as r,kb as M,la as p,nb as s,pc as b}from"./chunk-MK3KDUIH.js";var te=(()=>{let o=class o extends U{constructor(e,t,i,_){super(i),this.mlabService=e,this.fb=t,this.dialog=i,this.data=_,this.form=t.group({note:[_?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.laboratories.update(this.data.id,this.form.value));}};o.ɵfac=function(t){return new(t||o)(n(l),n(I),n(G),n(Y));},o.ɵcmp=p({type:o,selectors:[["medisy-laboratory-analysis-tests-save"]],standalone:!0,features:[M,f],decls:5,vars:3,consts:()=>{let e;return e="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",e],[3,"actions"]];},template:function(t,i){t&1&&(S(0,"sz-ui-dialog-header",0),c(1,"mat-dialog-content")(2,"form",1),S(3,"sz-ui-form-field-input",2),u()(),S(4,"sz-ui-dialog-actions",3)),t&2&&(s("header",i.header),g(2),s("formGroup",i.form),g(2),s("actions",i.actions));},dependencies:[O,E,A,D,z,N,w,j,X,k,x,L,F],encapsulation:2});let a=o;return a;})();var Ye=(()=>{let o=class o{constructor(){this.route=r(P),this.dialog=r($),this.locale=r(b),this.mlabService=r(l),this.typeI18nPipe=r(y),this.dataSource=new J(V.unpagedSorted("test.testClass")),this.analysis=this.route.snapshot.data.analysis,this.dataSource.addRows(K.default([C.icon("test.state","State",e=>{switch(e.test.state){case m.Created:return"description";case m.Pending:return"pending";case m.Started:return"sync";case m.Finished:return"done";default:return"";}}).makeCompact(),C.text("test.testclass","Test Class",e=>e.test.testClass.name),C.text("test.referenceGroup","Reference Group",e=>e.test.referenceGroup.name[ee(this.locale)]),Z.menu([h.edit(e=>this.openSaveAnalysisTestComponent(e)),h.divider(),h.delete(e=>this.openDeleteAnalysisTestComponent(e))])])),this.get();}openSaveAnalysisTestComponent(e){this.dialog.open(te,{data:e}).afterClosed().pipe(d(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openDeleteAnalysisTestComponent(e){this.dialog.open(H,{data:q.delete(this.mlabService.analyses.tests.delete(e.analysisId,e.id),e)}).afterClosed().pipe(d(1)).subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.analyses.tests.get(this.analysis.id,this.dataSource.filterModel).pipe(B(this.dataSource.indicator)).pipe(d(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};o.ɵfac=function(t){return new(t||o)();},o.ɵcmp=p({type:o,selectors:[["medisy-laboratory-analysis-tests"]],standalone:!0,features:[v([l,y]),f],decls:1,vars:3,consts:[[3,"paginationEnabled","stateEnabled","dataSource","update"]],template:function(t,i){t&1&&(c(0,"sz-ui-table",0),T("update",function(){return i.get();}),u()),t&2&&s("paginationEnabled",!1)("stateEnabled",!0)("dataSource",i.dataSource);},dependencies:[R,W,Q],encapsulation:2});let a=o;return a;})();export{Ye as a};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/