import{a as u}from"./chunk-LGHSQHOU.js";import{a as f,d as Y,f as Z,i as x,j as ee}from"./chunk-PRJX2JAQ.js";import"./chunk-CWEN2IOM.js";import"./chunk-WCKPVAQG.js";import"./chunk-RH6M2N5K.js";import"./chunk-VHEILY3D.js";import{e as Q,f as J,g as K,j as W}from"./chunk-RRUANXYA.js";import{a as C}from"./chunk-D6XBGGEX.js";import"./chunk-UXWDAJ7U.js";import{a as $,d as B,e as j,g}from"./chunk-ETALXWQT.js";import"./chunk-RO553O4B.js";import{q,t as H}from"./chunk-Y24FFV4B.js";import{c as k}from"./chunk-4ZEOSM2S.js";import"./chunk-LW56SAW2.js";import"./chunk-FRDS3MXL.js";import{c as p,d as w}from"./chunk-IQ3TWIRX.js";import{i as U}from"./chunk-BPSQNXP6.js";import{d as T,f as v,g as y,k as A,m as b,p as D,q as F,t as G}from"./chunk-HDJBEY5M.js";import"./chunk-UTAEFVA5.js";import{c as R,e as L}from"./chunk-BMRBIOPX.js";import"./chunk-JHIO5ZJT.js";import{ha as P,ia as V,ka as X}from"./chunk-2645KM3G.js";import"./chunk-PSTFR276.js";import{Db as a,Nb as m,Ob as d,Pb as c,Zb as z,_b as _,hb as n,ib as s,ka as N,pc as M,qc as O,ua as S,ub as I,va as h}from"./chunk-VKKLIJN4.js";var E=function(r){return r.Email="Email",r.Sms="Sms",r.Push="Push",r;}(E||{});var ie=(()=>{let e=class e extends Q{constructor(o,i,t){super(t),this.sntiService=o,this.fb=i,this.dialog=t,this.title=p.create,this.notificaitons=this.sntiService.notifications.getAll({orderBy:["name"]}),this.notificationTypes=Object.keys(E).map(l=>E[l]),this.form=i.group({notificationId:[null,[T.required]],notificationTypes:[null,[]],recipients:[[{identifier:"7e88a4f5-a2bb-48e6-8b84-823fb3fd3c86"}],[T.required]]});}submit(){this.IsValid()&&this.save(this.sntiService.messages.create(this.form.value));}};e.ɵfac=function(i){return new(i||e)(s(u),s(F),s($));},e.ɵcmp=S({type:e,selectors:[["sz-mgmt-notification-messages-create"]],standalone:!0,features:[M([]),I,O],decls:6,vars:9,consts:()=>{let o;o="Notification";let i;return i="Types",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","notificationId","label",o,3,"source"],["formControlName","notificationTypes","label",i,3,"source","localizedValue","multiple"],[3,"actions"]];},template:function(i,t){i&1&&(c(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),c(3,"sz-ui-form-field-select",2)(4,"sz-ui-form-field-select",3),d()(),c(5,"sz-ui-dialog-actions",4)),i&2&&(a("title",t.title)("subtitle",t.subtitle)("alert",t.alert()),n(2),a("formGroup",t.form),n(),a("source",t.notificaitons),n(),a("source",t.notificationTypes)("localizedValue",!0)("multiple",!0),n(),a("actions",t.actions));},dependencies:[G,A,v,y,b,D,g,j,U,W,J,K,H,q],encapsulation:2});let r=e;return r;})();var oe=(()=>{let e=class e{constructor(o,i,t){this.dialog=o,this.sntiService=i,this.router=t,this.title=p.messages,this.dataSource=new Y(["-createdAt"]),this.dataSource.columnDefs.push(f.uuid("id"),f.date("createdAt").setStacked(f.enum("notificationType").setName(p.type).setValueGetter(l=>w(l.notificationType)).setValueClassFontSmall()),f.number("recipientsCount").setName(p.recipients)),this.get();}openCreateComponent(){this.dialog.open(ie).afterClosed().subscribe(o=>{this.dataSource.addOrUpdateItem(o);});}get(){this.sntiService.messages.get(this.dataSource.getQuery()).pipe(k(this.dataSource.indicator)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};e.ɵfac=function(i){return new(i||e)(s(B),s(u),s(R));},e.ɵcmp=S({type:e,selectors:[["sz-mgmt-notification-messages"]],features:[M([])],decls:6,vars:4,consts:()=>{let o;return o="Add",[o,[3,"title"],[3,"changed","dataSource"],["mat-flat-button","","color","primary","start","",3,"click"],[3,"update","stateEnabled","dataSource"]];},template:function(i,t){i&1&&(c(0,"sz-ui-app-bar",1),m(1,"sz-ui-table-search-filter",2),_("changed",function(){return t.get();}),m(2,"button",3),_("click",function(){return t.openCreateComponent();}),m(3,"span"),z(4,0),d()()(),m(5,"sz-ui-table",4),_("update",function(){return t.get();}),d()),i&2&&(a("title",t.title),n(),a("dataSource",t.dataSource),n(4),a("stateEnabled",!0)("dataSource",t.dataSource));},dependencies:[V,x,Z,C],encapsulation:2});let r=e;return r;})();var we=(()=>{let e=class e{};e.ɵfac=function(i){return new(i||e)();},e.ɵmod=h({type:e}),e.ɵinj=N({providers:[u],imports:[L.forChild([{path:"",component:oe}]),g,X,ee,C,P]});let r=e;return r;})();export{we as MessagesModule};/**i18n:cf163fa03d93e2ed7d9bf81d98f95d4d83fa34c285d61bec74ceddad761d1a12*/