import{a as ae}from"./chunk-5KZB23F5.js";import"./chunk-AZPHA75M.js";import{a as C}from"./chunk-APQYB4PN.js";import{b as u,c as Z,e as ee,g as te,h as oe,i as y,s as ie,t as re}from"./chunk-2QM5MHPY.js";import{c as w,h as x,i as H,j as J,l as K,m as Q,n as W}from"./chunk-IYZKMGKL.js";import{a as G,b as k,d as U,e as j,g as X}from"./chunk-ZGNAWKHW.js";import{y as V}from"./chunk-DFAY52UJ.js";import{d as c,g,h as R,l as v,n as I,o as D,p as L,s as Y}from"./chunk-N56VCROX.js";import{a as m}from"./chunk-6SZAHQ7N.js";import{a as b}from"./chunk-KMYBK3UO.js";import{b as q}from"./chunk-P6DDCQCI.js";import"./chunk-NJ7DKY7A.js";import{a as z,e as F}from"./chunk-W5YC4BSW.js";import{i as A}from"./chunk-LA45AZ3O.js";import"./chunk-GAA223RS.js";import"./chunk-UXQNJ32W.js";import{Pa as B,Ra as $}from"./chunk-AZJBQUGA.js";import{Bb as l,Cb as p,Db as _,L as S,Nb as T,Pb as E,ac as M,bc as h,cb as d,cc as N,db as n,kb as P,la as f,nb as s}from"./chunk-7AORQD44.js";var _e=()=>[],me=a=>[a],ne=(()=>{let r=class r extends x{constructor(e,t,i,o){super(i),this.mlabService=e,this.fb=t,this.dialog=i,this.data=o,this.form=t.group({enabled:[o.laboratoryTestType?.enabled??!0,[c.required]],price:[o.laboratoryTestType?.price??0,[c.required]],isFavorite:[o.laboratoryTestType?.isFavorite??!1,[c.required]],testTypeId:[o.laboratoryTestType?.testTypeId,[c.required]]});}submit(){this.IsValid()&&(this.data.laboratoryTestType?this.save(this.mlabService.laboratories.testTypes.update(this.data.laboratoryId,this.data.laboratoryTestType?.id,this.form.value)):this.save(this.mlabService.laboratories.testTypes.create(this.data.laboratoryId,this.form.value)));}};r.ɵfac=function(t){return new(t||r)(n(b),n(L),n(G),n(k));},r.ɵcmp=f({type:r,selectors:[["medisy-laboratory-test-types-save"]],standalone:!0,features:[P,M],decls:10,vars:7,consts:()=>{let e;e="Price";let t;t="Favorite";let i;return i="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testTypeId",3,"excludeLaboratoryIds"],["formControlName","price","label",e],["formControlName","isFavorite"],t,["formControlName","enabled"],i,[3,"actions"]];},template:function(t,i){t&1&&(_(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),_(3,"medisy-form-field-test-type-select",2)(4,"sz-ui-form-field-input",3),l(5,"mat-checkbox",4),T(6,5),p(),l(7,"mat-checkbox",6),T(8,7),p()()(),_(9,"sz-ui-dialog-actions",8)),t&2&&(s("header",i.header),d(2),s("formGroup",i.form),d(1),s("excludeLaboratoryIds",i.data.laboratoryTestType?h(4,_e):N(5,me,i.data.laboratoryId)),d(6),s("actions",i.actions));},dependencies:[Y,v,g,R,I,D,Q,H,J,X,j,y,oe,ae,V],encapsulation:2});let a=r;return a;})();var xe=(()=>{let r=class r{constructor(e,t,i){this.dialog=e,this.mlabService=t,this.route=i,this.title=m.testTypes,this.dataSource=new ee(),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(Z.default([u.text("testType.name",m.testType),u.text("price",m.price),C.createdAt(),u.checkbox("isFavorite",m.favorite,(o,O)=>{o.isFavorite=O,this.updateItem(o);}),u.checkbox("enabled",m.enabled,(o,O)=>{o.enabled=O,this.mlabService.laboratories.testTypes.update(o.laboratoryId,o.id,o).pipe(S(1)).subscribe(se=>{o=se;});}),C.menu([A.edit(o=>this.openSaveComponent(o)),A.delete(o=>this.openLaboratoryTestTypeDeleteComponent(o))])])),this.get();}openSaveComponent(e){this.dialog.open(ne,{data:{laboratoryId:this.laboratory.id,laboratoryTestType:e}}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openLaboratoryTestTypeDeleteComponent(e){this.dialog.open(K,{data:W.delete(this.mlabService.laboratories.testTypes.delete(e.laboratoryId,e.id),e)}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.delete(t);});}updateItem(e){this.mlabService.laboratories.testTypes.update(e.laboratoryId,e.id,e).subscribe(t=>{this.dataSource.update(t);});}get(){this.mlabService.laboratories.testTypes.get(this.laboratory.id,this.dataSource.buildRequest()).pipe(w(this.dataSource.indicator)).pipe(S(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};r.ɵfac=function(t){return new(t||r)(n(U),n(b),n(z));},r.ɵcmp=f({type:r,selectors:[["medisy-laboratory-test-types"]],standalone:!0,features:[M],decls:6,vars:5,consts:()=>{let e;return e="Add",[[3,"title","subTitle"],[3,"filter","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(t,i){t&1&&(_(0,"sz-ui-header-info",0),l(1,"sz-ui-table-filter",1),E("search",function(){return i.get();}),l(2,"button",2),E("click",function(){return i.openSaveComponent();}),l(3,"span"),T(4,3),p()()(),l(5,"sz-ui-table",4),E("update",function(){return i.get();}),p()),t&2&&(s("title",i.title)("subTitle",i.laboratory.name),d(1),s("filter",i.dataSource.filter),d(4),s("stateEnabled",!0)("dataSource",i.dataSource));},dependencies:[F,q,re,ie,te,y,$,B],encapsulation:2});let a=r;return a;})();export{xe as LaboratoryTestTypesComponent};/**i18n:ca0c0aaef853f716736db0c306cb0b403cbd4c4309f5c41e82b4683f77b810d2*/