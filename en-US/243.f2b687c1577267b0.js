"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[243],{4243:(b,f,n)=>{n.r(f),n.d(f,{TestGroupsModule:()=>z});var m=n(6814),T=n(2296),r=n(7700),g=n(617),O=n(8109),c=n(6883),M=n(758),d=n(9899),_=n(5041),P=n(7239),u=n(3572),S=n(8262),A=n(9598),v=n(8721),p=n(8180),i=n(6223),C=n(7106),t=n(5879),h=n(4622),E=n(6091);let R=(()=>{class a extends d.Z2{constructor(s,o,e){super(o),this.fb=s,this.dialog=o,this.data=e,this.form=s.group({includeLaboratoryIds:[e.includeLaboratoryIds]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(i.qu),t.Y36(r.so),t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["medisy-test-groups-filter"]],standalone:!0,features:[t._Bn([]),t.qOj,t.jDz],decls:5,vars:4,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(o,e){1&o&&(t._UZ(0,"sz-ui-dialog-header",0),t.TgZ(1,"mat-dialog-content")(2,"form",1),t._UZ(3,"medisy-form-field-laboratory",2),t.qZA()(),t._UZ(4,"sz-ui-dialog-actions",3)),2&o&&(t.Q6J("header",e.header),t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("multiple",!0),t.xp6(1),t.Q6J("actions",e.actions))},dependencies:[m.ez,i.UX,i._Y,i.JJ,i.JL,i.sg,i.u,r.Is,r.xY,d.su,h.Y,E.t,C.w],encapsulation:2})}return a})();var G=n(5781),N=n(5974),I=n(8873);let Y=(()=>{class a extends d.Ku{constructor(s,o,e,l){super(e),this.mlabService=s,this.fb=o,this.dialog=e,this.data=l,this.form=o.group({name:[l?.name,[i.kI.required,i.kI.minLength(1)]],description:[l?.description,[]],isFavorite:[l?.isFavorite??!1,[i.kI.required]]})}submit(){this.IsValid()&&this.save(this.data?this.mlabService.testGroups.update(this.data.id,this.form.value):this.mlabService.testGroups.create(this.form.value))}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(c.t),t.Y36(i.qu),t.Y36(r.so),t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[t._Bn([]),t.qOj,t.jDz],decls:6,vars:3,consts:function(){let s,o;return s="Name",o="Description",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",s],["formControlName","description","label",o],[3,"actions"]]},template:function(o,e){1&o&&(t._UZ(0,"sz-ui-dialog-header",0),t.TgZ(1,"mat-dialog-content")(2,"form",1),t._UZ(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),t.qZA()(),t._UZ(5,"sz-ui-dialog-actions",4)),2&o&&(t.Q6J("header",e.header),t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(3),t.Q6J("actions",e.actions))},dependencies:[m.ez,i.UX,i._Y,i.JJ,i.JL,i.sg,i.u,r.Is,r.xY,d.su,h.Y,E.t,G.g2,N.g,I.L],encapsulation:2})}return a})();var D=n(8359),L=n(3144),U=n(2516);const y=[{path:"",component:(()=>{class a{constructor(s,o){this.dialog=s,this.mlabService=o,this.dataSource=new u.b2(A.J.paged()),this.dataSource.columns=[S.h.nameHyperlink(e=>e.id,e=>e.name),S.h.code(),S.h.createdAt(),u.UC.checkbox("isFavorite","Favorite",(e,l)=>{e.isFavorite=l,this.updateItem(e)}),S.h.menu([u.od.edit(e=>this.openSaveComponent(e)),u.od.delete(e=>this.openTestGroupDeleteComponent(e))])],this.get()}openFilterComponent(){this.dialog.open(R,{data:this.dataSource.filterModel}).afterClosed().pipe((0,p.q)(1)).subscribe(o=>{this.dataSource.updateFilterModel(o),this.get()})}openSaveComponent(s){this.dialog.open(Y,{data:s}).afterClosed().pipe((0,p.q)(1)).subscribe(e=>{this.dataSource.updateOrPushItem(e)})}openTestGroupDeleteComponent(s){this.dialog.open(d.fN,{data:d.cb.delete(this.mlabService.testGroups.delete(s.id),s)}).afterClosed().pipe((0,p.q)(1)).subscribe(e=>{this.dataSource.delete(e)})}updateItem(s){this.mlabService.testGroups.update(s.id,s).subscribe(o=>{this.dataSource.update(o)})}get(){this.mlabService.testGroups.get(this.dataSource.filterModel).pipe((0,v.sU)(this.dataSource.indicator),(0,p.q)(1)).subscribe(s=>{this.dataSource.set(s.items,s.count)})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(r.uw),t.Y36(c.t))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["medisy-laboratory-test-groups"]],features:[t._Bn([c.t])],decls:8,vars:4,consts:function(){let s,o;return s="Test Groups",o="Add",[["start","",1,"sz-h5"],s,[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,e){1&o&&(t.TgZ(0,"sz-ui-header-basic")(1,"h5",0),t.SDv(2,1),t.qZA()(),t.TgZ(3,"sz-ui-table-filter",2),t.NdJ("search",function(){return e.get()})("filter",function(){return e.openFilterComponent()}),t.TgZ(4,"button",3),t.NdJ("click",function(){return e.openSaveComponent()}),t.TgZ(5,"span"),t.SDv(6,4),t.qZA()()(),t.TgZ(7,"sz-ui-table",5),t.NdJ("update",function(){return e.get()}),t.qZA()),2&o&&(t.xp6(3),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource))},dependencies:[T.lW,D.K,L.f,U.z],encapsulation:2})}return a})()}];let z=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({providers:[c.t],imports:[m.ez,O.Bz.forChild(y),r.Is,g.Ps,T.ot,u.Vn,P.h,M.E3,d.su,_.n]})}return a})()}}]);