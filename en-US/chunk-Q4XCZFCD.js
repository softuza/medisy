import{e as W}from"./chunk-TRH4UE6P.js";import{c as n,g as f,h as Z}from"./chunk-V4UDWFYE.js";import{b as Q}from"./chunk-SEURJQVG.js";import{g as j,h as w,i as J,l as K}from"./chunk-N6GHHBT7.js";import{a as A}from"./chunk-AE2XP4QN.js";import{a as F,b as z,e as v,g as B}from"./chunk-7FCBJZC4.js";import{c as P,p as U,q as y,r as H,s as X,t as k,v as q}from"./chunk-P43JBTCU.js";import{d as _,f as I,g as b,l as L,o as D,r as $,s as x,u as V}from"./chunk-4NWKXUVU.js";import{b as Y}from"./chunk-N35YC64D.js";import{Jb as u,Kb as E,Lb as S,Vb as O,Wb as h,bb as l,ja as m,mb as M,mc as T,na as C,nc as G,yb as a}from"./chunk-AHU4KGCP.js";function ee(r,i,p,t){let e="";return r===n.Male?e+="M ":r===n.Female?e+="F ":e+="U ",e+=`(${i}-${p}${Z(t)})`,e;}function te(r,i,p,t){let e="";return r===n.Male?e+="\u0630\u0643\u0631 ":r===n.Female?e+="\u0623\u0646\u062B\u0649 ":e+="\u063A\u064A\u0631 \u0645\u062D\u062F\u062F ",e+=`(${i}-${p}${Y(t)})`,e;}var He=(()=>{let i=class i extends j{constructor(){super(m(F)),this.mlabService=m(A),this.fb=m(x),this.autoGenerateName=!1,this.data=m(z),this.timeUnits=Object.keys(f).map(o=>f[o]),this.sexes=Object.keys(n).map(o=>n[o]),this.sexesSelectConfig={emptyOption:!0},this.subscriptions=[];let t=this.fb,e=this.data;this.form=t.group({nameEn:[e?.nameEn,[_.required,_.minLength(1)]],nameAr:[e?.nameAr,[_.minLength(1)]],description:[e?.description,[]],timeUnit:[e?.timeUnit??f.Year,[_.required]],sex:t.control(e?.sex,[]),startAge:t.control(e?.startAge??0,[_.required]),endAge:t.control(e?.endAge??125,[_.required])}),this.autoGenerateName=!e,this.subscriptions.push(this.form.controls.sex.valueChanges.subscribe(this.generateName.bind(this))),this.subscriptions.push(this.form.controls.startAge.valueChanges.subscribe(this.generateName.bind(this))),this.subscriptions.push(this.form.controls.endAge.valueChanges.subscribe(this.generateName.bind(this))),this.subscriptions.push(this.form.controls.timeUnit.valueChanges.subscribe(this.generateName.bind(this)));}ngOnDestroy(){this.subscriptions&&this.subscriptions.length>0&&this.subscriptions.forEach(t=>t.unsubscribe());}autoGenerateNameChange(){this.autoGenerateName=!this.autoGenerateName,this.autoGenerateName&&this.generateName();}generateName(){if(!this.autoGenerateName)return;let t=this.form.getRawValue(),e=this.form.get("nameEn");e&&e.patchValue(ee(t.sex,t.startAge,t.endAge,t.timeUnit));let o=this.form.get("nameAr");o&&o.patchValue(te(t.sex,t.startAge,t.endAge,t.timeUnit));}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.referenceGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.referenceGroups.create(this.form.value)));}};i.ɵfac=function(e){return new(e||i)();},i.ɵcmp=C({type:i,selectors:[["sz-medisy-laboratory-reference-groups-reference-group-save"]],standalone:!0,features:[T([A]),M,G],decls:16,vars:11,consts:()=>{let t;t="Sex";let e;e="Time Unit";let o;o="Start";let R;R="End";let d;d="English Name";let c;c="Arabic Name";let g;g="Description";let N;return N="Auto-generate Name",[N,[3,"title","subtitle","alert"],["end",""],[3,"change","checked"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","sex","label",t,3,"source","localizedValue","config"],["formControlName","timeUnit","label",e,3,"source","localizedValue"],["formControlName","startAge","label",o],["formControlName","endAge","label",R],["formControlName","nameEn","label",d],["formControlName","nameAr","label",c],["formControlName","description","label",g],[3,"actions"]];},template:function(e,o){e&1&&(u(0,"sz-ui-dialog-header",1)(1,"div",2)(2,"mat-checkbox",3),h("change",function(){return o.autoGenerateNameChange();}),O(3,0),E()()(),u(4,"mat-dialog-content")(5,"form",4)(6,"div",5),S(7,"sz-ui-form-field-select",6)(8,"sz-ui-form-field-select",7),E(),u(9,"div",5),S(10,"sz-ui-form-field-input-number",8)(11,"sz-ui-form-field-input-number",9),E(),S(12,"sz-ui-form-field-input-text",10)(13,"sz-ui-form-field-input-text",11)(14,"sz-ui-form-field-textarea",12),E()(),S(15,"sz-ui-dialog-actions",13)),e&2&&(a("title",o.title)("subtitle",o.subtitle)("alert",o.alert()),l(2),a("checked",o.autoGenerateName),l(3),a("formGroup",o.form),l(2),a("source",o.sexes)("localizedValue",!0)("config",o.sexesSelectConfig),l(),a("source",o.timeUnits)("localizedValue",!0),l(7),a("actions",o.actions));},dependencies:[V,L,I,b,D,$,B,v,K,w,J,q,P,U,k,X,H,y,Q,W],encapsulation:2});let r=i;return r;})();export{He as a};/**i18n:24e18a1ba83b4179a1babb1616b4d359e6a6ee94f2bda655ac6b279e5c98bb73*/