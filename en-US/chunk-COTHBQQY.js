import{a as P}from"./chunk-A6V2YWOZ.js";import{a as le}from"./chunk-ZUTEIW3L.js";import"./chunk-PPO5LMMV.js";import"./chunk-6VMEWVPH.js";import"./chunk-JI5I5E7Z.js";import{a as Y}from"./chunk-AFQKYUCE.js";import{a as te,b as ie,c as oe,e as re,o as ae,p as ne}from"./chunk-FYVWUY5J.js";import"./chunk-BDKYF43S.js";import{c as K,g as Q,h as W,i as v,j as R,l as Z,m as L,n as ee}from"./chunk-JUKWJGHA.js";import{a as h,b as y,d as H,e as D,g as I}from"./chunk-LR6DSKQQ.js";import{D as k,E as q,z as X}from"./chunk-CJ3L35E7.js";import{d as M,g as E,h as A,l as C,n as O,o as T,p as g,s as b}from"./chunk-FZFNR6NR.js";import"./chunk-6E3ZQFEE.js";import{a as N}from"./chunk-X3ZOFRYL.js";import{a as J}from"./chunk-V2YTYBA6.js";import{a as x}from"./chunk-AQB7U7BU.js";import{a as G,d as V,e as j}from"./chunk-4G55JY3H.js";import{i as F}from"./chunk-5QJH45WQ.js";import"./chunk-AWHXYS7Y.js";import"./chunk-EBVBFE7W.js";import{Pa as U,Ra as w}from"./chunk-W55BWEJG.js";import{Bb as m,Cb as d,Db as p,L as S,Nb as z,Pb as f,Wb as B,Xb as $,ac as u,cb as s,db as r,kb as c,la as _,nb as l}from"./chunk-3QIFGVJ6.js";var de=(()=>{let o=class o extends Q{constructor(t,e,i){super(e),this.fb=t,this.dialog=e,this.data=i,this.form=t.group({emailType:[i.emailType]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};o.ɵfac=function(e){return new(e||o)(r(g),r(h),r(y));},o.ɵcmp=_({type:o,selectors:[["medisy-laboratory-emails-filter"]],standalone:!0,features:[c,u],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","emailType"],[3,"actions"]],template:function(e,i){e&1&&(p(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),p(3,"medisy-form-field-email-type",2),d()(),p(4,"sz-ui-dialog-actions",3)),e&2&&(l("header",i.header),s(2),l("formGroup",i.form),s(2),l("actions",i.actions));},dependencies:[b,C,E,A,O,T,L,v,R,I,D,P],encapsulation:2});let n=o;return n;})();var pe=(()=>{let o=class o extends W{constructor(t,e,i,a){super(i),this.mlabService=t,this.fb=e,this.dialog=i,this.data=a,this.form=e.group({value:[a.laboratoryEmail?.value,[M.required,M.email]],description:[a.laboratoryEmail?.description,[]],emailType:[a.laboratoryEmail?.emailType??le.Public,[M.required]]});}submit(){this.IsValid()&&(this.data.laboratoryEmail?this.save(this.mlabService.laboratories.emails.update(this.data.laboratoryId,this.data.laboratoryEmail?.id,this.form.value)):this.save(this.mlabService.laboratories.emails.create(this.data.laboratoryId,this.form.value)));}};o.ɵfac=function(e){return new(e||o)(r(N),r(g),r(h),r(y));},o.ɵcmp=_({type:o,selectors:[["medisy-laboratory-emails-save"]],standalone:!0,features:[c,u],decls:7,vars:3,consts:()=>{let t;t="Description";let e;return e="Email",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",t],["formControlName","value","label",e],["formControlName","emailType"],[3,"actions"]];},template:function(e,i){e&1&&(p(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-email-type",4),d()(),p(6,"sz-ui-dialog-actions",5)),e&2&&(l("header",i.header),s(2),l("formGroup",i.form),s(4),l("actions",i.actions));},dependencies:[b,C,E,A,O,T,L,v,R,I,D,q,X,k,P],encapsulation:2});let n=o;return n;})();var tt=(()=>{let o=class o{constructor(t,e,i){this.dialog=t,this.mlabService=e,this.route=i,this.dataSource=new ie(x.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(oe.default([te.text("value","Email"),Y.createdAt(),Y.menu([F.edit(a=>{this.openSaveComponent(a);}),F.delete(a=>{this.openEmailDeleteComponent(a);})])])),this.get();}openSaveComponent(t){this.dialog.open(pe,{data:{laboratoryId:this.laboratory.id,laboratoryEmail:t}}).afterClosed().pipe(S(1)).subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openFilterComponent(){this.dialog.open(de,{data:this.dataSource.filterModel}).afterClosed().pipe(S(1)).subscribe(t=>{this.dataSource.updateFilterModel(t),this.get();});}openEmailDeleteComponent(t){this.dialog.open(Z,{data:ee.delete(this.mlabService.laboratories.emails.delete(t.laboratoryId,t.id),t)}).afterClosed().pipe(S(1)).subscribe(e=>{this.dataSource.delete(e);});}get(){this.mlabService.laboratories.emails.get(this.laboratory.id,this.dataSource.filterModel).pipe(K(this.dataSource.indicator)).pipe(S(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};o.ɵfac=function(e){return new(e||o)(r(H),r(N),r(G));},o.ɵcmp=_({type:o,selectors:[["medisy-laboratory-emails"]],standalone:!0,features:[u],decls:11,vars:5,consts:()=>{let t;t="Emails";let e;return e="Add",[["start",""],[1,"sz-h5"],t,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(e,i){e&1&&(m(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),z(3,2),d(),m(4,"a",3),B(5),d()()(),m(6,"sz-ui-table-filter",4),f("search",function(){return i.get();})("filter",function(){return i.openFilterComponent();}),m(7,"button",5),f("click",function(){return i.openSaveComponent();}),m(8,"span"),z(9,6),d()()(),m(10,"sz-ui-table",7),f("update",function(){return i.get();}),d()),e&2&&(s(5),$(i.laboratory.name),s(1),l("dataSource",i.dataSource),s(4),l("paginationEnabled",!0)("stateEnabled",!0)("dataSource",i.dataSource));},dependencies:[j,V,w,U,J,ne,ae,re],encapsulation:2});let n=o;return n;})();export{tt as LaboratoryEmailsComponent};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/