"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[14],{7014:(g,f,o)=>{o.r(f),o.d(f,{ReferenceValuesModule:()=>G});var E=o(6814),r=o(6223),u=o(2296),i=o(7700),S=o(617),O=o(8109),N=o(6981),T=o(465),C=o(8380),I=o(758),m=o(4110),_=o(9004),V=o(5041),P=o(7239),c=o(3572),R=o(2191),L=o(9598),Y=o(8721),p=o(8180),y=o(7263),e=o(5879),U=o(4889),v=o(1175),A=o(9692),h=o(4622),M=o(6091);let D=(()=>{class a extends m.Z2{constructor(t,n,s){super(n),this.fb=t,this.dialog=n,this.data=s,this.comparisonOperators=Object.values(y.v),this.form=t.group({testClassId:[s.testClassId],unitId:[s.unitId],includeLaboratoryIds:[s.includeLaboratoryIds]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(r.qu),e.Y36(i.so),e.Y36(i.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["medisy-reference-values-filter"]],features:[e._Bn([]),e.qOj],decls:7,vars:6,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(t,n){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&t&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("actions",n.actions))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,i.xY,U.w,v.U,A.V,h.Y,M.t],encapsulation:2}),a})();var z=o(6187),F=o(5974),J=o(8873);let $=(()=>{class a extends m.Ku{constructor(t,n,s,d){super(s),this.referenceValueService=t,this.fb=n,this.dialog=s,this.data=d,this.form=n.group({description:[d?.description,[r.kI.maxLength(4096)]],testClassId:[d?.testClassId,[r.kI.required]],unitId:[d?.unitId,[]],multiplier:[d?.multiplier,[]]})}submit(){this.IsValid()&&this.save(this.data?this.referenceValueService.updateReferenceValue(this.data.id,this.form.value):this.referenceValueService.createReferenceValue(this.form.value))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C.U),e.Y36(r.qu),e.Y36(i.so),e.Y36(i.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["medisy-analysis-management-reference-values-save"]],features:[e._Bn([z.T]),e.qOj],decls:8,vars:3,consts:function(){let l,t;return l="Description",t="Multiplier",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","description","label",l],["formControlName","unitId"],["formControlName","multiplier","label",t],["formControlName","testClassId"],[3,"actions"]]},template:function(t,n){1&t&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5),e.qZA()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&t&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("actions",n.actions))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,i.xY,F.g,J.J,v.U,A.V,h.Y,M.t],encapsulation:2}),a})();var Z=o(2516),b=o(6939),B=o(3144);const X=[{path:"",component:(()=>{class a{constructor(t,n){this.dialog=t,this.valueReferenceService=n,this.dataSource=new c.b2(L.J.paged()),this.dataSource.columns=[c.UC.hyperlink("testClass","Test class",s=>s.id,s=>s.testClass.name),c.UC.text("unit","Unit",s=>s.multiplier?`10^${s.multiplier.toExponential(0).split("e").map(d=>Number(d))[1]}/${s.unit?.abbreviation}`:s.unit?.abbreviation),R.h.createdAt(),R.h.menu([c.od.edit(s=>this.openSaveComponent(s)),c.od.delete(s=>this.openReferenceValueDeleteComponent(s))])],this.get()}openSaveComponent(t){this.dialog.open($,{data:t}).afterClosed().pipe((0,p.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(D,{data:this.dataSource.filterModel}).afterClosed().pipe((0,p.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openReferenceValueDeleteComponent(t){this.dialog.open(m.fN,{data:m.cb.delete(this.valueReferenceService.deleteReferenceValue(t.id),t)}).afterClosed().pipe((0,p.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.valueReferenceService.getReferenceValues(this.dataSource.filterModel).pipe((0,Y.sU)(this.dataSource.indicator),(0,p.q)(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(i.uw),e.Y36(C.U))},a.\u0275cmp=e.Xpm({type:a,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let l,t;return l="Reference Values",t="Add",[["start","",1,"sz-h5"],l,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(t,n){1&t&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return n.get()})("filter",function(){return n.openFilterComponent()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return n.get()}),e.qZA()),2&t&&(e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[u.lW,Z.z,b.K,B.f],encapsulation:2}),a})()}];let G=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[C.U],imports:[E.ez,r.u5,r.UX,O.Bz.forChild(X),i.Is,S.Ps,u.ot,V.n,c.Vn,P.h,_.g,N.F,I.E3,m.su,T.X]}),a})()},465:(g,f,o)=>{o.d(f,{X:()=>r});var E=o(5879);let r=(()=>{class u{}return u.\u0275fac=function(S){return new(S||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({}),u})()}}]);