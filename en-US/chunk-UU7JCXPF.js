import{b as Pe}from"./chunk-2C6ZG32C.js";import{a as F}from"./chunk-LPBNK63N.js";import{b as Te,c as Me,e as Ee,g as Ce,i as ye,s as he,t as ge}from"./chunk-RHW67XZS.js";import{c as I,h as de,i as ce,j as _e,l as Se,m as ue,n as fe}from"./chunk-Z7KLU4V7.js";import{a as re,b as ae,d as me,e as se,g as le}from"./chunk-KTE63I7O.js";import{A as ne,a as K,b as Q,h as W,p as ie,z as oe}from"./chunk-OTJHTEGW.js";import{d as $,f as G,g as O,h as x,l as j,m as B,n as U,o as w,p as H,s as v}from"./chunk-PM3MLZ5N.js";import{a as C}from"./chunk-BKOX3ZG5.js";import{a as M}from"./chunk-6S7G73HY.js";import{b as pe}from"./chunk-NT6UYCEL.js";import"./chunk-D6GK7FD3.js";import{a as X,e as k,f as Z,g as ee,h as te}from"./chunk-RKRWHYTW.js";import{i as D}from"./chunk-XH773ZYS.js";import"./chunk-RWS4GOM6.js";import"./chunk-3KEGMEUW.js";import{Ka as q,Pa as V,Ra as J}from"./chunk-5FPJF3YL.js";import{Bb as a,Cb as m,Db as d,L as _,Nb as u,Pb as f,Rb as N,Wb as g,Xb as b,Zb as P,a as A,ac as T,b as z,cb as r,db as l,kb as h,la as S,nb as p,tb as E,ub as c,wb as R,xb as L,yb as Y}from"./chunk-QHZO24TE.js";function De(n,o){if(n&1&&(a(0,"mat-label"),g(1),m()),n&2){let y=N();r(1),b(y.label);}}function Fe(n,o){n&1&&(a(0,"mat-option"),g(1,"-"),m());}function Ae(n,o){if(n&1&&(a(0,"mat-option",4),g(1),m()),n&2){let y=o.$implicit,e=N();p("value",e.getOptionValue(y)),r(1),b(e.getOptionContent(y));}}function ze(n,o){n&1&&(a(0,"mat-error"),u(1,5),m());}function Re(n,o){n&1&&(a(0,"mat-error"),u(1,6),m());}function Le(n,o){n&1&&(a(0,"mat-error"),u(1,7),m());}function Ye(n,o){n&1&&d(0,"mat-progress-bar",3);}var Ie=(()=>{let o=class o extends ie{constructor(e,i){super(e),this.ngControl=e,this.mlabService=i,this.label=C.specimenType;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.mlabService.specimenTypes.get(z(A({},te.unpaged()),{sortBy:"name"})).pipe(I(this.indicator),_(1)).subscribe(e=>{this.totalPages=e.totalPages,this.options=e.items;});}};o.ɵfac=function(i){return new(i||o)(l(G,10),l(M));},o.ɵcmp=S({type:o,selectors:[["medisy-form-field-specimen-type"]],standalone:!0,features:[P([]),h,T],decls:11,vars:10,consts:()=>{let e;e="This field is required";let i;i="This field does not the minimum length";let t;return t="This field exceeds the maximum length",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],e,i,t];},template:function(i,t){i&1&&(a(0,"div",0)(1,"mat-form-field",1),E(2,De,2,1,"mat-label"),a(3,"mat-select",2),f("szScrolled",function(){return t.scroll();}),E(4,Fe,2,0,"mat-option"),L(5,Ae,2,2,"mat-option",4,R),m(),E(7,ze,2,0,"mat-error")(8,Re,2,0,"mat-error")(9,Le,2,0,"mat-error"),m(),E(10,Ye,1,0,"mat-progress-bar",3),m()),i&2&&(r(2),c(2,t.label?2:-1),r(1),p("formControl",t.control)("multiple",t.multiple)("placeholder",t.placeholder)("szScrollIgnored",t.indicator()),r(1),c(4,t.emptyOption?4:-1),Y(5,t.options),r(3),c(7,t.control.hasError("required")?7:-1),r(1),c(8,t.control.hasError("min")?8:-1),r(1),c(9,t.control.hasError("max")?9:-1),r(1),c(10,t.indicator()?10:-1));},dependencies:[v,O,B,ne,W,K,Q,oe,q,ee,Z,Pe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let n=o;return n;})();var Ne=(()=>{let o=class o extends de{constructor(e,i,t,s){super(t),this.mlabService=e,this.fb=i,this.dialog=t,this.data=s,this.form=i.group({specimenTypeId:[s.testTypeSpecimenType?.specimenTypeId,[$.required]]});}submit(){this.IsValid()&&(this.data.testTypeSpecimenType?this.save(this.mlabService.testTypes.specimenTypes.update(this.data.testTypeId,this.data.testTypeSpecimenType?.id,this.form.value)):this.save(this.mlabService.testTypes.specimenTypes.create(this.data.testTypeId,this.form.value)));}};o.ɵfac=function(i){return new(i||o)(l(M),l(H),l(re),l(ae));},o.ɵcmp=S({type:o,selectors:[["medisy-test-type-specimen-types-save"]],standalone:!0,features:[P([]),h,T],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","specimenTypeId"],[3,"actions"]],template:function(i,t){i&1&&(d(0,"sz-ui-dialog-header",0),a(1,"mat-dialog-content")(2,"form",1),d(3,"medisy-form-field-specimen-type",2),m()(),d(4,"sz-ui-dialog-actions",3)),i&2&&(p("header",t.header),r(2),p("formGroup",t.form),r(2),p("actions",t.actions));},dependencies:[v,j,O,x,U,w,le,se,ye,ue,ce,_e,Ie],encapsulation:2});let n=o;return n;})();var At=(()=>{let o=class o{constructor(e,i,t){this.dialog=e,this.mlabService=i,this.route=t,this.title=C.specimenTypes,this.dataSource=new Ee(),this.testType=this.route.snapshot.data.testType,this.dataSource.addRows(Me.default([Te.text("specimenType.name",C.specimenType),F.createdAt(),F.menu([D.edit(s=>this.openSaveComponent(s)),D.delete(s=>this.openTestTypeSpecimenTypeDeleteComponent(s))])])),this.get();}openSaveComponent(e){this.dialog.open(Ne,{data:{testTypeId:this.testType.id,testTypeSpecimenType:e}}).afterClosed().pipe(_(1)).subscribe(i=>{this.dataSource.addOrUpdateItem(i);});}openTestTypeSpecimenTypeDeleteComponent(e){this.dialog.open(Se,{data:fe.delete(this.mlabService.testTypes.specimenTypes.delete(e.testTypeId,e.id),e)}).afterClosed().pipe(_(1)).subscribe(i=>{this.dataSource.delete(i);});}updateItem(e){this.mlabService.testTypes.specimenTypes.update(e.testTypeId,e.id,e).subscribe(i=>{this.dataSource.update(i);});}get(){this.mlabService.testTypes.specimenTypes.get(this.testType.id,this.dataSource.buildRequest()).pipe(I(this.dataSource.indicator),_(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};o.ɵfac=function(i){return new(i||o)(l(me),l(M),l(X));},o.ɵcmp=S({type:o,selectors:[["medisy-laboratory-test-type-specimen-types"]],standalone:!0,features:[T],decls:6,vars:5,consts:()=>{let e;return e="Add",[[3,"title","subTitle"],[3,"filter","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],e,[3,"stateEnabled","dataSource","update"]];},template:function(i,t){i&1&&(d(0,"sz-ui-header-info",0),a(1,"sz-ui-table-filter",1),f("search",function(){return t.get();}),a(2,"button",2),f("click",function(){return t.openSaveComponent();}),a(3,"span"),u(4,3),m()()(),a(5,"sz-ui-table",4),f("update",function(){return t.get();}),m()),i&2&&(p("title",t.title)("subTitle",t.testType.name),r(1),p("filter",t.dataSource.filter),r(4),p("stateEnabled",!0)("dataSource",t.dataSource));},dependencies:[k,J,V,ge,he,Ce,pe],encapsulation:2});let n=o;return n;})();export{At as TestTypeSpecimenTypesComponent};/**i18n:57dc3d08d446ad135ce8eaf97a2b2ecae498355fbf7683f31ebc8820589c1c80*/