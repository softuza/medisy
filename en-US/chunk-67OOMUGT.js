import{a as F}from"./chunk-KMLVPXFM.js";import{a as Ie,b as ve,c as De}from"./chunk-A67VOE4Z.js";import{a as b,c as Ae,d as x,e as O}from"./chunk-DNPBCZLH.js";import"./chunk-OU5JOCLY.js";import"./chunk-BXRRBUXH.js";import"./chunk-6AM7ELCK.js";import"./chunk-ORO6ZTIP.js";import"./chunk-NK5BUI3W.js";import{a as Me}from"./chunk-YYQ4FBPL.js";import"./chunk-V3ZQCSM4.js";import{a as z}from"./chunk-T6KIBCSI.js";import"./chunk-UT6LTUPF.js";import"./chunk-YDQ3FVOF.js";import"./chunk-RZK5BQ6B.js";import{e as ye}from"./chunk-G2IFBR42.js";import"./chunk-XUW55ZPC.js";import"./chunk-QDFHX7IX.js";import{a as l}from"./chunk-JQJBUEG5.js";import{d as Ce,f as ge,g as L,h as R,k as N}from"./chunk-TQ67CQZ2.js";import"./chunk-JDSQU7UA.js";import"./chunk-FJN7IPRV.js";import{b as T}from"./chunk-CQ6LVFEY.js";import{g as _,h as Se,i as he,j as G,l as _e}from"./chunk-5NMFMVP3.js";import{a as v,b as D,d as de,e as E,g as S}from"./chunk-YWX36TB2.js";import{c as fe,t as ue}from"./chunk-HJYMXJEH.js";import"./chunk-AIREYCF6.js";import{a as $}from"./chunk-TLW5FHGJ.js";import"./chunk-T6BCLI2C.js";import{c as j}from"./chunk-QMJWEZPO.js";import"./chunk-UO2UFEHS.js";import{f as oe,g as ie,k as ne,m as re,p as ae,q as A,t as I}from"./chunk-YALI5IZX.js";import"./chunk-34ICKWYC.js";import{a as se,c as me,e as le}from"./chunk-MUEZWKIH.js";import"./chunk-U2AKNAEH.js";import{c as ce}from"./chunk-YEEVKOOT.js";import{ia as pe}from"./chunk-GAHCHFY3.js";import{o as te}from"./chunk-YR55CBIC.js";import{Cb as k,Hb as p,Ib as d,Jb as a,O as B,Xb as Z,a as Q,b as V,cc as J,dc as K,ea as w,eb as W,ec as ee,f as q,ha as U,ib as c,jb as r,jc as u,mc as y,pa as P,qa as f,qb as M,ra as X,tb as h,ub as C,vb as g,xb as m}from"./chunk-SOOFBSF3.js";var Ye=["container"],Te=(()=>{let e=class e extends Ce{constructor(i,t,n){super(t),this.fb=i,this.dialog=t,this.data=n,this.minHeight=w(200),this.minWidth=w(200),this.quietZoneSize=4;}ngAfterViewInit(){this.generate();}generate(){return q(this,null,function*(){this.containerElement||this.alert.set({message:"Container not found",type:$.Error,timeout:5e3});let i=this.containerElement.nativeElement.offsetWidth,t=this.containerElement.nativeElement.offsetHeight;console.log(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"));let n=O.qr("Your message here",x.H);console.log(O.datamatrix("Your message here",!0));try{let s=O.qr("Your message here",x.H),Y=Ae.toSVG(s,{dimension:256,padding:2,foreground:"#000000",background:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#f2f4f8":void 0,verbose:!1});this.containerElement.nativeElement.appendChild(Y);}catch(s){let Y=s.message||"Error generating QR code";this.alert.set({message:Y,type:$.Error,timeout:5e3});}});}};e.ɵfac=function(t){return new(t||e)(r(A),r(v),r(D));},e.ɵcmp=f({type:e,selectors:[["sz-medisy-laboratory-analysis-qr"]],viewQuery:function(t,n){if(t&1&&J(Ye,5),t&2){let s;K(s=ee())&&(n.containerElement=s.first);}},inputs:{minHeight:[P.SignalBased,"minHeight"],minWidth:[P.SignalBased,"minWidth"]},standalone:!0,features:[u([]),M,y],decls:5,vars:2,consts:[[3,"header"],["container",""],[3,"actions"]],template:function(t,n){t&1&&(a(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content"),a(2,"div",null,1),d(),a(4,"sz-ui-dialog-actions",2)),t&2&&(m("header",n.header),c(4),m("actions",n.actions));},dependencies:[I,S,E,N,L,R],encapsulation:2});let o=e;return o;})();var Le=(()=>{let e=class e extends ge{constructor(i,t,n,s){super(n),this.mlabService=i,this.fb=t,this.dialog=n,this.data=s,this.form=t.group({note:[s?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,V(Q({},this.data),{note:this.form.value.note})));}};e.ɵfac=function(t){return new(t||e)(r(l),r(A),r(v),r(D));},e.ɵcmp=f({type:e,selectors:[["sz-medisy-laboratory-analysis-save"]],standalone:!0,features:[u([l]),M,y],decls:5,vars:3,consts:()=>{let i;return i="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",i],[3,"actions"]];},template:function(t,n){t&1&&(a(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),a(3,"sz-ui-form-field-input",2),d()(),a(4,"sz-ui-dialog-actions",3)),t&2&&(m("header",n.header),c(2),m("formGroup",n.form),c(2),m("actions",n.actions));},dependencies:[I,ne,oe,ie,re,ae,S,E,N,L,R,ue,fe],encapsulation:2});let o=e;return o;})();var we=()=>[z],Pe=()=>[F],$e=()=>[b];function je(o,e){if(o&1&&a(0,"sz-medisy-people-person-card",5),o&2){let be=Z(2);m("personId",be.analysis.personId);}}function Ge(o,e){o&1&&(h(0,je,1,1),C(1,0,$e),g());}function xe(o,e){o&1&&a(0,"sz-medisy-laboratory-analysis-tests");}function He(o,e){o&1&&a(0,"sz-medisy-laboratory-analysis-specimens");}var Re=(()=>{let e=class e{constructor(i,t,n,s){this.dialog=i,this.route=t,this.router=n,this.mlabService=s,this.alert$=W(void 0),this.tiles=[],this.analysisMenu=_e.more([G.edit(()=>this.openSaveComponent()),_.divider(),G.print(()=>this.opendPrintComponent),_.item(j.publish,"publish",this.openPublishComponent),_.divider(),_.item(j.qr,he.qr,()=>this.openQRCodeComponent())]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(Le,{data:this.analysis}).afterClosed().pipe(B(1)).subscribe(i=>{i&&(this.analysis=i);});}opendPrintComponent(){}openPublishComponent(){}openQRCodeComponent(){this.dialog.open(Te,{data:this.analysis}).afterClosed().pipe(B(1)).subscribe({});}};e.ɵfac=function(t){return new(t||e)(r(de),r(se),r(me),r(l));},e.ɵcmp=f({type:e,selectors:[["sz-medisy-laboratory-analysis"]],features:[u([l])],decls:12,vars:4,consts:()=>{let i;i="Tests";let t;return t="Specimens",[[3,"title","subtitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",i],["label",t],[3,"personId"]];},template:function(t,n){t&1&&(a(0,"sz-ui-header-info",0),p(1,"div",1),h(2,Ge,3,0),d(),p(3,"mat-tab-group",2)(4,"mat-tab",3),h(5,xe,1,0),C(6,5,we),g(),d(),p(8,"mat-tab",4),h(9,He,1,0),C(10,9,Pe),g(),d()()),t&2&&(m("title",n.analysis.code)("subtitle",n.analysis.note)("menu",n.analysisMenu),c(2),k(2,n.analysis.personId?2:-1));},dependencies:[Ie,ve,T],encapsulation:2});let o=e;return o;})();var Ne=[{path:"",component:Re},{path:"tests",loadComponent:()=>import("./chunk-HNW2CTDJ.js").then(o=>o.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-RIRVL6PF.js").then(o=>o.AnalysisSpecimensComponent)}];var kt=(()=>{let e=class e{};e.ɵfac=function(t){return new(t||e)();},e.ɵmod=X({type:e}),e.ɵinj=U({providers:[l],imports:[te,le.forChild(Ne),S,pe,ce,ye,De,T,Me,Se,z,F,b]});let o=e;return o;})();export{Re as AnalysisComponent,kt as AnalysisModule};/**i18n:3c79f61dd4ae219236c62485f036b897dde9f999c4ae619f8589958cf23779e7*/