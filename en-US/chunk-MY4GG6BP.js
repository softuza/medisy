import{a as h}from"./chunk-YJSXPXWI.js";import{$ as l,Z as r,db as c,hb as p,k as i,na as n}from"./chunk-PWEA5SW5.js";var C=(()=>{let e=class e{constructor(t){this.autoComplete=t,this.szOptionsScrollThresholdPercent=.9,this.szOptionsScrollIgnored=!1,this.optionsScroll=new p,this._onDestroy=new i,this.autoComplete.opened.pipe(l(()=>{setTimeout(()=>{this.removeScrollEventListener(),this.autoComplete.panel.nativeElement.addEventListener("scroll",this.onScroll.bind(this))})}),r(this._onDestroy)).subscribe(),this.autoComplete.closed.pipe(l(()=>this.removeScrollEventListener()),r(this._onDestroy)).subscribe()}removeScrollEventListener(){this.autoComplete&&this.autoComplete.panel&&this.autoComplete.panel.nativeElement&&this.autoComplete.panel.nativeElement.removeEventListener("scroll",this.onScroll)}onScroll(t){if(!this.szOptionsScrollIgnored)if(this.szOptionsScrollThresholdPercent===void 0)this.optionsScroll.next({autoComplete:this.autoComplete,scrollEvent:t});else{let s=this.szOptionsScrollThresholdPercent*100*t.target.scrollHeight/100;t.target.scrollTop+t.target.clientHeight>s&&this.optionsScroll.next({autoComplete:this.autoComplete,scrollEvent:t})}}ngOnDestroy(){this._onDestroy.next(!0),this._onDestroy.complete(),this.removeScrollEventListener()}};e.\u0275fac=function(s){return new(s||e)(c(h))},e.\u0275dir=n({type:e,selectors:[["mat-autocomplete","optionsScroll",""]],inputs:{szOptionsScrollThresholdPercent:"szOptionsScrollThresholdPercent",szOptionsScrollIgnored:"szOptionsScrollIgnored"},outputs:{optionsScroll:"optionsScroll"},standalone:!0});let o=e;return o})();export{C as a};
/**i18n:1d16e7d3b6b09b5ca5f11aee33f3c6ee9a8e446806802ef706aaf87e85c9b2b7*/
