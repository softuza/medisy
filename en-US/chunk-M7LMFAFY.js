import{a as A,b as R,c as L}from"./chunk-LI7I2GFE.js";import{h as O}from"./chunk-FWZEH63T.js";import{b as Le}from"./chunk-BVDDTOMA.js";import{a as d}from"./chunk-JHPSZAE5.js";import{a as N}from"./chunk-LAXXIHXK.js";import{c as D,h as Ie,i as Oe,j as ze,l as Ne,m as Ae,n as Re}from"./chunk-CWT2QOXX.js";import{b as U}from"./chunk-FYBE5DC6.js";import{d as V}from"./chunk-I5QX4CCA.js";import{a as De,b as Fe,d as E,e as Pe,g as be}from"./chunk-3NLMA3OD.js";import{A as Ee,a as _e,b as Se,g as he,o as Ce,v as ve,w as ge,x as ye,z as Te}from"./chunk-7ERNPK3U.js";import{A as T,d as q,e as ae,f as Y,g as se,k as le,l as me,m as pe,p as ce,q as de,t as B,w as g,y as ue,z as Me}from"./chunk-HA3OCK63.js";import{i as P,j as J}from"./chunk-TRBAPJPW.js";import{q as z}from"./chunk-QFHU2GEW.js";import{Ja as y,r as ne,ya as fe}from"./chunk-T2UVNK6V.js";import{Bb as x,Cb as $,Db as j,Eb as p,Fb as l,Gb as c,M as W,Qb as w,Sb as re,Ub as v,bb as b,da as Z,dc as H,ea as ee,ec as k,fb as n,gb as a,gc as I,ja as te,jc as f,na as u,nb as M,oa as ie,pa as oe,qb as C,ub as s,zb as h}from"./chunk-T2ST7G6M.js";var _=(()=>{let e=class e{constructor(i){this.http=i,this.basePath="softuza-portal",this.tiles=new V(this.http,`${this.basePath}/v1/tiles`),this.tileGroups=new V(this.http,`${this.basePath}/v1/tile-groups`),this.tileTypes=new V(this.http,`${this.basePath}/v1/tile-types`);}};e.ɵfac=function(o){return new(o||e)(te(ne));},e.ɵprov=Z({token:e,factory:e.ɵfac});let t=e;return t;})();var G=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵdir=oe({type:e,inputs:{id:"id"}});let t=e;return t;})();var xe=(()=>{let e=class e extends G{constructor(i,o,r){super(),this.mlabService=i,this.dialog=o,this.router=r,this.card={icon:"science",subtitle:d.analyses,clickFn:()=>this.router.navigate(["/mlab/analyses"]),actions:[L.action(d.add,()=>this.router.navigate(["/mlab/analyses/create"]))]},this.value=null,this.indicator=b(!1),this.get();}get(){this.mlabService.analyses.count({filters:[]}).pipe(D(this.indicator)).subscribe(i=>{this.value=i;});}};e.ɵfac=function(o){return new(o||e)(a(N),a(E),a(g));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-analyses-count"]],standalone:!0,features:[M,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(o,r){o&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),o&2&&(s("card",r.card)("indicator",r.indicator),n(),s("value",r.value));},dependencies:[O,y,z,T,R,A],encapsulation:2});let t=e;return t;})();var $e=(()=>{let e=class e extends G{constructor(i,o,r){super(),this.mlabService=i,this.dialog=o,this.router=r,this.card={icon:"biotech",subtitle:d.laboratories,clickFn:()=>this.router.navigate(["/mlab/laboratories"]),actions:[L.action(d.add,()=>this.router.navigate(["/mlab/laboratories"]))]},this.value=null,this.indicator=b(!1),this.get();}get(){this.mlabService.laboratories.count({filters:[]}).pipe(D(this.indicator)).subscribe(i=>{this.value=i;});}};e.ɵfac=function(o){return new(o||e)(a(N),a(E),a(g));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-laboratories-count"]],standalone:!0,features:[M,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(o,r){o&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),o&2&&(s("card",r.card)("indicator",r.indicator),n(),s("value",r.value));},dependencies:[O,y,z,T,R,A],encapsulation:2});let t=e;return t;})();var je=(()=>{let e=class e extends G{constructor(i,o,r){super(),this.mlabService=i,this.dialog=o,this.router=r,this.card={icon:"label",subtitle:d.specimens,clickFn:()=>this.router.navigate(["/mlab/specimens"]),actions:[L.action(d.show,()=>this.router.navigate(["/mlab/specimens"]))]},this.value=null,this.indicator=b(!1),this.get();}get(){this.mlabService.specimens.count({filters:[]}).pipe(D(this.indicator)).subscribe(i=>{this.value=i;});}};e.ɵfac=function(o){return new(o||e)(a(N),a(E),a(g));},e.ɵcmp=u({type:e,selectors:[["medisy-laboratory-tiles-specimens-count"]],standalone:!0,features:[M,f],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(o,r){o&1&&(p(0,"sz-ui-card",0),c(1,"sz-ui-counter",1),l()),o&2&&(s("card",r.card)("indicator",r.indicator),n(),s("value",r.value));},dependencies:[O,y,z,T,R,A],encapsulation:2});let t=e;return t;})();function Ue(t,e){if(t&1&&(p(0,"mat-label"),H(1),l()),t&2){let m=v();n(),k(m.label);}}function Xe(t,e){t&1&&(p(0,"mat-option"),H(1,"-"),l());}function ke(t,e){if(t&1&&(p(0,"mat-option",4),H(1),l()),t&2){let m=e.$implicit,i=v();s("value",i.getOptionValue(m)),n(),k(i.getOptionContent(m));}}function qe(t,e){t&1&&(p(0,"mat-error"),w(1,5),l());}function Je(t,e){t&1&&(p(0,"mat-error"),w(1,6),l());}function Ke(t,e){t&1&&(p(0,"mat-error"),w(1,7),l());}function Qe(t,e){t&1&&c(0,"mat-progress-bar",3);}var we=(()=>{let e=class e extends Ce{constructor(i,o){super(i),this.ngControl=i,this.sprtService=o,this.label=d.abbreviation;}ngOnInit(){this.control=this.ngControl.control,this.get();}get(){this.sprtService.tileTypes.getAll(null,["name"]).pipe(W(1)).pipe(D(this.indicator)).subscribe(i=>{this.options.push(...i.items),this.totalPages=i.totalPages;});}};e.ɵfac=function(o){return new(o||e)(a(ae,10),a(_));},e.ɵcmp=u({type:e,selectors:[["medisy-form-field-tile-type"]],standalone:!0,features:[I([_]),M,f],decls:11,vars:10,consts:()=>{let i;i="This field is required";let o;o="This field does not the minimum length";let r;return r="This field exceeds the maximum length",[[1,"container"],[2,"width","100%"],[3,"formControl","multiple","placeholder","szScrollIgnored","szScrolled"],["mode","indeterminate"],[3,"value"],i,o,r];},template:function(o,r){o&1&&(p(0,"div",0)(1,"mat-form-field",1),C(2,Ue,2,1,"mat-label"),p(3,"mat-select",2),re("szScrolled",function(){return r.scroll();}),C(4,Xe,2,0,"mat-option"),$(5,ke,2,2,"mat-option",4,x),l(),C(7,qe,2,0,"mat-error")(8,Je,2,0,"mat-error")(9,Ke,2,0,"mat-error"),l(),C(10,Qe,1,0,"mat-progress-bar",3),l()),o&2&&(n(2),h(2,r.label?2:-1),n(),s("formControl",r.control)("multiple",r.multiple)("placeholder",r.placeholder)("szScrollIgnored",r.indicator()),n(),h(4,r.emptyOption?4:-1),n(),j(r.options),n(2),h(7,r.control.hasError("required")?7:-1),n(),h(8,r.control.hasError("min")?8:-1),n(),h(9,r.control.hasError("max")?9:-1),n(),h(10,r.indicator()?10:-1));},dependencies:[B,Y,me,ye,he,_e,Se,ge,fe,T,Me,Le],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let t=e;return t;})();function We(t,e){t&1&&c(0,"medisy-form-field-tile-type",4),t&2&&s("multiple",!0);}var He=(()=>{let e=class e extends Ie{constructor(i,o,r,S){super(r),this.sprtService=i,this.fb=o,this.dialog=r,this.data=S,this.form=o.group({name:[S?.name,[q.required,q.minLength(1)]],description:[S?.description,[]],tileTypeIds:[]});}submit(){this.IsValid()&&(this.data?this.save(this.sprtService.tileGroups.update(this.data.id,this.form.value)):this.save(this.sprtService.tileGroups.create(this.form.value)));}};e.ɵfac=function(o){return new(o||e)(a(_),a(de),a(De),a(Fe));},e.ɵcmp=u({type:e,selectors:[["medisy-dashboard-save"]],standalone:!0,features:[I([_]),M,f],decls:7,vars:4,consts:()=>{let i;i="Name";let o;return o="Description",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",i],["formControlName","description","label",o],["formControlName","tileTypeIds",3,"multiple"],[3,"actions"]];},template:function(o,r){o&1&&(c(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),c(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),C(5,We,1,1,"medisy-form-field-tile-type",4),l()(),c(6,"sz-ui-dialog-actions",5)),o&2&&(s("header",r.header),n(2),s("formGroup",r.form),n(3),h(5,r.data?-1:5),n(),s("actions",r.actions));},dependencies:[B,le,Y,se,pe,ce,be,Pe,Ae,Oe,ze,Ee,ve,Te,we],encapsulation:2});let t=e;return t;})();function Ze(t,e){if(t&1&&c(0,"medisy-laboratory-tiles-analyses-count",3),t&2){let m=v().$implicit;s("id",m.id);}}function et(t,e){if(t&1&&c(0,"medisy-laboratory-tiles-specimens-count",3),t&2){let m=v().$implicit;s("id",m.id);}}function tt(t,e){if(t&1&&c(0,"medisy-laboratory-tiles-laboratories-count",3),t&2){let m=v().$implicit;s("id",m.id);}}function it(t,e){if(t&1&&C(0,Ze,1,1,"medisy-laboratory-tiles-analyses-count",3)(1,et,1,1)(2,tt,1,1),t&2){let m=e.$implicit;h(0,m.tileType.identifier==="mlab-analyses-count"?0:m.tileType.identifier==="mlab-specimens-count"?1:m.tileType.identifier==="mlab-laboratories-count"?2:-1);}}function ot(t,e){if(t&1&&(c(0,"sz-ui-header-info",1),p(1,"div",2),$(2,it,3,1,null,null,x),l()),t&2){let m=e.$implicit,i=v();s("title",m.name)("subtitle",m.description)("menu",i.tileGroupMenu)("data",m),n(2),j(m.tiles);}}var Ye=(()=>{let e=class e{constructor(i,o,r){this.sprtService=i,this.dialog=o,this.router=r,this.tileGroups=[],this.title=d.dashboard,this.manageTileGroups=!1,this.menu=J.more([P.add(()=>this.openSaveComponent()),P.divider(),P.manage(()=>{this.manageTileGroups=!this.manageTileGroups,this.manageTileGroups?this.tileGroupMenu=J.more([P.edit(S=>this.openSaveComponent(S)),P.divider(),P.delete(S=>this.openTileGroupDeleteComponent(S))]):this.tileGroupMenu=null;})]),this.tileGroupMenu=null,this.get();}openSaveComponent(i=null){this.dialog.open(He,{data:i}).afterClosed().subscribe(o=>{o&&this.get();});}openTileGroupDeleteComponent(i){console.log(i),this.dialog.open(Ne,{data:Re.delete(this.sprtService.tileGroups.delete(i.id),i)}).afterClosed().subscribe(o=>{if(o){let r=this.tileGroups.indexOf(i);r>=0&&this.tileGroups.splice(r,1);}});}get(){this.sprtService.tileGroups.getAll().subscribe(i=>{this.tileGroups=i.items;});}};e.ɵfac=function(o){return new(o||e)(a(_),a(E),a(g));},e.ɵcmp=u({type:e,selectors:[["medisy-dashboard"]],standalone:!0,features:[I([_]),f],decls:3,vars:2,consts:[[3,"title","menu"],[3,"title","subtitle","menu","data"],[1,"sz-grid-card","tw-mb-2"],[3,"id"]],template:function(o,r){o&1&&(c(0,"sz-ui-header-info",0),$(1,ot,4,4,null,null,x)),o&2&&(s("title",r.title)("menu",r.menu),n(),j(r.tileGroups));},dependencies:[U,xe,je,$e],encapsulation:2});let t=e;return t;})();var Be=[{path:"",component:Ye}];var qi=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=ie({type:e}),e.ɵinj=ee({imports:[ue.forChild(Be),y,U]});let t=e;return t;})();export{qi as DashboardModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/