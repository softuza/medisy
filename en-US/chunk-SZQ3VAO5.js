import{a as me}from"./chunk-ATR6SZVD.js";import"./chunk-FPEL7HED.js";import{a as g}from"./chunk-634WJ4ZA.js";import{b as te,c as oe,e as ie,g as re,s as ae,t as ne}from"./chunk-EWJ5VIW6.js";import{a as se}from"./chunk-SUUMCV2R.js";import{c as K,g as Q,h as W,i as F,j as G,l as Z,m as _,n as ee}from"./chunk-AS5U2OT3.js";import{a as P,b as N,d as x,e as z,g as S}from"./chunk-GP3W3GGO.js";import{C as H,D as q,y as X}from"./chunk-WYIASL3N.js";import{d as v,g as E,h as D,l as b,n as A,o as y,p as O,s as I}from"./chunk-DOVRWRQU.js";import{a as J}from"./chunk-RZPZI5M7.js";import{a as d}from"./chunk-RXJ3ACVE.js";import{b as R}from"./chunk-TWS2RBYG.js";import"./chunk-2IBJ7SPQ.js";import{e as B}from"./chunk-2IOOD4ZB.js";import{i as L}from"./chunk-DESFHGZ3.js";import"./chunk-PLPMFK4N.js";import"./chunk-GNPEYPQP.js";import{Pa as V,Ra as k,Ua as w}from"./chunk-26JDY2BM.js";import{Bb as p,Cb as u,Db as l,L as M,Nb as j,Pb as h,Zb as f,ac as T,cb as m,da as U,db as n,kb as C,la as c,ma as $,nb as a}from"./chunk-J5YYK5S2.js";var pe=(()=>{let i=class i extends Q{constructor(o,e,t){super(e),this.fb=o,this.dialog=e,this.data=t,this.form=o.group({includeLaboratoryIds:[t.includeLaboratoryIds]});}submit(){this.IsValid()&&this.dialog?.close(this.form.value);}};i.ɵfac=function(e){return new(e||i)(n(O),n(P),n(N));},i.ɵcmp=c({type:i,selectors:[["medisy-test-groups-filter"]],standalone:!0,features:[f([]),C,T],decls:5,vars:4,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","includeLaboratoryIds",3,"multiple"],[3,"actions"]],template:function(e,t){e&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),l(3,"medisy-form-field-laboratory",2),u()(),l(4,"sz-ui-dialog-actions",3)),e&2&&(a("header",t.header),m(2),a("formGroup",t.form),m(1),a("multiple",!0),m(1),a("actions",t.actions));},dependencies:[I,b,E,D,A,y,S,z,_,F,G,me],encapsulation:2});let r=i;return r;})();var de=(()=>{let i=class i extends W{constructor(o,e,t,s){super(t),this.mlabService=o,this.fb=e,this.dialog=t,this.data=s,this.form=e.group({name:[s?.name,[v.required,v.minLength(1)]],description:[s?.description,[]],isFavorite:[s?.isFavorite??!1,[v.required]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testGroups.update(this.data.id,this.form.value)):this.save(this.mlabService.testGroups.create(this.form.value)));}};i.ɵfac=function(e){return new(e||i)(n(d),n(O),n(P),n(N));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[f([]),C,T],decls:6,vars:3,consts:()=>{let o;o="Name";let e;return e="Description",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","description","label",e],[3,"actions"]];},template:function(e,t){e&1&&(l(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),l(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),u()(),l(5,"sz-ui-dialog-actions",4)),e&2&&(a("header",t.header),m(2),a("formGroup",t.form),m(3),a("actions",t.actions));},dependencies:[I,b,E,D,A,y,S,z,_,F,G,q,X,H],encapsulation:2});let r=i;return r;})();var ue=(()=>{let i=class i{constructor(o,e){this.dialog=o,this.mlabService=e,this.title=se.testGroups,this.dataSource=new ie(),this.dataSource.addRows(oe.default([g.code().makeCompact(),g.nameHyperlink(t=>t.id,t=>t.name),g.createdAt(),te.checkbox("isFavorite",J.favorite,(t,s)=>{t.isFavorite=s,this.updateItem(t);}),g.menu([L.edit(t=>this.openSaveComponent(t)),L.delete(t=>this.openTestGroupDeleteComponent(t))])])),this.get();}openFilterComponent(){this.dialog.open(pe,{data:this.dataSource.filter}).afterClosed().pipe(M(1)).subscribe(o=>{this.dataSource.updateFilter(o),this.get();});}openSaveComponent(o){this.dialog.open(de,{data:o}).afterClosed().pipe(M(1)).subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestGroupDeleteComponent(o){this.dialog.open(Z,{data:ee.delete(this.mlabService.testGroups.delete(o.id),o)}).afterClosed().pipe(M(1)).subscribe(e=>{this.dataSource.delete(e);});}updateItem(o){this.mlabService.testGroups.update(o.id,o).subscribe(e=>{this.dataSource.update(e);});}get(){this.mlabService.testGroups.get(this.dataSource.buildRequest()).pipe(K(this.dataSource.indicator),M(1)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(e){return new(e||i)(n(x),n(d));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-groups"]],features:[f([d])],decls:6,vars:4,consts:()=>{let o;return o="Add",[[3,"title"],[3,"filter","search","filterClicked"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"stateEnabled","dataSource","update"]];},template:function(e,t){e&1&&(l(0,"sz-ui-header-info",0),p(1,"sz-ui-table-filter",1),h("search",function(){return t.get();})("filterClicked",function(){return t.openFilterComponent();}),p(2,"button",2),h("click",function(){return t.openSaveComponent();}),p(3,"span"),j(4,3),u()()(),p(5,"sz-ui-table",4),h("update",function(){return t.get();}),u()),e&2&&(a("title",t.title),m(1),a("filter",t.dataSource.filter),m(4),a("stateEnabled",!0)("dataSource",t.dataSource));},dependencies:[V,ae,re,R],encapsulation:2});let r=i;return r;})();var ce=[{path:"",component:ue}];var ct=(()=>{let i=class i{};i.ɵfac=function(e){return new(e||i)();},i.ɵmod=$({type:i}),i.ɵinj=U({providers:[d],imports:[B.forChild(ce),S,w,k,ne,_,R]});let r=i;return r;})();export{ct as TestGroupsModule};/**i18n:5ebc65b24f90b78d556a3a8c188ab6405e20b5534cf6eb00a5dd3e44f73f97d4*/