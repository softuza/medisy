"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[630],{7630:(O,m,o)=>{o.r(m),o.d(m,{LaboratoryTestClassesComponent:()=>I});var n=o(2296),c=o(5986),T=o(8109),_=o(8262),p=o(9951),d=o(2516),u=o(3562),E=o(9598),b=o(8721),C=o(8180),l=o(6223),S=o(7700),e=o(5879),f=o(4622),h=o(6091);let y=(()=>{class i extends p.Z2{constructor(t,a,s){super(a),this.fb=t,this.dialog=a,this.data=s,this.form=t.group({enabled:[s.enabled]})}submit(){this.IsValid()&&this.dialog.close(this.form.value)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(l.qu),e.Y36(S.so),e.Y36(S.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["medisy-laboratory-test-classes-filter"]],standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:3,consts:function(){let t;return t="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","enabled"],t,[3,"actions"]]},template:function(a,s){1&a&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"mat-checkbox",2),e.SDv(4,3),e.qZA()()(),e._UZ(5,"sz-ui-dialog-actions",4)),2&a&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("actions",s.actions))},dependencies:[l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,p.su,f.Y,h.t,S.Is,S.xY,c.p9,c.oG],encapsulation:2})}return i})();var M=o(738),A=o(6883);const L=function(){return[]},g=function(i){return[i]};let N=(()=>{class i extends p.Ku{constructor(t,a,s,r){super(s),this.mlabService=t,this.fb=a,this.dialog=s,this.data=r,this.form=a.group({enabled:[r.laboratoryTestClass?.enabled??!0,[l.kI.required]],testClassId:[r.laboratoryTestClass?.testClassId,[l.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.laboratoryTestClass?this.mlabService.laboratories.testClasses.update(this.data.laboratoryId,this.data.laboratoryTestClass?.id,this.form.value):this.mlabService.laboratories.testClasses.create(this.data.laboratoryId,this.form.value))}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(A.t),e.Y36(l.qu),e.Y36(S.so),e.Y36(S.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["medisy-laboratory-test-classes-save"]],standalone:!0,features:[e.qOj,e.jDz],decls:7,vars:7,consts:function(){let t;return t="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId",3,"excludeLaboratoryIds"],["formControlName","enabled"],t,[3,"actions"]]},template:function(a,s){1&a&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-test-class",2),e.TgZ(4,"mat-checkbox",3),e.SDv(5,4),e.qZA()()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&a&&(e.Q6J("header",s.header),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(1),e.Q6J("excludeLaboratoryIds",s.data.laboratoryTestClass?e.DdM(4,L):e.VKq(5,g,s.data.laboratoryId)),e.xp6(3),e.Q6J("actions",s.actions))},dependencies:[l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,p.su,f.Y,h.t,S.Is,S.xY,c.p9,c.oG,M.U],encapsulation:2})}return i})();var P=o(8359),R=o(3144);let I=(()=>{class i{constructor(t,a,s){this.dialog=t,this.mlabService=a,this.route=s,this.dataSource=new u.b2(E.J.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(u.zP.default([u.UC.text("testClass","Test Class",r=>r.testClass.name),_.h.createdAt(),u.UC.checkbox("enabled","Enabled",(r,v)=>{r.enabled=v,this.mlabService.laboratories.testClasses.update(r.laboratoryId,r.id,r).pipe((0,C.q)(1)).subscribe(Y=>{r=Y})}),_.h.menu([u.od.edit(r=>{this.openSaveComponent(r)}),u.od.delete(r=>{this.openLaboratoryTestClassDeleteComponent(r)})])])),this.get()}openSaveComponent(t){this.dialog.open(N,{data:{laboratoryId:this.laboratory.id,laboratoryTestClass:t}}).afterClosed().pipe((0,C.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(y,{data:this.dataSource.filterModel}).afterClosed().pipe((0,C.q)(1)).subscribe(a=>{this.dataSource.updateFilterModel(a),this.get()})}openLaboratoryTestClassDeleteComponent(t){this.dialog.open(p.fN,{data:p.cb.delete(this.mlabService.laboratories.testClasses.delete(t.laboratoryId,t.id),t)}).afterClosed().pipe((0,C.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.mlabService.laboratories.testClasses.get(this.laboratory.id,this.dataSource.filterModel).pipe((0,b.sU)(this.dataSource.indicator)).pipe((0,C.q)(1)).subscribe(t=>{this.dataSource.set(t.items,t.count)})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(S.uw),e.Y36(A.t),e.Y36(T.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["medisy-laboratory-test-classes"]],standalone:!0,features:[e.jDz],decls:11,vars:5,consts:function(){let t,a;return t="Test Classes",a="Add",[["start",""],[1,"sz-h5"],t,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],a,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(a,s){1&a&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.qZA()()(),e.TgZ(6,"sz-ui-table-filter",4),e.NdJ("search",function(){return s.get()})("filter",function(){return s.openFilterComponent()}),e.TgZ(7,"button",5),e.NdJ("click",function(){return s.openSaveComponent()}),e.TgZ(8,"span"),e.SDv(9,6),e.qZA()()(),e.TgZ(10,"sz-ui-table",7),e.NdJ("update",function(){return s.get()}),e.qZA()),2&a&&(e.xp6(5),e.Oqu(s.laboratory.name),e.xp6(1),e.Q6J("dataSource",s.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",s.dataSource))},dependencies:[T.Bz,T.rH,d.z,u.Vn,P.K,R.f,c.p9,n.ot,n.lW],encapsulation:2})}return i})()},8262:(O,m,o)=>{o.d(m,{h:()=>_});var n=o(3562),c=o(7311);const T={documentType:"Document Type",comparisonType:"Comparison Operator",emailType:"Email Type",phoneType:"Phone Type"};class _{static menu(d){return n.UC.action("menu",d)}static code(){return n.UC.text("code","Code")}static createdAt(){return n.UC.date("createdAt",c.O.createdDate)}static updatedAt(){return n.UC.date("updatedAt",c.O.updatedDate)}static id(){return n.UC.text("id",c.O.id)}static nameHyperlink(d,u,E){return n.UC.hyperlink("name",c.O.name,d,u,E)}static nameText(d){return n.UC.text("name",c.O.name,d)}static phoneType(d){return n.UC.text("phoneType",T.phoneType,d)}static emailType(d){return n.UC.text("emailType",T.emailType,d)}static documentType(d){return n.UC.text("documentType",T.documentType,d)}static comparisonOperator(d){return n.UC.text("comparisonOperator",T.comparisonType,d)}}},7311:(O,m,o)=>{o.d(m,{O:()=>n});const n={id:"Id",name:"Name",description:"Description",updatedDate:"Updated Date",createdDate:"Created Date",tests:"Tests"}}}]);