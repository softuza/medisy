import{a as C}from"./chunk-3N62UZYK.js";import{c as ie,d as ne,e as r,h as re,i as se}from"./chunk-LFBBKJHQ.js";import"./chunk-DJTCXLE6.js";import"./chunk-WR67YADW.js";import"./chunk-DNPEC467.js";import{c as K,g as W,h as Z,i as ee,k as te,l as oe}from"./chunk-3VDM3QBA.js";import{a as d}from"./chunk-QOAM24KY.js";import"./chunk-SH55UZR2.js";import{a as G,b as F,d as U,e as X,g as k}from"./chunk-NXWHFD5J.js";import{c as H,n as j,o as w,p as q,q as x,s as Q}from"./chunk-YE7OGPQO.js";import"./chunk-QPPKO7QS.js";import"./chunk-NHKTZSL7.js";import"./chunk-JDRER5OW.js";import"./chunk-VLFDLUKF.js";import{d as f,f as D,g as P,l as Y,o as v,r as z,s as $,u as B}from"./chunk-SZ4JOIPB.js";import{a as J}from"./chunk-46X6CAPN.js";import{b as l,c as A}from"./chunk-ZKT34U6O.js";import"./chunk-OAHNBXW3.js";import"./chunk-6KLEPFJV.js";import{c as O}from"./chunk-TROKCKRK.js";import"./chunk-I5YU2A2W.js";import{r as V}from"./chunk-OH3VJFHV.js";import"./chunk-KHQUVCMB.js";import"./chunk-O5U4UK7G.js";import"./chunk-IOFQXYPN.js";import{Jb as E,Kb as m,Lb as u,Vb as y,Wb as N,bb as _,ja as s,mb as I,mc as M,na as T,nc as c,yb as n}from"./chunk-4TXFHTB5.js";import"./chunk-UD7IN7DC.js";var ae=(()=>{let i=class i extends W{constructor(){super(s(G)),this.mlabService=s(d),this.fb=s($),this.data=s(F),this.disciplines=this.mlabService.disciplines.getAll({orderBy:["nameEn"]}),this.units=this.mlabService.units.getAll({orderBy:["name"]}),this.testResultTypes=Object.keys(C).map(t=>C[t]),this.defaultUnitSelectConfig={emptyOption:!0};let o=this.fb,e=this.data;this.form=o.group({nameEn:[e?.nameEn,[f.required,f.minLength(1)]],shortNameEn:[e?.shortNameEn,[]],nameAr:[e?.nameAr,[]],shortNameAr:[e?.shortNameAr,[]],abbreviation:[e?.abbreviation,[]],description:[e?.description,[]],purpose:[e?.purpose,[]],disciplineId:[e?.disciplineId,[]],unitId:[e?.unitId,[]],isGroup:[e?.isGroup??!1,[]],testResultType:[e?.testResultType??C.Quantitative,[f.required]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testTypes.update(this.data.id,this.form.value)):this.save(this.mlabService.testTypes.create(this.form.value)));}};i.ɵfac=function(e){return new(e||i)();},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-types-save"]],standalone:!0,features:[M([d]),I,c],decls:14,vars:9,consts:()=>{let o;o="English Name";let e;e="Arabic Name";let t;t="Abbreviation";let p;p="Description";let g;g="Purpose";let R;R="Discipline";let L;L="Unit";let b;b="Result Type";let h;return h="Group",[h,[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","nameEn","label",o],["formControlName","nameAr","label",e],["formControlName","abbreviation","label",t],["formControlName","description","label",p],["formControlName","purpose","label",g],["formControlName","disciplineId","label",R,3,"source"],["formControlName","unitId","label",L,3,"source","config"],["formControlName","testResultType","label",b,3,"source"],["formControlName","isGroup"],[3,"actions"]];},template:function(e,t){e&1&&(u(0,"sz-ui-dialog-header",1),E(1,"mat-dialog-content")(2,"form",2),u(3,"sz-ui-form-field-input-text",3)(4,"sz-ui-form-field-input-text",4)(5,"sz-ui-form-field-input-text",5)(6,"sz-ui-form-field-textarea",6)(7,"sz-ui-form-field-textarea",7)(8,"sz-ui-form-field-select",8)(9,"sz-ui-form-field-select",9)(10,"sz-ui-form-field-select",10),E(11,"mat-checkbox",11),y(12,0),m()()(),u(13,"sz-ui-dialog-actions",12)),e&2&&(n("title",t.title)("subtitle",t.subtitle)("alert",t.alert()),_(2),n("formGroup",t.form),_(6),n("source",t.disciplines),_(),n("source",t.units)("config",t.defaultUnitSelectConfig),_(),n("source",t.testResultTypes),_(3),n("actions",t.actions));},dependencies:[B,Y,D,P,v,z,k,X,w,j,oe,Z,ee,Q,H,x,q],encapsulation:2});let S=i;return S;})();var _e=(()=>{let i=class i{constructor(){this.dialog=s(U),this.mlabService=s(d),this.router=s(V),this.dataSource=new re("nameEn"),this.appBarConfig={title:O.test_types,menu:A.default([l.add(this.openSaveComponent.bind(this)),l.menu([l.search()])])},this.dataSource.columnDefs.push(r.uuid("id"),r.hyperlink("nameEn").setClickFn(o=>this.router.navigate([J.TestTypes,o.id])).setHeaderSortable(!0),r.string("code").setClassSmall().setResponsive(!0),r.string("discipline.nameEn").setHeaderName(O.discipline).setResponsive(!0),r.string("unit.symbol").setHeaderName(O.unit).setResponsive(!0),r.string("abbreviation").setClassSmall().setResponsive(!0),r.date("createdAt").setVisible(!1),r.date("updatedAt").setVisible(!1),r.menu(A.more([l.edit(this.openSaveComponent.bind(this)),l.divider(),l.delete(this.openTestTypeDeleteComponent.bind(this))]))),this.get();}openSaveComponent(o){this.dialog.open(ae,{data:o}).afterClosed().subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestTypeDeleteComponent(o){this.dialog.open(te,{data:K.delete(this.mlabService.testTypes.delete(o.id),o)}).afterClosed().subscribe(e=>{this.dataSource.delete(e);});}get(){this.mlabService.testTypes.get(this.dataSource.getQuery()).pipe(se(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(e){return new(e||i)();},i.ɵcmp=T({type:i,selectors:[["sz-medisy-laboratory-test-types"]],standalone:!0,features:[M([d]),c],decls:2,vars:3,consts:[[3,"changed","config","dataSource"],[3,"update","dataSource"]],template:function(e,t){e&1&&(E(0,"sz-ui-table-bar",0),N("changed",function(){return t.get();}),m(),E(1,"sz-ui-table",1),N("update",function(){return t.get();}),m()),e&2&&(n("config",t.appBarConfig)("dataSource",t.dataSource),_(),n("dataSource",t.dataSource));},dependencies:[ie,ne],encapsulation:2});let S=i;return S;})();var Xe=[{path:"",component:_e}];export{Xe as default};/**i18n:3baa7a52fa2dfa3c4602a0f5c18b10b468e666f31530cd067c23c1079d9af4f3*/