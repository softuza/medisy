import{e as Q,f as W,g as Z,i as x,j as ee,k as te}from"./chunk-VT3WYR67.js";import{g as k,t as U}from"./chunk-RQNRD2JQ.js";import"./chunk-3UYL57HA.js";import{a as V,b as X,d as q,e as H,g as J}from"./chunk-V6FPP55L.js";import"./chunk-U7VPIABE.js";import{b}from"./chunk-M3UESULM.js";import{a as v,b as ie,c as oe,d as re,f as ne,h as ae,p as se,q as pe}from"./chunk-PTJACGQS.js";import"./chunk-UNCYENX6.js";import{b as E}from"./chunk-VRISEVPV.js";import{d as D,f as z,g as M,h as N,l as G,m as R,n as A,o as F,p as L,s as y,t as w,v as B}from"./chunk-GJY7U5GZ.js";import{a as f}from"./chunk-B3ZGKPUK.js";import"./chunk-3BVZ364G.js";import{a as C}from"./chunk-PIKBUH2I.js";import{a as K}from"./chunk-QDC3ZTFW.js";import{I as Y,L as $,M as j,q as O}from"./chunk-NC2N2FCX.js";import{Ab as p,Bb as l,Cb as u,L as d,Mb as g,Pb as T,Wb as P,Xb as I,Zb as h,ac as S,eb as m,fb as r,ma as c,mb as _,pb as s}from"./chunk-3CXVAQY6.js";var de=(()=>{let o=class o extends k{constructor(t,i){super(t),this.ngControl=t,this.mlabService=i,this.options=[],this.label="Specimen Type",this.optionContent=e=>e.name,this.optionValue=e=>e.id;}ngOnInit(){this.control=this.ngControl.control,this.mlabService.specimenTypes.getItems(C.unpagedSorted("name")).pipe(E(this.indicator),d(1)).subscribe(t=>{this.options=t;});}};o.ɵfac=function(i){return new(i||o)(r(z,10),r(f));},o.ɵcmp=c({type:o,selectors:[["medisy-form-field-specimen-type"]],standalone:!0,features:[h([]),_,S],decls:1,vars:9,consts:[[3,"formControl","indicator","options","label","placeholder","emptyOption","multiple","szOptionContentFn","szOptionValueFn"]],template:function(i,e){i&1&&u(0,"sz-ui-form-field-select",0),i&2&&s("formControl",e.control)("indicator",e.indicator)("options",e.options)("label",e.label)("placeholder",e.placeholder)("emptyOption",e.emptyOption)("multiple",e.multiple)("szOptionContentFn",e.optionContent)("szOptionValueFn",e.optionValue);},dependencies:[O,y,M,R,U],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{position:relative}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:20px}"]});let n=o;return n;})();var ce=(()=>{let o=class o extends Q{constructor(t,i,e,a){super(e),this.mlabService=t,this.fb=i,this.dialog=e,this.data=a,this.form=i.group({specimenTypeId:[a.testGroupSpecimenType?.specimenTypeId,[D.required]]});}submit(){this.IsValid()&&(this.data.testGroupSpecimenType?this.save(this.mlabService.testGroups.specimenTypes.update(this.data.testGroupId,this.data.testGroupSpecimenType?.id,this.form.value)):this.save(this.mlabService.testGroups.specimenTypes.create(this.data.testGroupId,this.form.value)));}};o.ɵfac=function(i){return new(i||o)(r(f),r(L),r(V),r(X));},o.ɵcmp=c({type:o,selectors:[["medisy-test-group-specimen-types-save"]],standalone:!0,features:[h([]),_,S],decls:5,vars:3,consts:[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","specimenTypeId"],[3,"actions"]],template:function(i,e){i&1&&(u(0,"sz-ui-dialog-header",0),p(1,"mat-dialog-content")(2,"form",1),u(3,"medisy-form-field-specimen-type",2),l()(),u(4,"sz-ui-dialog-actions",3)),i&2&&(s("header",e.header),m(2),s("formGroup",e.form),m(2),s("actions",e.actions));},dependencies:[y,G,M,N,A,F,J,H,ae,ee,W,Z,de],encapsulation:2});let n=o;return n;})();var et=(()=>{let o=class o{constructor(t,i,e){this.dialog=t,this.mlabService=i,this.route=e,this.dataSource=new oe(C.paged()),this.testGroup=this.route.snapshot.data.testGroup,this.dataSource.addRows(re.default([ie.text("specimenType","Specimen Type",a=>a.specimenType.name),b.createdAt(),b.menu([v.edit(a=>this.openSaveComponent(a)),v.delete(a=>this.openTestTypeSpecimenTypeDeleteComponent(a))])])),this.get();}openSaveComponent(t){this.dialog.open(ce,{data:{testGroupId:this.testGroup.id,testGroupSpecimenType:t}}).afterClosed().pipe(d(1)).subscribe(e=>{this.dataSource.updateOrPushItem(e);});}openTestTypeSpecimenTypeDeleteComponent(t){this.dialog.open(x,{data:te.delete(this.mlabService.testGroups.specimenTypes.delete(t.testGroupId,t.id),t)}).afterClosed().pipe(d(1)).subscribe(e=>{this.dataSource.delete(e);});}updateItem(t){this.mlabService.testGroups.specimenTypes.update(t.testGroupId,t.id,t).subscribe(i=>{this.dataSource.update(i);});}get(){this.mlabService.testGroups.specimenTypes.get(this.testGroup.id,this.dataSource.filterModel).pipe(E(this.dataSource.indicator),d(1)).subscribe(t=>{this.dataSource.set(t.items,t.count);});}};o.ɵfac=function(i){return new(i||o)(r(q),r(f),r(Y));},o.ɵcmp=c({type:o,selectors:[["medisy-laboratory-test-group-specimen-types"]],standalone:!0,features:[S],decls:11,vars:5,consts:()=>{let t;t="Specimen Types";let i;return i="Add",[["start",""],[1,"sz-h5"],t,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],i,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(i,e){i&1&&(p(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),g(3,2),l(),p(4,"a",3),P(5),l()()(),p(6,"sz-ui-table-filter",4),T("search",function(){return e.get();}),p(7,"button",5),T("click",function(){return e.openSaveComponent();}),p(8,"span"),g(9,6),l()()(),p(10,"sz-ui-table",7),T("update",function(){return e.get();}),l()),i&2&&(m(5),I(e.testGroup.name),m(1),s("dataSource",e.dataSource),m(4),s("paginationEnabled",!0)("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[j,$,B,w,pe,se,ne,K],encapsulation:2});let n=o;return n;})();export{et as TestGroupSpecimenTypesComponent};/**i18n:c47ea6c8e33fa0c222c20e616e96e45afbcc3267e1e4f83fbed9283c01f003ba*/