import{a as g}from"./chunk-ESSVKAV5.js";import{c as S,g as A}from"./chunk-RV7ZD4M3.js";import{a as h}from"./chunk-LE4FS3VA.js";import{a as re}from"./chunk-54C64AAB.js";import{a as u,b as ee,c as te,e as oe,q as ie,r as ae}from"./chunk-2DIHYESB.js";import{c as x,h as H,i as J,j as K,l as Q,m as W,n as Z}from"./chunk-JUKWJGHA.js";import{a as w,b as V,d as k,e as U,g as X}from"./chunk-LR6DSKQQ.js";import{E as j,z as B}from"./chunk-CJ3L35E7.js";import{g as v,h as O,l as I,n as P,o as z,p as R,s as L}from"./chunk-FZFNR6NR.js";import{a as p}from"./chunk-X3ZOFRYL.js";import{a as q}from"./chunk-AQB7U7BU.js";import{a as F,e as Y}from"./chunk-4G55JY3H.js";import{i as T}from"./chunk-5QJH45WQ.js";import{Pa as G,Ra as $}from"./chunk-W55BWEJG.js";import{Bb as s,Cb as d,Db as M,L as f,Nb as b,Pb as E,Zb as D,ac as C,cb as l,db as m,ja as n,kb as y,la as _,nb as r,qc as N}from"./chunk-3QIFGVJ6.js";var ne=(()=>{let o=class o extends H{constructor(e,t,i,c){super(i),this.mlabService=e,this.fb=t,this.dialog=i,this.data=c,this.form=t.group({note:[c?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.tests.update(this.data.analysisId,this.data.id,this.form.value));}};o.ɵfac=function(t){return new(t||o)(m(p),m(R),m(w),m(V));},o.ɵcmp=_({type:o,selectors:[["medisy-laboratory-analysis-tests-save"]],standalone:!0,features:[y,C],decls:5,vars:3,consts:()=>{let e;return e="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",e],[3,"actions"]];},template:function(t,i){t&1&&(M(0,"sz-ui-dialog-header",0),s(1,"mat-dialog-content")(2,"form",1),M(3,"sz-ui-form-field-input",2),d()(),M(4,"sz-ui-dialog-actions",3)),t&2&&(r("header",i.header),l(2),r("formGroup",i.form),l(2),r("actions",i.actions));},dependencies:[L,I,v,O,P,z,X,U,W,J,K,j,B],encapsulation:2});let a=o;return a;})();var Ue=(()=>{let o=class o{constructor(){this.route=n(F),this.dialog=n(k),this.locale=n(N),this.mlabService=n(p),this.typeI18nPipe=n(A),this.dataSource=new ee(q.unpagedSorted("test.testClass")),this.analysis=this.route.snapshot.data.analysis,this.dataSource.addRows(te.default([u.icon("test.state","State",e=>{switch(e.test.state){case S.Created:return"description";case S.Pending:return"pending";case S.Started:return"sync";case S.Finished:return"done";default:return"";}}).makeCompact(),u.text("test.testclass",h.testClass,e=>e.test.testClass.name),u.text("test.referenceGroup",h.referenceGroup,e=>e.test.referenceGroup.name[g(this.locale)]),u.text("test.testResult",h.testResult,e=>e.test.referenceGroup.name[g(this.locale)]),re.menu([T.edit(e=>this.openSaveComponent(e)),T.divider(),T.delete(e=>this.openDeleteComponent(e))])])),this.get();}openCreateComponent(){}openSaveComponent(e){this.dialog.open(ne,{data:e}).afterClosed().pipe(f(1)).subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openDeleteComponent(e){this.dialog.open(Q,{data:Z.delete(this.mlabService.analyses.tests.delete(e.analysisId,e.id),e)}).afterClosed().pipe(f(1)).subscribe(t=>{this.dataSource.delete(t);});}get(){this.mlabService.analyses.tests.get(this.analysis.id,this.dataSource.filterModel).pipe(x(this.dataSource.indicator)).pipe(f(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};o.ɵfac=function(t){return new(t||o)();},o.ɵcmp=_({type:o,selectors:[["medisy-laboratory-analysis-tests"]],standalone:!0,features:[D([p,A]),C],decls:5,vars:4,consts:()=>{let e;return e="Add",[[3,"dataSource"],["mat-flat-button","","color","primary","start","",3,"click"],e,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(t,i){t&1&&(s(0,"sz-ui-table-filter",0)(1,"button",1),E("click",function(){return i.openCreateComponent();}),s(2,"span"),b(3,2),d()()(),s(4,"sz-ui-table",3),E("update",function(){return i.get();}),d()),t&2&&(r("dataSource",i.dataSource),l(4),r("paginationEnabled",!1)("stateEnabled",!0)("dataSource",i.dataSource));},dependencies:[Y,ae,ie,oe,$,G],encapsulation:2});let a=o;return a;})();export{Ue as a};/**i18n:419148c294ae56579e504a43f00a8e71eb3633c9912a0864afd0e0662e47e985*/