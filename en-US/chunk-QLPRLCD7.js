import{a as p}from"./chunk-CGXIYALH.js";import{a,b as ee,d as te,e as oe,g as ie,j as re,k as ne}from"./chunk-SCEYJWUH.js";import"./chunk-TQMMS6EB.js";import"./chunk-TDPMUOHH.js";import"./chunk-EIEESADP.js";import"./chunk-XAJI6S7M.js";import{e as J,f as K,g as W,i as Z,j as O,k as x}from"./chunk-23TTDEMB.js";import{a as N}from"./chunk-CBX6HOLO.js";import{h as g}from"./chunk-N5GRIQDY.js";import{a as B,b as G,d as j,e as Y,g as M}from"./chunk-DIXRY2BM.js";import"./chunk-SH6LLNPF.js";import{A as Q,e as w,v as q}from"./chunk-Z5BIE7AQ.js";import"./chunk-Q6LA27NV.js";import"./chunk-TKDGFNHB.js";import{c as H}from"./chunk-3KNY5WBW.js";import"./chunk-4IQAUZQG.js";import{d as E,f as z,g as P,l as b,n as y,q as A,r as D,u as $}from"./chunk-CBNQJNHR.js";import"./chunk-TW7AXWBO.js";import{c as V,e as U}from"./chunk-3IXDZKQC.js";import"./chunk-UJD4II27.js";import{ia as F,ja as X,la as k}from"./chunk-YM6Z3W7O.js";import"./chunk-G4CXIA4B.js";import{Jb as m,Kb as u,Lb as S,Vb as I,Wb as f,bb as l,cb as s,ea as h,ja as d,na as c,nc as C,oa as L,oc as v,qb as R,zb as n}from"./chunk-2CGEOOG5.js";import"./chunk-FJU4DKT4.js";var se=(()=>{let i=class i extends J{constructor(o,t,e){super(t),this.fb=o,this.dialog=t,this.data=e,this.cstnService=d(p),this.form=o.group({name:[e?.name,[E.required,E.minLength(1)]],number:[e?.number,[E.maxLength(24)]],primaryEmail:[e?.primaryEmail,[]],primaryPhone:[e?.primaryPhone,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.cstnService.employees.update(this.data.id,this.form.value)):this.save(this.cstnService.employees.create(this.form.value)));}};i.ɵfac=function(t){return new(t||i)(s(D),s(B),s(G));},i.ɵcmp=c({type:i,selectors:[["sz-constr-construction-projects-save"]],standalone:!0,features:[C([]),R,v],decls:8,vars:5,consts:()=>{let o;o="Name";let t;t="Number";let e;e="Phone";let _;return _="Email",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",o],["formControlName","number","label",t],["formControlName","primaryPhone","label",e],["formControlName","primaryEmail","label",_],[3,"actions"]];},template:function(t,e){t&1&&(S(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),S(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-input",5),u()(),S(7,"sz-ui-dialog-actions",6)),t&2&&(n("title",e.title)("subtitle",e.subtitle)("alert",e.alert()),l(2),n("formGroup",e.form),l(5),n("actions",e.actions));},dependencies:[$,b,z,P,y,A,M,Y,q,O,K,W,Q,w],encapsulation:2});let r=i;return r;})();var me=(()=>{let i=class i{constructor(o,t){this.dialog=o,this.router=t,this.cstnService=d(p),this.title=H.employees,this.dataSource=new te(),this.dataSource.columnDefs.push(a.uuid("id"),a.string("name").setHeaderSortable(!0),a.string("number"),a.string("primaryEmail").setVisible(!1),a.string("primaryPhone").setHeaderSortable(!1),a.date("createdAt").setVisible(!1),a.date("updatedAt").setVisible(!1),ee.menu([g.edit(e=>this.openSaveComponent(e)),g.delete(e=>this.openProjectDeleteComponent(e))])),this.get();}openSaveComponent(o){this.dialog.open(se,{data:o}).afterClosed().subscribe(t=>{this.dataSource.addOrUpdateItem(t);});}openProjectDeleteComponent(o){this.dialog.open(Z,{data:x.delete(this.cstnService.employees.delete(o.id),o)}).afterClosed().subscribe(t=>{this.dataSource.delete(t);});}get(){this.cstnService.employees.get(this.dataSource.getQuery()).pipe(oe(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};i.ɵfac=function(t){return new(t||i)(s(j),s(V));},i.ɵcmp=c({type:i,selectors:[["sz-constr-construction-employees"]],features:[C([])],decls:6,vars:3,consts:()=>{let o;return o="Add",[o,[3,"title"],[3,"changed","dataSource"],["title","","mat-flat-button","","color","primary","start","",3,"click"],[3,"update","dataSource"]];},template:function(t,e){t&1&&(S(0,"sz-ui-app-bar",1),m(1,"sz-ui-table-search-filter",2),f("changed",function(){return e.get();}),m(2,"button",3),f("click",function(){return e.openSaveComponent();}),m(3,"span"),I(4,0),u()()(),m(5,"sz-ui-table",4),f("update",function(){return e.get();}),u()),t&2&&(n("title",e.title),l(),n("dataSource",e.dataSource),l(4),n("dataSource",e.dataSource));},dependencies:[X,re,ie,N],encapsulation:2});let r=i;return r;})();var Ze=(()=>{let i=class i{};i.ɵfac=function(t){return new(t||i)();},i.ɵmod=L({type:i}),i.ɵinj=h({providers:[p],imports:[U.forChild([{path:"",component:me}]),M,F,k,ne,O,N]});let r=i;return r;})();export{Ze as EmployeesModule};/**i18n:74c2b26e2511915b63b53dced5a329acbedd3101dfbc00b668fe6d77d7375591*/