import{a as ne}from"./chunk-NCQFOGUL.js";import{d as W,e as Z,f as v,g as I,i as ee,j as P,k as te}from"./chunk-VT3WYR67.js";import"./chunk-RQNRD2JQ.js";import"./chunk-3UYL57HA.js";import{a as y,b as L,d as H,e as R,g as D}from"./chunk-V6FPP55L.js";import"./chunk-U7VPIABE.js";import{b as $}from"./chunk-M3UESULM.js";import{a as Y,b as B,c as oe,d as ie,f as ae,g as z,h as f,p as re,q as se}from"./chunk-PTJACGQS.js";import"./chunk-UNCYENX6.js";import{b as Q}from"./chunk-VRISEVPV.js";import{d as F,g as M,h as E,l as b,n as A,o as O,p as h,s as g,t as x,v as q}from"./chunk-GJY7U5GZ.js";import{a as N}from"./chunk-B3ZGKPUK.js";import"./chunk-3BVZ364G.js";import{a as J}from"./chunk-PIKBUH2I.js";import{a as K}from"./chunk-QDC3ZTFW.js";import{I as w,L as U,M as X}from"./chunk-NC2N2FCX.js";import{Ab as l,Bb as m,Cb as S,L as p,Mb as _,Pb as T,Wb as G,Xb as k,ac as u,bc as j,cc as V,eb as d,fb as s,ma as c,mb as C,pb as n}from"./chunk-3CXVAQY6.js";var me=(()=>{let i=class i extends W{constructor(e,t,o){super(t),this.fb=e,this.dialog=t,this.data=o,this.form=e.group({enabled:[o.enabled]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};i.ɵfac=function(t){return new(t||i)(s(h),s(y),s(L));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-classes-filter"]],standalone:!0,features:[C,u],decls:6,vars:3,consts:()=>{let e;return e="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,o){t&1&&(S(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1)(3,"mat-checkbox",2),_(4,3),m()()(),S(5,"sz-ui-dialog-actions",4)),t&2&&(n("header",o.header),d(2),n("formGroup",o.form),d(3),n("actions",o.actions));},dependencies:[g,b,M,E,A,O,P,v,I,D,R,f,z],encapsulation:2});let r=i;return r;})();var Me=()=>[],Ee=r=>[r],Se=(()=>{let i=class i extends Z{constructor(e,t,o,a){super(o),this.mlabService=e,this.fb=t,this.dialog=o,this.data=a,this.form=t.group({enabled:[a.laboratoryTestClass?.enabled??!0,[F.required]],testClassId:[a.laboratoryTestClass?.testClassId,[F.required]]});}submit(){this.IsValid()&&(this.data.laboratoryTestClass?this.save(this.mlabService.laboratories.testClasses.update(this.data.laboratoryId,this.data.laboratoryTestClass?.id,this.form.value)):this.save(this.mlabService.laboratories.testClasses.create(this.data.laboratoryId,this.form.value)));}};i.ɵfac=function(t){return new(t||i)(s(N),s(h),s(y),s(L));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-classes-save"]],standalone:!0,features:[C,u],decls:7,vars:7,consts:()=>{let e;return e="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testClassId",3,"excludeLaboratoryIds"],["formControlName","enabled"],e,[3,"actions"]];},template:function(t,o){t&1&&(S(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),S(3,"medisy-form-field-test-class",2),l(4,"mat-checkbox",3),_(5,4),m()()(),S(6,"sz-ui-dialog-actions",5)),t&2&&(n("header",o.header),d(2),n("formGroup",o.form),d(1),n("excludeLaboratoryIds",o.data.laboratoryTestClass?j(4,Me):V(5,Ee,o.data.laboratoryId)),d(3),n("actions",o.actions));},dependencies:[g,b,M,E,A,O,P,v,I,D,R,f,z,ne],encapsulation:2});let r=i;return r;})();var it=(()=>{let i=class i{constructor(e,t,o){this.dialog=e,this.mlabService=t,this.route=o,this.dataSource=new oe(J.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.addRows(ie.default([B.text("testClass","Test Class",a=>a.testClass.name),$.createdAt(),B.checkbox("enabled","Enabled",(a,_e)=>{a.enabled=_e,this.mlabService.laboratories.testClasses.update(a.laboratoryId,a.id,a).pipe(p(1)).subscribe(pe=>{a=pe;});}),$.menu([Y.edit(a=>{this.openSaveComponent(a);}),Y.delete(a=>{this.openLaboratoryTestClassDeleteComponent(a);})])])),this.get();}openSaveComponent(e){this.dialog.open(Se,{data:{laboratoryId:this.laboratory.id,laboratoryTestClass:e}}).afterClosed().pipe(p(1)).subscribe(o=>{this.dataSource.updateOrPushItem(o);});}openFilterComponent(){this.dialog.open(me,{data:this.dataSource.filterModel}).afterClosed().pipe(p(1)).subscribe(t=>{this.dataSource.updateFilterModel(t),this.get();});}openLaboratoryTestClassDeleteComponent(e){this.dialog.open(ee,{data:te.delete(this.mlabService.laboratories.testClasses.delete(e.laboratoryId,e.id),e)}).afterClosed().pipe(p(1)).subscribe(o=>{this.dataSource.delete(o);});}get(){this.mlabService.laboratories.testClasses.get(this.laboratory.id,this.dataSource.filterModel).pipe(Q(this.dataSource.indicator)).pipe(p(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};i.ɵfac=function(t){return new(t||i)(s(H),s(N),s(w));},i.ɵcmp=c({type:i,selectors:[["medisy-laboratory-test-classes"]],standalone:!0,features:[u],decls:11,vars:5,consts:()=>{let e;e="Test Classes";let t;return t="Add",[["start",""],[1,"sz-h5"],e,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search","filter"],["title","","mat-flat-button","","color","primary","start","",3,"click"],t,[3,"paginationEnabled","stateEnabled","dataSource","update"]];},template:function(t,o){t&1&&(l(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),_(3,2),m(),l(4,"a",3),G(5),m()()(),l(6,"sz-ui-table-filter",4),T("search",function(){return o.get();})("filter",function(){return o.openFilterComponent();}),l(7,"button",5),T("click",function(){return o.openSaveComponent();}),l(8,"span"),_(9,6),m()()(),l(10,"sz-ui-table",7),T("update",function(){return o.get();}),m()),t&2&&(d(5),k(o.laboratory.name),d(1),n("dataSource",o.dataSource),d(4),n("paginationEnabled",!0)("stateEnabled",!0)("dataSource",o.dataSource));},dependencies:[X,U,K,se,re,ae,f,q,x],encapsulation:2});let r=i;return r;})();export{it as LaboratoryTestClassesComponent};/**i18n:c47ea6c8e33fa0c222c20e616e96e45afbcc3267e1e4f83fbed9283c01f003ba*/