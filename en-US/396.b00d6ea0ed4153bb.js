"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[396],{4396:(Y,p,o)=>{o.r(p),o.d(p,{PersonAddressesComponent:()=>L});var u=o(2296),P=o(8109),A=o(2191),M=o(9060),l=o(4110),c=o(5041),i=o(3572),N=o(9598),m=o(8721),_=o(8180),S=o(6223),E=o(7700),C=o(9004),e=o(5879),O=o(5348),f=o(5974),D=o(8873),g=o(4622),T=o(6091);let h=(()=>{class r extends l.Ku{constructor(s,t,n,a){super(n),this.personService=s,this.fb=t,this.dialog=n,this.data=a,this.form=t.group({value:[a?.personAddress?.value,[S.kI.required]],description:[a?.personAddress?.description,[]],isPrimary:[a?.personAddress?.isPrimary??!1,[S.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personAddress?this.personService.updatePersonAddress(this.data.personId,this.data.personAddress.id,this.form.value):this.personService.createPersonAddress(this.data.personId,this.form.value))}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(O.R),e.Y36(S.qu),e.Y36(E.so),e.Y36(E.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-people-person-addresses-save"]],standalone:!0,features:[e.qOj,e.jDz],decls:8,vars:3,consts:function(){let d,s,t;return d="Address",s="Description",t="Primary",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","value","label",d],["formControlName","description","label",s],["formControlName","isPrimary"],t,[3,"actions"]]},template:function(s,t){1&s&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-textarea",3),e.TgZ(5,"mat-checkbox",4),e.SDv(6,5),e.qZA()()(),e._UZ(7,"sz-ui-dialog-actions",6)),2&s&&(e.Q6J("header",t.header),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("actions",t.actions))},dependencies:[S.UX,S._Y,S.JJ,S.JL,S.sg,S.u,E.Is,E.xY,C.g,f.g,D.J,l.su,g.Y,T.t],encapsulation:2}),r})();var v=o(3582),R=o(3144),I=o(2516);let L=(()=>{class r{constructor(s,t,n){this.dialog=s,this.personService=t,this.route=n,this.dataSource=new i.b2(N.J.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[i.UC.text("value","Address"),A.h.createdAt(),A.h.menu([i.od.edit(a=>this.openSaveComponent(a)),i.od.delete(a=>this.openPersonAddressDeleteComponent(a))])],this.get()}openSaveComponent(s){this.dialog.open(h,{data:{personId:this.person.id,personAddress:s}}).afterClosed().pipe((0,_.q)(1)).subscribe(n=>{this.dataSource.updateOrPushItem(n)})}openPersonAddressDeleteComponent(s){this.dialog.open(l.fN,{data:l.cb.delete(this.personService.deletePersonAddress(s.personId,s.id),s)}).afterClosed().pipe((0,_.q)(1)).subscribe(n=>{this.dataSource.delete(n)})}get(){this.personService.getPersonAddresses(this.person.id,this.dataSource.filterModel).pipe((0,m.sU)(this.dataSource.indicator),(0,_.q)(1)).subscribe(s=>{this.dataSource.set(s.items,s.count)})}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(E.uw),e.Y36(O.R),e.Y36(P.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["medisy-people-person-addresses"]],standalone:!0,features:[e.jDz],decls:12,vars:7,consts:function(){let d,s;return d="Addresses",s="Add",[["start",""],[1,"sz-h5"],d,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],s,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(s,t){1&s&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return t.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return t.get()}),e.qZA()),2&s&&(e.xp6(5),e.Oqu(e.lcZ(6,5,t.person)),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",t.dataSource))},dependencies:[P.Bz,P.rH,u.ot,u.lW,i.Vn,v.K,R.f,c.n,I.z,M.Y],encapsulation:2}),r})()}}]);