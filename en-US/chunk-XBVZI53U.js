import{a as re,c as ne,e as ae,j as se,k as _e,l as n}from"./chunk-CIQDR5WK.js";import"./chunk-Y7ZOQVGE.js";import"./chunk-5PWIWZS6.js";import{a as l}from"./chunk-BAY27WLL.js";import{e as Z,f as ee,g as te,i as ie,j as C,k as oe}from"./chunk-T3RP4KFO.js";import"./chunk-OWH277FG.js";import{b as O}from"./chunk-7FMKABPI.js";import{f as g}from"./chunk-EY4A56HO.js";import{a as J,b as K,d as Q,e as W,g as P}from"./chunk-DX3CVY22.js";import{u as w,x as q,y as H,z as x}from"./chunk-57HXEV2J.js";import{Ca as u,L as G,N as B,d as c,f as v,g as I,k as Y,m as z,p as $,q as V,t as F,za as k}from"./chunk-HC44CUFJ.js";import"./chunk-QYJYVPVW.js";import{Ea as U,Ga as X,Ja as j}from"./chunk-NQOK3G2M.js";import{Fb as m,Gb as T,Hb as p,M as E,Rb as b,Tb as A,fa as L,gb as S,hb as s,hc as M,kc as y,oa as f,ob as D,pa as h,vb as _}from"./chunk-XEAZENSO.js";var Se=(()=>{let o=class o extends Z{constructor(i,e,r,t){super(r),this.mlabService=i,this.fb=e,this.dialog=r,this.data=t,this.disciplines=this.mlabService.disciplines.getAll({orderBy:["name"]}),this.form=e.group({name:[t?.name,[c.required,c.minLength(1)]],latinName:[t?.latinName,[c.required,c.minLength(1)]],abbreviation:[t?.abbreviation,[]],description:[t?.description,[]],purpose:[t?.purpose,[]],disciplineId:[t?.disciplineId,[]]});}submit(){this.IsValid()&&(this.data?this.save(this.mlabService.testTypes.update(this.data.id,this.form.value)):this.save(this.mlabService.testTypes.create(this.form.value)));}};o.ɵfac=function(e){return new(e||o)(s(l),s(V),s(J),s(K));},o.ɵcmp=f({type:o,selectors:[["medisy-laboratory-test-types-save"]],standalone:!0,features:[M([]),D,y],decls:10,vars:4,consts:()=>{let i;i="Name";let e;e="Latin";let r;r="Abbreviation";let t;t="Description";let N;N="Purpose";let R;return R="Discipline",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","name","label",i],["formControlName","latinName","label",e],["formControlName","abbreviation","label",r],["formControlName","description","label",t],["formControlName","purpose","label",N],["formControlName","disciplineId","label",R,3,"source"],[3,"actions"]];},template:function(e,r){e&1&&(p(0,"sz-ui-dialog-header",0),m(1,"mat-dialog-content")(2,"form",1),p(3,"sz-ui-form-field-input",2)(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4)(6,"sz-ui-form-field-textarea",5)(7,"sz-ui-form-field-textarea",6)(8,"sz-ui-form-field-select",7),T()(),p(9,"sz-ui-dialog-actions",8)),e&2&&(_("header",r.header),S(2),_("formGroup",r.form),S(6),_("source",r.disciplines),S(),_("actions",r.actions));},dependencies:[F,Y,v,I,z,$,P,W,C,ee,te,x,w,H,q],encapsulation:2});let a=o;return a;})();var me=(()=>{let o=class o{constructor(i,e,r){this.dialog=i,this.mlabService=e,this.router=r,this.title=u.testTypes,this.dataSource=new ne(),this.dataSource.fields.push(n.uuid("id"),n.icon("isGroup",t=>t.isGroup?"scatter_plot":"science").setContentTooltip(t=>t.isGroup?u.group:u.test),n.hyperlink("name",t=>this.router.navigate([`/mlab/test-types/${t.id}`])),n.string("code"),n.string("latinName"),n.uuid("disciplineId"),n.string("discipline.name").setDisplayName(u.discipline),n.string("description"),n.string("abbreviation"),n.date("createdAt",!1),n.date("updatedAt",!1),re.menu([g.edit(t=>this.openSaveComponent(t)),g.delete(t=>this.openTestTypeDeleteComponent(t))])),this.get();}openSaveComponent(i){this.dialog.open(Se,{data:i}).afterClosed().pipe(E(1)).subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestTypeDeleteComponent(i){this.dialog.open(ie,{data:oe.delete(this.mlabService.testTypes.delete(i.id),i)}).afterClosed().pipe(E(1)).subscribe(e=>{this.dataSource.delete(e);});}get(){this.mlabService.testTypes.get(this.dataSource.buildRequest()).pipe(k(this.dataSource.indicator),E(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};o.ɵfac=function(e){return new(e||o)(s(Q),s(l),s(G));},o.ɵcmp=f({type:o,selectors:[["medisy-laboratory-test-types"]],features:[M([l])],decls:6,vars:4,consts:()=>{let i;return i="Add",[[3,"title"],[3,"dataSource","changed"],["title","","mat-flat-button","","color","primary","start","",3,"click"],i,[3,"stateEnabled","dataSource","update"]];},template:function(e,r){e&1&&(p(0,"sz-ui-header-info",0),m(1,"sz-ui-table-search-filter",1),A("changed",function(){return r.get();}),m(2,"button",2),A("click",function(){return r.openSaveComponent();}),m(3,"span"),b(4,3),T()()(),m(5,"sz-ui-table",4),A("update",function(){return r.get();}),T()),e&2&&(_("title",r.title),S(),_("dataSource",r.dataSource),S(4),_("stateEnabled",!0)("dataSource",r.dataSource));},dependencies:[U,se,ae,O],encapsulation:2});let a=o;return a;})();var pe=[{path:"",component:me}];var nt=(()=>{let o=class o{};o.ɵfac=function(e){return new(e||o)();},o.ɵmod=h({type:o}),o.ɵinj=L({providers:[l],imports:[B.forChild(pe),P,j,X,_e,C,O]});let a=o;return a;})();export{nt as TestTypesModule};/**i18n:f1993a9d8de25a460a4edd4e25b48862b3dd863aec93a795c43b451741326090*/