import{a as De}from"./chunk-SVB2LNCK.js";import{a as Ie,b as ge}from"./chunk-YVFFNJJY.js";import{a as Ce}from"./chunk-KZW7FIRD.js";import{a as C}from"./chunk-WUX3U36K.js";import{a as N}from"./chunk-NMKPVVJG.js";import"./chunk-VLSORBJL.js";import{g as I}from"./chunk-LV4PZCIV.js";import"./chunk-XMV3WQ4U.js";import"./chunk-3ERE5XXW.js";import"./chunk-YECODXW4.js";import{b as T,c as ue,e as ce,g as Ne,s as Oe,t as Te}from"./chunk-DTDLQFEI.js";import{c as de,g as pe,i as fe,j as Pe,m as Me}from"./chunk-SN47SBJJ.js";import{a as me,b as se,d as Se,e as Ee,g as c}from"./chunk-FNLNZMXX.js";import{D as le,a as q,c as J,d as K,h as Q,i as W,r as te,s as ie,t as oe,u as re,v as ne,w as ae,y as _e}from"./chunk-H22FBATM.js";import{b,g as G,h as U,l as X,n as k,o as B,p as j,s as w}from"./chunk-IUM5Y4DP.js";import{a as g}from"./chunk-DQFF7ZV7.js";import{b as O}from"./chunk-2H6GRCHT.js";import"./chunk-HUJ4SFSJ.js";import{e as x}from"./chunk-7TGQVE3C.js";import"./chunk-HXVM5UCI.js";import"./chunk-QCDHUYXG.js";import"./chunk-QWTR64PL.js";import{Qa as H,Ra as V,Ta as Z,Ua as ee,n as v}from"./chunk-53RWJDYX.js";import{Bb as r,Cb as _,Db as n,L as p,Nb as z,Pb as P,Vb as Y,Wb as M,Zb as u,ac as y,cb as d,da as h,db as s,kb as $,la as f,ma as A,nb as m}from"./chunk-M2QTEBXZ.js";var Le=(()=>{let t=class t extends pe{constructor(i,o,e){super(o),this.fb=i,this.dialog=o,this.data=e,this.form=i.group({sex:[e.sex],title:[e.title],startBirthDate:[e.startBirthDate],endBirthDate:[e.endBirthDate],firstName:[e.firstName],lastName:[e.lastName],ssn:[e.ssn],nationalityId:[e.nationalityId],languageId:[e.languageId],motherName:[e.motherName],fatherName:[e.fatherName],middleName:[e.middleName],address:[e.address]});}submit(){this.IsValid()&&this.dialog.close(this.form.value);}};t.ɵfac=function(o){return new(o||t)(s(j),s(me),s(se));},t.ɵcmp=f({type:t,selectors:[["medisy-people-persons-filter"]],standalone:!0,features:[u([]),$,y],decls:28,vars:7,consts:()=>{let i;i="First name";let o;o="Last name";let e;e="Middle name";let a;a="SSN";let S;S="BirthDate";let D;D="Start date";let R;R="End date";let L;L="Title";let F;return F="Address",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","firstName","label",i],["formControlName","lastName","label",o],["formControlName","middleName","label",e],["formControlName","nationalityId"],["formControlName","ssn","label",a],["formControlName","languageId"],[1,"tw-flex-1"],S,["startView","year",3,"rangePicker","comparisonStart","comparisonEnd"],["matStartDate","","placeholder",D,"formControlName","startBirthDate"],["matEndDate","","placeholder",R,"formControlName","endBirthDate"],["matSuffix","",3,"for"],["datePicker",""],["formControlName","sex"],["formControlName","title","label",L],["formControlName","address","label",F],[3,"actions"]];},template:function(o,e){if(o&1&&(n(0,"sz-ui-dialog-header",0),r(1,"mat-dialog-content")(2,"form",1)(3,"div",2),n(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),_(),n(6,"sz-ui-form-field-input",5),r(7,"div",2),n(8,"medisy-form-field-nationality",6)(9,"sz-ui-form-field-input",7),_(),r(10,"div",2),n(11,"medisy-form-field-language",8),r(12,"mat-form-field",9)(13,"mat-label"),z(14,10),_(),r(15,"mat-date-range-input",11),n(16,"input",12)(17,"input",13),_(),r(18,"mat-hint"),M(19,"YYYY-MM-DD - YYYY-MM-DD"),_(),n(20,"mat-datepicker-toggle",14)(21,"mat-date-range-picker",null,15),_()(),r(23,"div",2),n(24,"medisy-form-field-sex",16)(25,"sz-ui-form-field-input",17),_(),n(26,"sz-ui-form-field-input",18),_()(),n(27,"sz-ui-dialog-actions",19)),o&2){let a=Y(22);m("header",e.header),d(2),m("formGroup",e.form),d(13),m("rangePicker",a)("comparisonStart",e.form.controls.startBirthDate.value)("comparisonEnd",e.form.controls.endBirthDate.value),d(5),m("for",a),d(7),m("actions",e.actions);}},dependencies:[w,X,b,G,U,k,B,Me,fe,Pe,le,_e,W,Q,q,J,K,ae,te,re,ie,oe,ne,c,Ee,Ie,Ce,ge],encapsulation:2});let l=t;return l;})();var Fe=(()=>{let t=class t{constructor(i,o,e,a){this.dialog=i,this.mpplService=o,this.typeI18nPipe=e,this.personNamePipe=a,this.title=g.persons,this.dataSource=new ce(),this.dataSource.addRows(ue.default([T.hyperlink("names.firstName",g.name,S=>S.id,S=>a.transform(S),!1),T.text("sex","Sex",S=>e.transform(S.sex)),T.date("birthDate","BirthDate")])),this.get();}openFilterComponent(){this.dialog.open(Le,{data:this.dataSource.filter}).afterClosed().pipe(p(1)).subscribe(i=>{this.dataSource.updateFilter(i),this.get();});}openPersonScanComponent(){this.dialog.open(De).afterClosed().pipe(p(1)).subscribe(i=>{i&&(this.dataSource.filter={ssn:i.ssn},this.get());});}get(){this.mpplService.persons.get(this.dataSource.buildRequest()).pipe(de(this.dataSource.indicator),p(1)).subscribe(i=>{this.dataSource.set(i.items,i.count);});}};t.ɵfac=function(o){return new(o||t)(s(Se),s(N),s(I),s(C));},t.ɵcmp=f({type:t,selectors:[["medisy-people-persons"]],features:[u([I,v,C])],decls:6,vars:4,consts:[[3,"title"],[3,"filter","search","filterClicked"],["end","","mat-icon-button","",3,"click"],[3,"stateEnabled","dataSource","update"]],template:function(o,e){o&1&&(n(0,"sz-ui-header-info",0),r(1,"sz-ui-table-filter",1),P("search",function(){return e.get();})("filterClicked",function(){return e.openFilterComponent();}),r(2,"button",2),P("click",function(){return e.openPersonScanComponent();}),r(3,"mat-icon"),M(4,"barcode"),_()()(),r(5,"sz-ui-table",3),P("update",function(){return e.get();}),_()),o&2&&(m("title",e.title),d(1),m("filter",e.dataSource.filter),d(4),m("stateEnabled",!0)("dataSource",e.dataSource));},dependencies:[H,Oe,Ne,O,Z],encapsulation:2});let l=t;return l;})();var he=[{path:"",component:Fe}];var Lt=(()=>{let t=class t{};t.ɵfac=function(o){return new(o||t)();},t.ɵmod=A({type:t}),t.ɵinj=h({providers:[N],imports:[x.forChild(he),c,V,Te,O,ee]});let l=t;return l;})();export{Lt as PersonsModule};/**i18n:57d51d98a1caf33655ef4bd810bc01e640b40122eced811536cfa6d9191b03b1*/