import{b as $}from"./chunk-CUBRA7GV.js";import{c as Z,u as ee}from"./chunk-VUCYJ2HO.js";import{b as Y}from"./chunk-CVH4P2E2.js";import{b as W}from"./chunk-443GWC6S.js";import{a as D,b as X,c as j,e as U,f as V,g as H,h as q,i as K,j as Q}from"./chunk-SYXG226D.js";import{b as J}from"./chunk-J5ICTFNH.js";import{i as z}from"./chunk-D5DHQUZL.js";import{d as p,f as v,g as y,h as E,l as b,n as G,q as T,s as A,u as P}from"./chunk-EOQNX5GG.js";import{Y as k}from"./chunk-I2SD3VIP.js";import{c as R}from"./chunk-TM5JFVB7.js";import{ha as w,ia as x,ja as B,la as F}from"./chunk-Y7HMALTZ.js";import"./chunk-HTTNJI4B.js";import{Cc as L,E as C,Eb as h,Jb as i,Kb as s,Lb as d,Vb as u,Wb as f,ab as m,bb as l,mc as I,na as S,nb as _,nc as N,ub as O,yb as c}from"./chunk-PGHKBHIM.js";import{i as M}from"./chunk-7NJ6IGLQ.js";function ie(a,o){a&1&&d(0,"mat-progress-bar",10);}var Te=(()=>{let o=class o{constructor(n,t,e,r){this.locale=n,this.fb=t,this.router=e,this.identityService=r,this.alert=_(void 0),this.indicator=_(!1);let te=this.identityService.storage.get();this.form=this.fb.group({email:[te?.email,[p.required,p.minLength(1),p.email]]}),this.formSubscription=this.form.events.pipe(C(g=>g instanceof E)).subscribe(g=>{this.form.get("email")?.setValue(this.form.get("email")?.value.trim(),{emitEvent:!1});});}ngOnDestroy(){this.formSubscription.unsubscribe();}login(){return M(this,null,function*(){if(!ee(this.form))return!1;this.indicator.set(!0);try{yield this.identityService.login({loginHint:this.form.value.email,locale:this.locale,redirectUri:this.identityService.getBaseUrl()});}catch{this.alert.set(W.error(k.login_failed,5e3));}finally{this.indicator.set(!1);}return!0;});}};o.ɵfac=function(t){return new(t||o)(l(L),l(A),l(R),l($));},o.ɵcmp=S({type:o,selectors:[["sz-iam-auth-login"]],standalone:!0,features:[I([]),N],decls:16,vars:4,consts:()=>{let n;n="Email";let t;t="Login";let e;return e="Login",[t,e,[1,"content-center"],["svgIcon","logo",1,"logo"],[1,"tw-m-2","login-card"],[2,"padding","16px"],[3,"alert"],[3,"keyup.enter","formGroup"],["formControlName","email","label",n],["mat-button","",1,"button-submit",3,"click","disabled"],["mode","indeterminate"]];},template:function(t,e){t&1&&(i(0,"div",2),d(1,"mat-icon",3),i(2,"mat-card",4)(3,"mat-card-header")(4,"mat-card-title"),u(5,0),s()(),i(6,"mat-card-content",5),d(7,"sz-ui-alert",6),i(8,"form",7),f("keyup.enter",function(){return e.login();}),d(9,"sz-ui-form-field-input",8),s()(),i(10,"mat-card-actions")(11,"button",9),f("click",function(){return e.login();}),i(12,"span"),u(13,1),s()()(),i(14,"mat-card-footer"),O(15,ie,1,0,"mat-progress-bar",10),s()()()),t&2&&(m(7),c("alert",e.alert()),m(),c("formGroup",e.form),m(3),c("disabled",e.indicator()),m(4),h(e.indicator()?15:-1));},dependencies:[P,b,v,y,G,T,q,D,U,j,H,V,X,Q,K,z,x,w,J,F,B,Y,Z],styles:[".content-center[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.logo[_ngcontent-%COMP%]{width:128px;height:128px;transform:scale(2);margin:16px}.button-submit[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{text-align:center;margin:16px 0;font-size:12px;cursor:pointer}.login-card[_ngcontent-%COMP%]{min-width:600px}@media screen and (max-width: 992px){.login-card[_ngcontent-%COMP%]{min-width:520px}}@media screen and (max-width: 600px){.login-card[_ngcontent-%COMP%]{min-width:420px}}@media screen and (max-width: 480px){.login-card[_ngcontent-%COMP%]{min-width:100%}}"]});let a=o;return a;})();export{Te as SzAuthLoginComponent};/**i18n:5a2c0bc94bbf1ef498664455a9d60582c29bc498832d9f320f89c95b436c0516*/