"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[954],{954:(Ee,E,a)=>{a.r(E),a.d(E,{PersonsModule:()=>ue});var p=a(9808),x=a(9764),A=a(7531),S=a(5245),d=a(7423),v=a(6114),r=a(2349),R=a(1079),i=a(6346),T=a(6087),L=a(1575),P=a(7446),N=a(4107),m=a(3075),Z=a(2081),_=a(2181),F=a(7238),D=a(4623),u=a(4847),C=a(508),I=a(773),y=a(9224),M=a(5467),b=a(5701),h=a(2986),$=a(675),J=a(3869),f=a(6158),U=a(3734),e=a(5e3),g=a(7093),G=a(7322),Q=a(5006),Y=a(8991);function z(t,l){1&t&&e._UZ(0,"app-alert",13),2&t&&e.Q6J("alert",l.ngIf)}function B(t,l){if(1&t&&(e.TgZ(0,"mat-option",14),e._UZ(1,"app-sex-i18n",15),e.qZA()),2&t){const n=l.$implicit;e.Q6J("value",n),e.xp6(1),e.Q6J("key",n)}}let X=(()=>{class t extends J.a{constructor(n,o,s){super(o,n.group({sex:[s.sex]})),this.fb=n,this.dialog=o,this.data=s,this.sexes=Object.values(U.m)}handleSubmit(){this.close(this.form.value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.qu),e.Y36(r.so),e.Y36(r.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-management-persons-filter"]],features:[e._Bn([f.R]),e.qOj],decls:18,vars:8,consts:function(){let l,n,o,s;return l="Filter Results",n="Sex",o="Close",s=" Save ",[["mat-dialog-title",""],l,[3,"alert",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayout.lt-md","column wrap","fxLayoutGap","8px"],["fxFlex","1 1 100%"],["formControlName","sex","placeholder",n],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],o,["mat-flat-button","","color","primary",3,"disabled","click"],s,[3,"alert"],[3,"value"],[3,"key"]]},template:function(n,o){1&n&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,z,1,1,"app-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-select",6)(9,"mat-option"),e._uU(10,"-"),e.qZA(),e.YNc(11,B,2,2,"mat-option",7),e.qZA()()()()(),e.TgZ(12,"mat-dialog-actions",8)(13,"button",9),e.NdJ("click",function(){return o.close()}),e.SDv(14,10),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return o.submit()}),e.SDv(16,12),e.ALo(17,"async"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,o.alert$)),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(6),e.Q6J("ngForOf",o.sexes),e.xp6(4),e.Q6J("disabled",e.lcZ(17,6,o.indicator$)))},dependencies:[p.sg,p.O5,m._Y,m.JJ,m.JL,m.sg,m.u,r.uh,r.xY,r.H8,C.ey,g.xw,g.SQ,g.yH,G.KE,Q.w,d.lW,N.gD,Y.W,p.Ov],encapsulation:2}),t})();var H=a(9779),j=a(9293),K=a(3998),O=a(7544);function W(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-header-cell",23)(1,"mat-checkbox",24),e.NdJ("change",function(s){e.CHM(n);const c=e.oxw();return e.KtG(s?c.masterToggle():null)}),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function k(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-cell",23)(1,"mat-checkbox",25),e.NdJ("click",function(s){return s.stopPropagation()})("change",function(s){const fe=e.CHM(n).$implicit,ge=e.oxw();return e.KtG(s?ge.selection.toggle(fe):null)}),e.qZA()()}if(2&t){const n=l.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(n))}}function V(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&t){const n=l.$implicit,o=e.oxw();e.uIk("colspan",o.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",n===o.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",n.description," ")}}function w(t,l){1&t&&(e.TgZ(0,"mat-header-cell",26),e._uU(1," #"),e.qZA())}function q(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.hij(" ",n.id," ")}}function ee(t,l){1&t&&(e.TgZ(0,"mat-header-cell",26),e.SDv(1,27),e.qZA())}function te(t,l){if(1&t&&(e.TgZ(0,"mat-cell")(1,"div",28)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&t){const n=l.$implicit;e.xp6(4),e.hij(" ",n.name," ")}}function ne(t,l){1&t&&e._UZ(0,"mat-header-cell",23)}function oe(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(n);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.expandedElement=c.expandedElement===s?null:s)}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA()()}if(2&t){const n=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Oqu(o.expandedElement===n?"expand_less":"expand_more")}}function ae(t,l){if(1&t&&(e.TgZ(0,"mat-cell",29),e.YNc(1,oe,3,1,"button",30),e.TgZ(2,"button",31)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e._UZ(5,"mat-menu",null,32),e.qZA()),2&t){const n=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("matMenuTriggerFor",n)}}function le(t,l){1&t&&e._UZ(0,"mat-header-row")}function se(t,l){1&t&&e._UZ(0,"mat-row")}function ce(t,l){if(1&t&&(e._UZ(0,"app-table-state",33),e.ALo(1,"async")),2&t){const n=e.oxw();e.Q6J("loading",e.lcZ(1,1,n.indicator$))}}const ie=function(){return[10,25,50,100]};function me(t,l){if(1&t){const n=e.EpF();e.TgZ(0,"mat-paginator",34),e.NdJ("page",function(s){e.CHM(n);const c=e.oxw();return e.KtG(c.onPageChange(s.pageIndex,s.pageSize))}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("length",n.count)("pageSize",n.pageSize)("pageSizeOptions",e.DdM(3,ie))}}const re=[{path:"",component:(()=>{class t extends $.a{constructor(n,o){super(),this.dialog=n,this.personService=o,this.displayedColumns=["menu"],this.filter={},this.get()}openFilterComponent(){this.dialog.open(X,{autoFocus:!0,width:"480px",data:this.filter}).afterClosed().pipe((0,h.q)(1)).subscribe(o=>{o&&(this.filter=o,this.get())})}get(){const n={pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending};this.filter.sex&&(n.sex=this.filter.sex),this.personService.getPersons(n).pipe((0,b.sU)(this.indicator$)).pipe((0,h.q)(1)).subscribe(o=>{this.set(o.count,o.items)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(r.uw),e.Y36(f.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-people-management-persons"]],features:[e.qOj],decls:35,vars:11,consts:function(){let l,n;return l="Persons",n="Name",[[1,"header-basic"],[1,"title"],l,[1,"spacer"],["mat-icon-button","",3,"click"],["mat-icon-button","","matBadgeSize","small",3,"matBadge","click"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],n,[1,"table-cell-stacked"],[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e.SDv(3,2),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.search=!0}),e.TgZ(6,"mat-icon"),e._uU(7,"search"),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return o.openFilterComponent()}),e.TgZ(9,"mat-icon"),e._uU(10,"filter_list"),e.qZA()(),e.TgZ(11,"app-search-bar",6),e.NdJ("changed",function(c){return o.onSearch(c)})("closed",function(){return o.onSearchClose()}),e.qZA()(),e.TgZ(12,"app-table-selection",7)(13,"span"),e._uU(14),e.qZA(),e._UZ(15,"span",3),e.qZA(),e.TgZ(16,"mat-table",8),e.NdJ("matSortChange",function(c){return o.onSort(c.active,c.direction)}),e.ynx(17,9),e.YNc(18,W,2,2,"mat-header-cell",10),e.YNc(19,k,2,1,"mat-cell",11),e.BQk(),e.ynx(20,12),e.YNc(21,V,4,3,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,w,2,0,"mat-header-cell",15),e.YNc(24,q,2,1,"mat-cell",13),e.BQk(),e.ynx(25,16),e.YNc(26,ee,2,0,"mat-header-cell",15),e.YNc(27,te,5,1,"mat-cell",13),e.BQk(),e.ynx(28,17),e.YNc(29,ne,1,0,"mat-header-cell",10),e.YNc(30,ae,7,2,"mat-cell",18),e.BQk(),e.YNc(31,le,1,0,"mat-header-row",19),e.YNc(32,se,1,0,"mat-row",20),e.qZA(),e.YNc(33,ce,2,3,"app-table-state",21),e.YNc(34,me,1,4,"mat-paginator",22),e.qZA()),2&n&&(e.xp6(8),e.s9C("matBadge",o.getFilterCount()),e.xp6(3),e.Q6J("visible",o.search),e.xp6(1),e.Q6J("visible",o.selection.hasValue()),e.xp6(2),e.hij("",o.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",o.sortBy),e.Q6J("dataSource",o.dataSource),e.xp6(15),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===o.count),e.xp6(1),e.Q6J("ngIf",o.count>0))},dependencies:[p.O5,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,T.NW,H.R,j.H,K.N,P.oG,_.VK,_.p6,S.Hw,d.lW,u.YE,u.nU,O.k,p.Ov],encapsulation:2}),t})()}];let pe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[M.Bz.forChild(re),M.Bz]}),t})();var de=a(7775),_e=a(6849);let ue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[f.R],imports:[p.ez,m.u5,m.UX,pe,r.Is,R.Bb,x.o9,i.p0,T.TU,A.c,L.U,de.B,v.n,P.p9,_.Tx,S.Ps,d.ot,N.LD,Z.T5,F.AV,D.ie,u.JX,C.XK,_e.L,y.QW,O.g,I.Cq]}),t})()}}]);