"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[14],{7014:(ae,E,t)=>{t.r(E),t.d(E,{ReferenceValuesModule:()=>se});var g=t(6814),r=t(6223),M=t(4630),O=t(9014),p=t(2296),N=t(5195),T=t(5986),I=t(3680),i=t(7700),V=t(617),P=t(2032),y=t(9038),L=t(7988),Y=t(1476),U=t(5940),D=t(8525),F=t(3566),J=t(1545),$=t(5313),z=t(2596),Z=t(8109),x=t(6981),X=t(465),c=t(8380),B=t(758),u=t(4110),G=t(4567),Q=t(5041),b=t(7239),f=t(3572),S=t(2191),j=t(9598),W=t(8721),m=t(8180),K=t(7263),e=t(5879),C=t(4889),v=t(1175),R=t(9692),h=t(4622),A=t(6091);let H=(()=>{class a extends u.Z2{constructor(o,n,s){super(n),this.fb=o,this.dialog=n,this.data=s,this.comparisonOperators=Object.values(K.v),this.form=o.group({testClassId:[s.testClassId],unitId:[s.unitId],laboratoryId:[s.laboratoryId]})}submit(){this.IsValid()&&this.dialog?.close(this.form.value)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(r.qu),e.Y36(i.so),e.Y36(i.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["medisy-reference-values-filter"]],features:[e._Bn([]),e.qOj],decls:7,vars:6,consts:[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","unitId",3,"emptyOption"],["formControlName","testClassId",3,"emptyOption"],["formControlName","laboratoryId",3,"emptyOption"],[3,"actions"]],template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"medisy-form-field-unit",2)(4,"medisy-form-field-test-class",3)(5,"medisy-form-field-laboratory",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("emptyOption",!0),e.xp6(1),e.Q6J("actions",n.actions))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,i.xY,C.w,v.U,R.V,h.Y,A.t],encapsulation:2}),a})();var _=t(6187),q=t(5974),w=t(8873);let k=(()=>{class a extends u.Ku{constructor(o,n,s,d){super(s),this.referenceValueService=o,this.fb=n,this.dialog=s,this.data=d,this.form=n.group({description:[d?.description,[r.kI.maxLength(4096)]],testClassId:[d?.testClassId,[r.kI.required]],unitId:[d?.unitId,[]],multiplier:[d?.multiplier,[]],laboratoryId:[d?.laboratoryId,[r.kI.required]]})}submit(){this.IsValid()&&this.save(this.data?this.referenceValueService.updateReferenceValue(this.data.id,this.form.value):this.referenceValueService.createReferenceValue(this.form.value))}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(c.U),e.Y36(r.qu),e.Y36(i.so),e.Y36(i.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["medisy-analysis-management-reference-values-save"]],features:[e._Bn([_.T]),e.qOj],decls:9,vars:3,consts:function(){let l,o;return l="Description",o="Multiplier",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","label",l],["formControlName","unitId"],["formControlName","multiplier","label",o],["formControlName","testClassId"],["formControlName","laboratoryId"],[3,"actions"]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"medisy-form-field-unit",3)(5,"sz-ui-form-field-input",4)(6,"medisy-form-field-test-class",5)(7,"medisy-form-field-laboratory",6),e.qZA()(),e._UZ(8,"sz-ui-dialog-actions",7)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("actions",n.actions))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,i.xY,q.g,w.J,C.w,v.U,R.V,h.Y,A.t],encapsulation:2}),a})();var ee=t(2516),te=t(765),oe=t(4624);const ne=[{path:"",component:(()=>{class a{constructor(o,n){this.dialog=o,this.valueReferenceService=n,this.dataSource=new f.b2(j.J.paged()),this.dataSource.columns=[f.UC.hyperlink("testClass","Test class",s=>s.id,s=>s.testClass.name),f.UC.text("unit","Unit",s=>s.multiplier?`10^${s.multiplier.toExponential(0).split("e").map(d=>Number(d))[1]}/${s.unit?.abbreviation}`:s.unit?.abbreviation),S.h.createdAt(),S.h.menu([f.od.edit(s=>this.openSaveComponent(s)),f.od.delete(s=>this.openReferenceValueDeleteComponent(s))])],this.get()}openSaveComponent(o){this.dialog.open(k,{data:o}).afterClosed().pipe((0,m.q)(1)).subscribe(s=>{this.dataSource.updateOrPushItem(s)})}openFilterComponent(){this.dialog.open(H,{data:this.dataSource.filterModel}).afterClosed().pipe((0,m.q)(1)).subscribe(n=>{this.dataSource.updateFilterModel(n),this.get()})}openReferenceValueDeleteComponent(o){this.dialog.open(u.fN,{data:u.cb.delete(this.valueReferenceService.deleteReferenceValue(o.id),o)}).afterClosed().pipe((0,m.q)(1)).subscribe(s=>{this.dataSource.delete(s)})}get(){this.valueReferenceService.getReferenceValues(this.dataSource.filterModel).pipe((0,W.sU)(this.dataSource.indicator),(0,m.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(i.uw),e.Y36(c.U))},a.\u0275cmp=e.Xpm({type:a,selectors:[["medisy-laboratory-reference-values"]],decls:8,vars:4,consts:function(){let l,o;return l="Reference Values",o="Add",[["start","",1,"sz-h5"],l,[3,"dataSource","search","filter"],["mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e.SDv(2,1),e.qZA()(),e.TgZ(3,"sz-ui-table-filter",2),e.NdJ("search",function(){return n.get()})("filter",function(){return n.openFilterComponent()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()(),e.TgZ(7,"sz-ui-table",5),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[ee.z,te.K,oe.f,p.lW],encapsulation:2}),a})()}];let se=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[c.U],imports:[g.ez,r.u5,r.UX,Z.Bz.forChild(ne),i.Is,M.Bb,$.p0,Y.TU,P.c,Q.n,f.Vn,b.h,G.g,x.F,B.E3,u.su,T.p9,L.Tx,V.Ps,p.ot,D.LD,J.T5,z.AV,y.ie,F.JX,O.g,I.XK,N.QW,U.Cq,X.L,u.su]}),a})()}}]);