import{a as T,b as w,c as x}from"./chunk-YXSUZKKK.js";import{h as z}from"./chunk-JIYGV4IV.js";import{a as u}from"./chunk-LDBLW2WO.js";import{a as d}from"./chunk-VU3TSLPI.js";import{a as R,h as nt,i as st,j as mt,m as ct}from"./chunk-TRCEC3IR.js";import{b as j}from"./chunk-KIWKP6WG.js";import{d as H}from"./chunk-EVZ4I5QA.js";import{a as et,b as it,d as C,e as ot,g as rt}from"./chunk-VQ3CVIXE.js";import{A as tt}from"./chunk-75XLR4TY.js";import{A as I,J as Z,q as W,t as X,w as y,y as Y}from"./chunk-VZUJMTKN.js";import{i as $,j as at}from"./chunk-FVDEVSJ2.js";import{q as D}from"./chunk-OHNFTK26.js";import{Ja as g,r as U}from"./chunk-TT7ZQ2V6.js";import{Bb as _,Cb as A,Db as B,Eb as h,Fb as v,Gb as s,Ub as G,a as S,b as E,bb as b,da as N,ea as O,fb as c,gb as a,gc as F,ja as V,jc as l,na as p,nb as f,oa as q,pa as J,qb as K,ub as n,zb as Q}from"./chunk-CQJO6ZYU.js";var L=(()=>{let t=class t{constructor(o){this.http=o,this.basePath="softuza-portal",this.tiles=new H(this.http,`${this.basePath}/v1/tiles`),this.tileGroups=new H(this.http,`${this.basePath}/v1/tile-groups`)}};t.\u0275fac=function(i){return new(i||t)(V(U))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let e=t;return e})();var P=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=J({type:t,inputs:{id:"id"}});let e=t;return e})();var dt=(()=>{let t=class t extends P{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"science",subtitle:u.analyses,clickFn:()=>this.navigate("/mlab/analyses"),actions:[x.action(u.add,()=>this.navigate("/mlab/analyses/create"))]},this.value=null,this.indicator=b(!1),console.log(this.card),this.get()}get(){this.mlabService.analyses.count({filters:[]}).pipe(R(this.indicator)).subscribe(o=>{this.value=o})}navigate(o){this.router.navigate([o])}};t.\u0275fac=function(i){return new(i||t)(a(d),a(C),a(y))},t.\u0275cmp=p({type:t,selectors:[["medisy-laboratory-tiles-analyses-count"]],standalone:!0,features:[f,l],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(i,r){i&1&&(h(0,"sz-ui-card",0),s(1,"sz-ui-counter",1),v()),i&2&&(n("card",r.card)("indicator",r.indicator),c(),n("value",r.value))},dependencies:[z,g,D,I,w,T],encapsulation:2});let e=t;return e})();var ut=(()=>{let t=class t extends P{constructor(o,i,r){super(),this.mlabService=o,this.dialog=i,this.router=r,this.card={icon:"label",subtitle:u.specimens,clickFn:()=>this.navigate("/mlab/specimens"),actions:[x.action(u.show,()=>this.navigate("/mlab/specimens"))]},this.value=null,this.indicator=b(!1),console.log(this.card),this.get()}get(){this.mlabService.specimens.count({filters:[]}).pipe(R(this.indicator)).subscribe(o=>{this.value=o})}navigate(o){this.router.navigate([o])}};t.\u0275fac=function(i){return new(i||t)(a(d),a(C),a(y))},t.\u0275cmp=p({type:t,selectors:[["medisy-laboratory-tiles-specimens-count"]],standalone:!0,features:[f,l],decls:2,vars:3,consts:[[3,"card","indicator"],["title","",3,"value"]],template:function(i,r){i&1&&(h(0,"sz-ui-card",0),s(1,"sz-ui-counter",1),v()),i&2&&(n("card",r.card)("indicator",r.indicator),c(),n("value",r.value))},dependencies:[z,g,D,I,w,T],encapsulation:2});let e=t;return e})();var ft=(()=>{let t=class t extends nt{constructor(o,i,r,yt){super(r),this.mlabService=o,this.fb=i,this.dialog=r,this.data=yt,this.form=i.group({})}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,E(S({},this.data),{note:this.form.value.note})))}};t.\u0275fac=function(i){return new(i||t)(a(d),a(W),a(et),a(it))},t.\u0275cmp=p({type:t,selectors:[["medisy-dashboard-save"]],standalone:!0,features:[F([d]),f,l],decls:3,vars:2,consts:[[3,"header"],[3,"actions"]],template:function(i,r){i&1&&s(0,"sz-ui-dialog-header",0)(1,"mat-dialog-content")(2,"sz-ui-dialog-actions",1),i&2&&(n("header",r.header),c(2),n("actions",r.actions))},dependencies:[X,rt,ot,ct,st,mt,tt],encapsulation:2});let e=t;return e})();function Ct(e,t){if(e&1&&s(0,"medisy-laboratory-tiles-analyses-count",3),e&2){let m=G().$implicit;n("id",m.id)}}function Mt(e,t){if(e&1&&s(0,"medisy-laboratory-tiles-specimens-count",3),e&2){let m=G().$implicit;n("id",m.id)}}function St(e,t){if(e&1&&K(0,Ct,1,1,"medisy-laboratory-tiles-analyses-count",3)(1,Mt,1,1),e&2){let m=t.$implicit;Q(0,m.tileType.identifier==="analyses-count"?0:m.tileType.identifier==="specimens-count"?1:-1)}}function bt(e,t){if(e&1&&(s(0,"sz-ui-header-info",1),h(1,"div",2),A(2,St,2,1,null,null,_),v()),e&2){let m=t.$implicit;n("title",m.name)("subTitle",m.description),c(2),B(m.tiles)}}var ht=(()=>{let t=class t{constructor(o,i,r){this.sprtService=o,this.dialog=i,this.router=r,this.tileGroups=[],this.title=u.dashboard,this.menu=at.more([$.edit(()=>this.openSaveComponent()),$.divider()]),this.get()}openSaveComponent(){this.dialog.open(ft,{data:null}).afterClosed().subscribe(o=>{})}get(){this.sprtService.tileGroups.get(S({},Z.unpaged())).subscribe(o=>{this.tileGroups=o.items})}};t.\u0275fac=function(i){return new(i||t)(a(L),a(C),a(y))},t.\u0275cmp=p({type:t,selectors:[["medisy-dashboard"]],standalone:!0,features:[F([L]),l],decls:3,vars:2,consts:[[3,"title","menu"],[3,"title","subTitle"],[1,"sz-grid-card","tw-mb-2"],[3,"id"]],template:function(i,r){i&1&&(s(0,"sz-ui-header-info",0),A(1,bt,4,2,null,null,_)),i&2&&(n("title",r.title)("menu",r.menu),c(),B(r.tileGroups))},dependencies:[j,dt,ut],encapsulation:2});let e=t;return e})();var vt=[{path:"",component:ht}];var Ae=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=q({type:t}),t.\u0275inj=O({imports:[Y.forChild(vt),g,j]});let e=t;return e})();export{Ae as DashboardModule};
/**i18n:70191478f6ac7be8bdb3241746fcd9e1f236a6362603c105af1f0a7330a6840e*/
