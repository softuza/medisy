"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[559],{2559:(pe,L,i)=>{i.r(L),i.d(L,{PersonModule:()=>ue});var v=i(6814),_=i(6223),N=i(2296),Z=i(5195),y=i(5986),z=i(3680),S=i(7700),D=i(6385),U=i(9157),R=i(617),b=i(2032),O=i(7988),X=i(1476),J=i(8525),G=i(3566),V=i(5313),P=i(8109),x=i(6981),Q=i(465),q=i(6576),u=i(5348),F=i(4407),H=i(2595),K=i(2169),E=i(6750),W=i(9004),B=i(5041),j=i(8766),l=i(8874),p=i(2191),M=i(7277),f=i(2119),d=i(8180),e=i(5879),g=i(4622),h=i(6091),C=i(5974),Y=i(8873),w=i(2406);let k=(()=>{class t extends E.Ku{constructor(o,n,a,r){super(a),this.personService=o,this.fb=n,this.dialog=a,this.data=r,this.form=n.group({value:[r.personEmail?.value,[_.kI.required,_.kI.email]],emailType:[r.personEmail?.emailType,[_.kI.required]],description:[r.personEmail?.description,[]]})}submit(){this.IsValid()&&this.save(this.data.personEmail?this.personService.updatePersonEmail(this.data.personId,this.data.personEmail.id,this.form.value):this.personService.createPersonEmail(this.data.personId,this.form.value))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.R),e.Y36(_.qu),e.Y36(S.so),e.Y36(S.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-emails-save"]],features:[e._Bn([]),e.qOj],decls:7,vars:3,consts:function(){let s,o;return s="Description",o="Email",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","placeholder",s],["formControlName","value","placeholder",o],["formControlName","emailType"],[3,"actions"]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-email-type",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("actions",n.actions))},dependencies:[_._Y,_.JJ,_.JL,_.sg,_.u,g.Y,h.t,C.g,Y.J,w.N,S.xY],encapsulation:2}),t})();var T=i(9692),A=i(9288),m=i(2516),c=i(9060);let ee=(()=>{class t{constructor(o,n,a){this.dialog=o,this.personService=n,this.route=a,this.dataSource=new l.b2(M.q.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[l.De.column.text("value","Email"),p.N.column.createdAt(),p.N.column.menu([l.De.action.edit(r=>this.openSaveComponent(r)),l.De.action.delete(r=>this.openPersonEmailDeleteComponent(r))])],this.get()}openSaveComponent(o){this.dialog.open(k,{data:{personId:this.person.id,personEmail:o}}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.updateOrPushItem(a)})}openPersonEmailDeleteComponent(o){this.dialog.open(E.fN,{data:E.a8.delete(this.personService.deletePersonEmail(o.personId,o.id),o.id)}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.delete(a)})}get(){this.personService.getPersonEmails(this.person.id,this.dataSource.filterModel).pipe((0,f.sU)(this.dataSource.indicator),(0,d.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(S.uw),e.Y36(u.R),e.Y36(P.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-emails"]],decls:12,vars:7,consts:function(){let s,o;return s="Emails",o="Add",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return n.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,n.person)),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[P.rH,T.K,A.f,m.z,N.lW,c.Y],encapsulation:2}),t})();var oe=i(851);let ne=(()=>{class t extends E.Ku{constructor(o,n,a,r){super(a),this.personService=o,this.fb=n,this.dialog=a,this.data=r,this.form=n.group({firstName:[r.personName?.firstName,[_.kI.required,_.kI.minLength(1)]],lastName:[r.personName?.lastName,[]],middleName:[r.personName?.middleName,[]],languageId:[r.personName?.languageId,[_.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personName?this.personService.updatePersonName(this.data.personId,this.data.personName.id,this.form.value):this.personService.createPersonName(this.data.personId,this.form.value))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.R),e.Y36(_.qu),e.Y36(S.so),e.Y36(S.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-names-save"]],features:[e._Bn([]),e.qOj],decls:9,vars:3,consts:function(){let s,o,n;return s="First name",o="Last name",n="Middle name",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],["formControlName","firstName","label",s],["formControlName","lastName","label",o],["formControlName","middleName","label",n],["formControlName","languageId"],[3,"actions"]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),e._UZ(4,"sz-ui-form-field-input",3)(5,"sz-ui-form-field-input",4),e.qZA(),e._UZ(6,"sz-ui-form-field-input",5)(7,"medisy-form-field-language",6),e.qZA()(),e._UZ(8,"sz-ui-dialog-actions",7)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("actions",n.actions))},dependencies:[_._Y,_.JJ,_.JL,_.sg,_.u,g.Y,h.t,C.g,oe.d,S.xY],encapsulation:2}),t})(),te=(()=>{class t{constructor(o,n,a){this.dialog=o,this.personService=n,this.route=a,this.dataSource=new l.b2(M.q.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[l.De.column.text("firstName","First name"),l.De.column.text("middleName","Middle name"),l.De.column.text("lastName","Last name"),p.N.column.createdAt(),p.N.column.menu([l.De.action.edit(r=>this.openSaveComponent(r)),l.De.action.delete(r=>this.openPersonNameDeleteComponent(r))])],this.get()}openSaveComponent(o){this.dialog.open(ne,{data:{personId:this.person.id,personName:o}}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.updateOrPushItem(a)})}openPersonNameDeleteComponent(o){this.dialog.open(E.fN,{data:E.a8.delete(this.personService.deletePersonName(o.personId,o.id),o.id)}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.delete(a)})}get(){this.personService.getPersonNames(this.person.id,this.dataSource.filterModel).pipe((0,f.sU)(this.dataSource.indicator),(0,d.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(S.uw),e.Y36(u.R),e.Y36(P.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-names"]],decls:12,vars:7,consts:function(){let s,o;return s="Names",o="Add",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return n.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,n.person)),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[P.rH,T.K,A.f,m.z,N.lW,c.Y],encapsulation:2}),t})();var se=i(1101),ae=i(408);let ie=(()=>{class t extends E.Ku{constructor(o,n,a,r){super(a),this.personService=o,this.fb=n,this.dialog=a,this.data=r,this.form=n.group({value:[r?.personPhone?.value,[_.kI.required]],description:[r?.personPhone?.description,[]],phoneType:[r?.personPhone?.phoneType??se.z.Mobile,[_.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.personPhone?this.personService.updatePersonPhone(this.data.personId,this.data.personPhone.id,this.form.value):this.personService.createPersonPhone(this.data.personId,this.form.value))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.R),e.Y36(_.qu),e.Y36(S.so),e.Y36(S.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-phones-save"]],features:[e._Bn([]),e.qOj],decls:7,vars:3,consts:function(){let s,o;return s="Description",o="Number",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","description","label",s],["formControlName","value","label",o],["formControlName","phoneType"],[3,"actions"]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-textarea",2)(4,"sz-ui-form-field-input",3)(5,"medisy-form-field-phone-type",4),e.qZA()(),e._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("actions",n.actions))},dependencies:[_._Y,_.JJ,_.JL,_.sg,_.u,g.Y,h.t,C.g,Y.J,ae.I,S.xY],encapsulation:2}),t})(),re=(()=>{class t{constructor(o,n,a){this.dialog=o,this.personService=n,this.route=a,this.dataSource=new l.b2(M.q.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[l.De.column.text("value","Phone"),p.N.column.createdAt(),p.N.column.menu([l.De.action.edit(r=>this.openSaveComponent(r)),l.De.action.delete(r=>this.openPersonPhoneDeleteComponent(r))])],this.get()}openSaveComponent(o){this.dialog.open(ie,{data:{personId:this.person.id,personPhone:o}}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.updateOrPushItem(a)})}openPersonPhoneDeleteComponent(o){this.dialog.open(E.fN,{data:E.a8.delete(this.personService.deletePersonPhone(o.personId,o.id),o.id)}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.delete(a)})}get(){this.personService.getPersonPhones(this.person.id,this.dataSource.filterModel).pipe((0,f.sU)(this.dataSource.indicator),(0,d.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(S.uw),e.Y36(u.R),e.Y36(P.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-phones"]],decls:12,vars:7,consts:function(){let s,o;return s="Phones",o="Add",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return n.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,n.person)),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[P.rH,T.K,A.f,m.z,N.lW,c.Y],encapsulation:2}),t})();var $=i(5738),_e=i(8145),le=i(2286);function Se(t,s){if(1&t&&(e.TgZ(0,"sz-ui-card",15),e._UZ(1,"sz-ui-counter",16),e.qZA()),2&t){const o=s.$implicit;e.Q6J("card",o),e.xp6(1),e.Q6J("value",null==o?null:o.counter)}}let Ee=(()=>{class t{constructor(o,n,a){this.analysisService=o,this.route=n,this.router=a,this.items=[{counter:0,icon:"science",subtitle:"Analyses",loading:!0}],this.person=this.route.snapshot.data.person,this.getAnlysesCount()}getAnlysesCount(){this.analysisService.getAnalysesCount({personIds:[this.person.id]}).subscribe(o=>{this.items[0].counter=o.count,this.items[0].loading=!1})}navigate(o){o&&o.url&&this.router.navigate([o.url])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36($.K),e.Y36(P.gz),e.Y36(P.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-peopel-person"]],features:[e._Bn([$.K])],decls:37,vars:5,consts:function(){let s,o,n,a,r;return s="Edit",o="Names",n="Phones",a="Emails",r="Nationalities",[["start","",1,"sz-h5"],["mat-icon-button","","end","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item",""],s,["mat-menu-item","","routerLink","names"],o,["mat-menu-item","","routerLink","phones"],n,["mat-menu-item","","routerLink","emails"],a,["mat-menu-item","","routerLink","nationalities"],r,[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],["title","",2,"font-size","24px",3,"value"]]},template:function(o,n){if(1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"h5",0),e._uU(2),e.ALo(3,"personName"),e.qZA(),e.TgZ(4,"button",1)(5,"mat-icon"),e._uU(6,"more_vert"),e.qZA()(),e.TgZ(7,"mat-menu",null,2)(9,"button",3)(10,"mat-icon"),e._uU(11,"edit"),e.qZA(),e.TgZ(12,"span"),e.SDv(13,4),e.qZA()(),e._UZ(14,"mat-divider"),e.TgZ(15,"button",5)(16,"mat-icon"),e._uU(17,"info"),e.qZA(),e.TgZ(18,"span"),e.SDv(19,6),e.qZA()(),e.TgZ(20,"button",7)(21,"mat-icon"),e._uU(22,"phone"),e.qZA(),e.TgZ(23,"span"),e.SDv(24,8),e.qZA()(),e.TgZ(25,"button",9)(26,"mat-icon"),e._uU(27,"email"),e.qZA(),e.TgZ(28,"span"),e.SDv(29,10),e.qZA()(),e.TgZ(30,"button",11)(31,"mat-icon"),e._uU(32,"badge"),e.qZA(),e.TgZ(33,"span"),e.SDv(34,12),e.qZA()()()(),e.TgZ(35,"div",13),e.YNc(36,Se,2,2,"sz-ui-card",14),e.qZA()),2&o){const a=e.MAs(8);e.xp6(2),e.Oqu(e.lcZ(3,3,n.person)),e.xp6(2),e.Q6J("matMenuTriggerFor",a),e.xp6(32),e.Q6J("ngForOf",n.items)}},dependencies:[v.sg,P.rH,R.Hw,O.VK,O.OP,O.p6,_e.R,le.A,m.z,D.d,N.RK,c.Y],encapsulation:2}),t})(),Pe=(()=>{class t extends E.Ku{constructor(o,n,a,r){super(a),this.personService=o,this.fb=n,this.dialog=a,this.data=r,this.form=n.group({ssn:[r.personNationality?.ssn,[_.kI.maxLength(24)]]})}submit(){this.IsValid()&&this.save(this.data.personNationality?this.personService.updatePersonNationality(this.data.personId,this.data.personNationality.id,this.form.value):this.personService.createPersonNationality(this.data.personId,this.form.value))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.R),e.Y36(_.qu),e.Y36(S.so),e.Y36(S.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-nationalities-save"]],features:[e._Bn([]),e.qOj],decls:5,vars:3,consts:function(){let s;return s="SSN",[[3,"header"],[1,"tw-flex","tw-flex-col",3,"formGroup"],["formControlName","ssn","placeholder",s],[3,"actions"]]},template:function(o,n){1&o&&(e._UZ(0,"sz-ui-dialog-header",0),e.TgZ(1,"mat-dialog-content")(2,"form",1),e._UZ(3,"sz-ui-form-field-input",2),e.qZA()(),e._UZ(4,"sz-ui-dialog-actions",3)),2&o&&(e.Q6J("header",n.header),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("actions",n.actions))},dependencies:[_._Y,_.JJ,_.JL,_.sg,_.u,g.Y,h.t,C.g,S.xY],encapsulation:2}),t})();const de=[{path:"",component:Ee},{path:"names",component:te},{path:"phones",component:re},{path:"emails",component:ee},{path:"nationalities",component:(()=>{class t{constructor(o,n,a){this.dialog=o,this.personService=n,this.route=a,this.dataSource=new l.b2(M.q.paged()),this.person=this.route.snapshot.data.person,this.dataSource.columns=[l.De.column.text("ssn","SSN"),p.N.column.createdAt(),p.N.column.menu([l.De.action.edit(r=>this.openSaveComponent(r)),l.De.action.delete(r=>this.openPersonNationalityDeleteComponent(r))])],this.get()}openSaveComponent(o){this.dialog.open(Pe,{data:{personId:this.person.id,personNationality:o}}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.updateOrPushItem(a)})}openPersonNationalityDeleteComponent(o){this.dialog.open(E.fN,{data:E.a8.delete(this.personService.deletePersonNationality(o.personId,o.id),o.id)}).afterClosed().pipe((0,d.q)(1)).subscribe(a=>{this.dataSource.delete(a)})}get(){this.personService.getPersonNationalities(this.person.id,this.dataSource.filterModel).pipe((0,f.sU)(this.dataSource.indicator),(0,d.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(S.uw),e.Y36(u.R),e.Y36(P.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["medisy-people-person-nationalities"]],decls:12,vars:7,consts:function(){let s,o;return s="Nationalities",o="Add",[["start",""],[1,"sz-h5"],s,["routerLink","../",1,"tw-underline"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,n){1&o&&(e.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.ALo(6,"personName"),e.qZA()()(),e.TgZ(7,"sz-ui-table-filter",4),e.NdJ("search",function(){return n.get()}),e.TgZ(8,"button",5),e.NdJ("click",function(){return n.openSaveComponent()}),e.TgZ(9,"span"),e.SDv(10,6),e.qZA()()(),e.TgZ(11,"sz-ui-table",7),e.NdJ("update",function(){return n.get()}),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,5,n.person)),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(4),e.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",n.dataSource))},dependencies:[P.rH,T.K,A.f,m.z,N.lW,c.Y],encapsulation:2}),t})()}];let ue=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[u.R],imports:[v.ez,_.u5,_.UX,P.Bz.forChild(de),Z.QW,R.Ps,O.Tx,K.c,H.V,l.Vn,j.h,F.E,E.su,W.g,x.F,B.n,V.p0,X.TU,G.JX,D.t,y.p9,S.Is,z.Ng,U.lN,N.ot,J.LD,b.c,q.f,Q.L]}),t})()}}]);