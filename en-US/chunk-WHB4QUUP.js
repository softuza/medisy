import{a as Me,b as Ce,c as Pe}from"./chunk-7AGUCOKQ.js";import{a as L}from"./chunk-ERVL3GOK.js";import{a as x,b as de}from"./chunk-HWOUZEAB.js";import{a as Q,b as V,c as W,d as Z,e as ee,f as te,g as ie,h as oe}from"./chunk-YGCATYA7.js";import{a as fe}from"./chunk-DJWTHWUI.js";import{a as d}from"./chunk-7ZD52CWE.js";import{a as M}from"./chunk-7CIDS4TF.js";import{a as b}from"./chunk-6DKJWGK3.js";import{g as D}from"./chunk-AYD4YNQF.js";import"./chunk-ZENDRPYK.js";import"./chunk-RZHUD44O.js";import{b as _e,d as Se}from"./chunk-VZORMXP2.js";import{c as ce}from"./chunk-4L7MXCYU.js";import{d as pe,g as le}from"./chunk-MLSRSUWT.js";import"./chunk-VNFB3LL3.js";import"./chunk-IGZ5UQAZ.js";import{a as f}from"./chunk-ANLAVR6W.js";import{a as R}from"./chunk-O5KLIVQ3.js";import"./chunk-N2JBPDEJ.js";import{a as O}from"./chunk-HSBTPXYW.js";import{a as w,c as q,d as J,e as v,f as ae,g as me}from"./chunk-7EL7DJOA.js";import"./chunk-PHZ6OWUT.js";import{a as K,c as T}from"./chunk-45S7AHWB.js";import{b as g,c as y,d as ue}from"./chunk-5SBZSLWN.js";import"./chunk-FVPLSC3A.js";import"./chunk-5YXUG2NC.js";import"./chunk-25UH3N2F.js";import{a as ne,b as re}from"./chunk-YSHIJLQQ.js";import{Ra as se,o as k}from"./chunk-5YRGD4YU.js";import{$b as U,Ab as a,Bb as r,Cb as p,L as B,Mb as $,Qb as P,Vb as l,Wb as u,Xb as z,Yb as N,_a as h,bc as X,cb as s,da as j,db as m,dc as E,ec as A,la as I,ma as F,nb as C,tb as _,ub as S,yb as G,zb as H}from"./chunk-MK3KDUIH.js";function Re(e,t){if(e&1&&(a(0,"p"),l(1),E(2,"personName"),r()),e&2){let c=P();s(1),z("",A(2,1,c.person==null?null:c.person.father)," ");}}function ge(e,t){if(e&1&&(a(0,"p"),l(1),E(2,"personName"),r()),e&2){let c=P();s(1),z("",A(2,1,c.person==null?null:c.person.mother)," ");}}function De(e,t){e&1&&(a(0,"mat-card-footer"),p(1,"mat-progress-bar",4),r());}var be=e=>[e],Y=(()=>{let t=class t{set personId(n){this._personId=n,this.getPerson(n);}get personId(){return this._personId;}constructor(n,i,o){this.mpplService=n,this.typeI18nPipe=i,this.personNamePipe=o,this.indicator=h(!1);}getPerson(n){this.mpplService.persons.getById(n).pipe(B(1),ce(this.indicator)).subscribe(i=>{this.person=i;});}};t.ɵfac=function(i){return new(i||t)(m(M),m(D),m(d));},t.ɵcmp=I({type:t,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[N([D]),U],decls:18,vars:12,consts:()=>{let n;n="Patient";let i;return i="More",[[1,"example-card"],n,["mat-button","",3,"routerLink"],i,["mode","indeterminate"]];},template:function(i,o){i&1&&(a(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-subtitle"),$(3,1),r(),a(4,"mat-card-title"),l(5),E(6,"personName"),r()(),a(7,"mat-card-content")(8,"p"),l(9),E(10,"personAge"),r(),_(11,Re,3,3,"p")(12,ge,3,3,"p"),p(13,"mat-divider"),r(),a(14,"mat-card-actions")(15,"button",2),$(16,3),r()(),_(17,De,2,0,"mat-card-footer"),r()),i&2&&(s(5),u(A(6,6,o.person)),s(4),u(A(10,8,o.person==null?null:o.person.birthDate)),s(2),S(11,o.person!=null&&o.person.father?11:-1),s(1),S(12,o.person!=null&&o.person.mother?12:-1),s(3),C("routerLink",X(10,be,"/mppl/persons/"+o.personId)),s(2),S(17,o.indicator()?17:-1));},dependencies:[v,J,oe,Q,ee,W,ie,te,Z,V,me,ae,re,ne,T,K,d,fe],encapsulation:2});let e=t;return e;})();var Ye=()=>[L];function $e(e,t){if(e&1&&p(0,"medisy-people-persons-common-person-card",5),e&2){let c=P();C("personId",c.analysis.personId);}}function ze(e,t){e&1&&p(0,"medisy-laboratory-analysis-specimens");}var Ae=(()=>{let t=class t{constructor(n,i,o,Ie,he,Ne){this.dialog=n,this.route=i,this.router=o,this.mlabService=Ie,this.mpplService=he,this.personNamePipe=Ne,this.alert$=h(void 0),this.testsDataSource=new _e(O.pagedSorted("-createdAt")),this.tiles=[],this.analysisMenu=ue.more([y.edit(()=>this.openEditComponent),y.print(()=>this.openEditComponent),y.divider(),y.default("Publish","publish",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis,this.buildTiles();}buildTiles(){let n={icon:"science",subtitle:"Tests",type:x.Counter,clickFn:()=>this.router.navigate(["tests"],{relativeTo:this.route})},i={icon:"label",subtitle:"Specimens",type:x.Counter,clickFn:()=>this.router.navigate(["specimens"],{relativeTo:this.route})};this.mlabService.analyses.tests.count(this.analysis.id,O.count()).subscribe(o=>{n.title=o;}),this.mlabService.analyses.specimens.count(this.analysis.id,O.count()).subscribe(o=>{i.title=o;}),this.tiles.push(n),this.tiles.push(i);}openEditComponent(){}opendPrintComponent(){}openPublishComponent(){}};t.ɵfac=function(i){return new(i||t)(m(pe),m(w),m(q),m(f),m(M),m(d));},t.ɵcmp=I({type:t,selectors:[["medisy-laboratory-analysis"]],features:[N([f,M,d])],decls:16,vars:4,consts:()=>{let n;n="Tests";let i;return i="Specimens",[["start",""],[1,"sz-h5"],[1,"tw-text-sm"],["end","",3,"menu"],[1,"sz-grid-card","tw-my-4"],[3,"personId"],["mat-stretch-tabs","false"],["label",n],["label",i]];},template:function(i,o){i&1&&(a(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),l(3),r(),a(4,"span",2),l(5),r()(),p(6,"sz-ui-menu",3),r(),a(7,"div",4),_(8,$e,1,1,"medisy-people-persons-common-person-card",5),r(),a(9,"mat-tab-group",6)(10,"mat-tab",7),p(11,"medisy-laboratory-analysis-tests"),r(),a(12,"mat-tab",8),_(13,ze,1,0),G(14,13,Ye),H(),r()()),i&2&&(s(3),u(o.analysis.code),s(2),u(o.analysis.note),s(1),C("menu",o.analysisMenu),s(2),S(8,o.analysis.personId?8:-1));},dependencies:[Me,Ce,R,g,b,Y],encapsulation:2});let e=t;return e;})();var ye=[{path:"",component:Ae},{path:"tests",loadComponent:()=>import("./chunk-DJ4CX4PP.js").then(e=>e.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-J3LLEPVU.js").then(e=>e.AnalysisSpecimensComponent)}];var Gt=(()=>{let t=class t{};t.ɵfac=function(i){return new(i||t)();},t.ɵmod=F({type:t}),t.ɵinj=j({providers:[f],imports:[k,v.forChild(ye),le,se,T,Se,Pe,R,de,g,b,L,Y]});let e=t;return e;})();export{Gt as AnalysisModule};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/