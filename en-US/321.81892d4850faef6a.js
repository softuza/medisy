"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[321],{2321:(E,m,e)=>{e.r(m),e.d(m,{LaboratoryTestGroupsComponent:()=>I});var n=e(2296),T=e(5986),y=e(8109),r=e(2191),p=e(4110),h=e(5041),c=e(3572),f=e(9598),C=e(8721),b=e(8180),u=e(6223),S=e(7700),A=e(6981),t=e(5879),O=e(8652),G=e(4622),v=e(6091),_=e(5467);const g=function(l){return[l]};let L=(()=>{class l extends p.Ku{constructor(o,a,d,s){super(d),this.laboratoryService=o,this.fb=a,this.dialog=d,this.data=s,this.form=a.group({enabled:[s.laboratoryTestGroup?.enabled??!0,[u.kI.required]],testGroupId:[s.laboratoryTestGroup?.testGroupId,[u.kI.required]]})}submit(){this.IsValid()&&this.save(this.data.laboratoryTestGroup?this.laboratoryService.updateLaboratoryTestGroup(this.data.laboratoryId,this.data.laboratoryTestGroup?.id,this.form.value):this.laboratoryService.createLaboratoryTestGroup(this.data.laboratoryId,this.form.value))}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(O.v),t.Y36(u.qu),t.Y36(S.so),t.Y36(S.WI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-laboratory-test-groups-save"]],standalone:!0,features:[t.qOj,t.jDz],decls:7,vars:6,consts:function(){let i;return i="Enabled",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","testGroupId",3,"excludeLaboratoryIds"],["formControlName","enabled"],i,[3,"actions"]]},template:function(o,a){1&o&&(t._UZ(0,"sz-ui-dialog-header",0),t.TgZ(1,"mat-dialog-content")(2,"form",1),t._UZ(3,"medisy-form-field-test-group-select",2),t.TgZ(4,"mat-checkbox",3),t.SDv(5,4),t.qZA()()(),t._UZ(6,"sz-ui-dialog-actions",5)),2&o&&(t.Q6J("header",a.header),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("excludeLaboratoryIds",t.VKq(4,g,a.data.laboratoryId)),t.xp6(3),t.Q6J("actions",a.actions))},dependencies:[u.UX,u._Y,u.JJ,u.JL,u.sg,u.u,p.su,G.Y,v.t,S.Is,S.xY,T.p9,T.oG,A.F,_.Q],encapsulation:2}),l})();var R=e(2516),P=e(6939),M=e(3144);let I=(()=>{class l{constructor(o,a,d){this.dialog=o,this.laboratoryService=a,this.route=d,this.dataSource=new c.b2(f.J.paged()),this.laboratory=this.route.snapshot.data.laboratory,this.dataSource.columns=[c.UC.text("testGroup","Test Group",s=>s.testGroup.name),r.h.createdAt(),c.UC.checkbox("enabled","Enabled",(s,U)=>{s.enabled=U,this.laboratoryService.updateLaboratoryTestGroup(s.laboratoryId,s.id,s).pipe((0,b.q)(1)).subscribe(Y=>{s=Y})}),r.h.menu([c.od.edit(s=>{this.openSaveComponent(s)}),c.od.delete(s=>{this.openLaboratoryTestGroupDeleteComponent(s)})])],this.get()}openSaveComponent(o){this.dialog.open(L,{data:{laboratoryId:this.laboratory.id,laboratoryTestGroup:o}}).afterClosed().pipe((0,b.q)(1)).subscribe(d=>{this.dataSource.updateOrPushItem(d)})}openLaboratoryTestGroupDeleteComponent(o){this.dialog.open(p.fN,{data:p.cb.delete(this.laboratoryService.deleteLaboratoryTestGroup(o.laboratoryId,o.id),o)}).afterClosed().pipe((0,b.q)(1)).subscribe(d=>{this.dataSource.delete(d)})}get(){this.laboratoryService.getLaboratoryTestGroups(this.laboratory.id,this.dataSource.filterModel).pipe((0,C.sU)(this.dataSource.indicator)).pipe((0,b.q)(1)).subscribe(o=>{this.dataSource.set(o.items,o.count)})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(S.uw),t.Y36(O.v),t.Y36(y.gz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["medisy-laboratory-test-groups"]],standalone:!0,features:[t.jDz],decls:11,vars:5,consts:function(){let i,o;return i="Test Groups",o="Add",[["start",""],[1,"sz-h5"],i,["routerLink","../",1,"tw-underline","tw-text-sm"],[3,"dataSource","search"],["title","","mat-flat-button","","color","primary","start","",3,"click"],o,[3,"paginationEnabled","stateEnabled","dataSource","update"]]},template:function(o,a){1&o&&(t.TgZ(0,"sz-ui-header-basic")(1,"div",0)(2,"h5",1),t.SDv(3,2),t.qZA(),t.TgZ(4,"a",3),t._uU(5),t.qZA()()(),t.TgZ(6,"sz-ui-table-filter",4),t.NdJ("search",function(){return a.get()}),t.TgZ(7,"button",5),t.NdJ("click",function(){return a.openSaveComponent()}),t.TgZ(8,"span"),t.SDv(9,6),t.qZA()()(),t.TgZ(10,"sz-ui-table",7),t.NdJ("update",function(){return a.get()}),t.qZA()),2&o&&(t.xp6(5),t.Oqu(a.laboratory.name),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(4),t.Q6J("paginationEnabled",!0)("stateEnabled",!0)("dataSource",a.dataSource))},dependencies:[y.Bz,y.rH,h.n,R.z,c.Vn,P.K,M.f,T.p9,n.ot,n.lW],encapsulation:2}),l})()},2191:(E,m,e)=>{e.d(m,{h:()=>T});var n=e(3572);class T{static menu(r){return n.UC.action("menu",r)}static code(){return n.UC.text("code","Code")}static createdAt(){return n.UC.date("createdAt","Created Date")}static updatedAt(){return n.UC.date("updatedAt","Updated Date")}static id(){return n.UC.text("id","Id")}static nameHyperlink(r,p,h){return n.UC.hyperlink("name","Name",r,p,h)}static nameText(r){return n.UC.text("name","Name",r)}static phoneType(r){return n.UC.text("phoneType","Phone Type",r)}static emailType(r){return n.UC.text("emailType","Email Type",r)}static documentType(r){return n.UC.text("documentType","Document Type",r)}static comparisonOperator(r){return n.UC.text("comparisonOperator","Comparison Operator",r)}}}}]);