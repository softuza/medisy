import{c as o,g as p}from"./chunk-AYD4YNQF.js";import{b as P}from"./chunk-RZHUD44O.js";import{a as l,b as R,c as A,o as w,p as E}from"./chunk-VZORMXP2.js";import{c as M,l as I,n as _}from"./chunk-4L7MXCYU.js";import{d as z}from"./chunk-MLSRSUWT.js";import{a as n}from"./chunk-ANLAVR6W.js";import{a as D}from"./chunk-HSBTPXYW.js";import{a as v,e as T}from"./chunk-7EL7DJOA.js";import{c as d}from"./chunk-5SBZSLWN.js";import{$b as g,Ab as y,Bb as h,L as m,Ob as b,Yb as C,db as s,la as f,nb as S}from"./chunk-MK3KDUIH.js";var Z=(()=>{let a=class a{constructor(e,i,r,u){this.route=e,this.dialog=i,this.mlabService=r,this.typeI18nPipe=u,this.dataSource=new R(D.unpagedSorted("test.testClass")),this.analysis=this.route.snapshot.data.analysis,this.dataSource.addRows(A.default([l.icon("test.state","State",t=>{switch(t.test.state){case o.Created:return"";case o.Pending:return"pending_actions";case o.Started:return"sync";case o.Finished:return"check_circle_outline";default:return"";}}).makeCompact(),l.text("test.testclass","Test Class",t=>t.test.testClass.name),l.text("test.referenceGroup","Reference Group",t=>t.test.referenceGroup.id),P.menu([d.delete(t=>this.openDeleteAnalysisTestComponent(t)),d.divider(),d.delete(t=>this.openDeleteAnalysisTestComponent(t))])])),this.get();}openDeleteAnalysisTestComponent(e){this.dialog.open(I,{data:_.delete(this.mlabService.analyses.tests.delete(e.analysisId,e.id),e)}).afterClosed().pipe(m(1)).subscribe(i=>{this.dataSource.delete(i);});}get(){this.mlabService.analyses.tests.get(this.analysis.id,this.dataSource.filterModel).pipe(M(this.dataSource.indicator)).pipe(m(1)).subscribe(e=>{this.dataSource.set(e.items,e.count);});}};a.ɵfac=function(i){return new(i||a)(s(v),s(z),s(n),s(p));},a.ɵcmp=f({type:a,selectors:[["medisy-laboratory-analysis-tests"]],standalone:!0,features:[C([n,p]),g],decls:1,vars:3,consts:[[3,"paginationEnabled","stateEnabled","dataSource","update"]],template:function(i,r){i&1&&(y(0,"sz-ui-table",0),b("update",function(){return r.get();}),h()),i&2&&S("paginationEnabled",!1)("stateEnabled",!0)("dataSource",r.dataSource);},dependencies:[T,E,w],encapsulation:2});let c=a;return c;})();export{Z as a};/**i18n:33360f080214f876987bd0ecc2f51b8308b133d904c534ef8c974004cf54d934*/