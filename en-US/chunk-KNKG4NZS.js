import{a as Me,b as Ce,c as Ae}from"./chunk-ZTXSPDKN.js";import{a as L}from"./chunk-XRLQA5FC.js";import"./chunk-RZJGFBXK.js";import{a as E}from"./chunk-2EZ7I6ZB.js";import{h as Q}from"./chunk-FWZEH63T.js";import"./chunk-EIONBHM2.js";import"./chunk-Z5OWQGVK.js";import{b as _e}from"./chunk-EFEERWMK.js";import{a as T}from"./chunk-23U5OAWX.js";import{a as D}from"./chunk-WMELU7HW.js";import{a as O}from"./chunk-S4PSXOSZ.js";import"./chunk-OG4VBX66.js";import{h as ue,r as Se}from"./chunk-E5Q3P6TR.js";import{a as b}from"./chunk-JHPSZAE5.js";import{a}from"./chunk-LAXXIHXK.js";import{c as pe,h as le,i as de,j as ce,m as fe}from"./chunk-SK6APAT5.js";import{b as N}from"./chunk-AQRFGV44.js";import"./chunk-I5QX4CCA.js";import{a as ie,b as re,d as ne,e as se,g as P}from"./chunk-3NLMA3OD.js";import{A as te,v as oe}from"./chunk-7ERNPK3U.js";import{A as ee,f as V,g as X,k as w,m as k,p as H,q,t as J,u as K,w as I,y as v}from"./chunk-HA3OCK63.js";import{f as ae,i as p,j as me}from"./chunk-UVKSHNQV.js";import{q as W}from"./chunk-QFHU2GEW.js";import"./chunk-SRHI3DNT.js";import{Ga as g,Ja as Z,o as U}from"./chunk-T2UVNK6V.js";import{Eb as d,Fb as c,Gb as s,M,Ub as x,a as z,b as F,bb as C,ea as $,fb as u,gb as n,gc as f,jc as h,na as l,nb as B,oa as j,qb as S,rb as A,sb as y,ub as m,zb as G}from"./chunk-T2ST7G6M.js";var R=(()=>{let e=class e{set personId(i){this._personId=i,this.getPerson(i);}get personId(){return this._personId;}constructor(i,o,r){this.mpplService=i,this.personNamePipe=o,this.router=r,this.indicator=C(!1),this.card={icon:"person",clickFn:()=>this.router.navigate([`/mppl/persons/${this._personId}`]),actions:[]};}getPerson(i){this.mpplService.persons.getById(i).pipe(M(1),pe(this.indicator)).subscribe(o=>{this.card.title=this.personNamePipe.transform(o),this.card.subtitle=_e(o?.sex);});}};e.ɵfac=function(o){return new(o||e)(n(D),n(T),n(I));},e.ɵcmp=l({type:e,selectors:[["medisy-people-persons-common-person-card"]],inputs:{personId:"personId"},standalone:!0,features:[f([]),h],decls:1,vars:2,consts:[[3,"card","indicator"]],template:function(o,r){o&1&&s(0,"sz-ui-card",0),o&2&&m("card",r.card)("indicator",r.indicator);},dependencies:[v,Q,E,ee,W,g,Se],encapsulation:2});let t=e;return t;})();var ye=(()=>{let e=class e extends le{constructor(i,o,r,_){super(r),this.mlabService=i,this.fb=o,this.dialog=r,this.data=_,this.form=o.group({note:[_?.note,[]]});}submit(){this.IsValid()&&this.data&&this.save(this.mlabService.analyses.update(this.data.id,F(z({},this.data),{note:this.form.value.note})));}};e.ɵfac=function(o){return new(o||e)(n(a),n(q),n(ie),n(re));},e.ɵcmp=l({type:e,selectors:[["medisy-analysis-save"]],standalone:!0,features:[f([a]),B,h],decls:5,vars:3,consts:()=>{let i;return i="Note",[[3,"header"],[1,"sz-form",3,"formGroup"],["formControlName","note","label",i],[3,"actions"]];},template:function(o,r){o&1&&(s(0,"sz-ui-dialog-header",0),d(1,"mat-dialog-content")(2,"form",1),s(3,"sz-ui-form-field-input",2),c()(),s(4,"sz-ui-dialog-actions",3)),o&2&&(m("header",r.header),u(2),m("formGroup",r.form),u(2),m("actions",r.actions));},dependencies:[J,w,V,X,k,H,P,se,fe,de,ce,te,oe],encapsulation:2});let t=e;return t;})();var Ee=()=>[O],Te=()=>[L],Oe=()=>[R];function Le(t,e){if(t&1&&s(0,"medisy-people-persons-common-person-card",5),t&2){let ve=x(2);m("personId",ve.analysis.personId);}}function Re(t,e){t&1&&(S(0,Le,1,1),A(1,0,Oe),y());}function be(t,e){t&1&&s(0,"medisy-laboratory-analysis-tests");}function Ye(t,e){t&1&&s(0,"medisy-laboratory-analysis-specimens");}var he=(()=>{let e=class e{constructor(i,o,r,_){this.dialog=i,this.route=o,this.router=r,this.mlabService=_,this.alert$=C(void 0),this.tiles=[],this.analysisMenu=me.more([p.edit(()=>this.openSaveComponent()),p.divider(),p.print(()=>this.opendPrintComponent),p.default(b.publish,"publish",this.openPublishComponent),p.divider(),p.default(b.qr,"qr_code",this.openPublishComponent)]),this.analysis=this.route.snapshot.data.analysis;}openSaveComponent(){this.dialog.open(ye,{data:this.analysis}).afterClosed().pipe(M(1)).subscribe(i=>{i&&(this.analysis=i);});}opendPrintComponent(){}openPublishComponent(){}};e.ɵfac=function(o){return new(o||e)(n(ne),n(K),n(I),n(a));},e.ɵcmp=l({type:e,selectors:[["medisy-laboratory-analysis"]],features:[f([a,D,T])],decls:12,vars:4,consts:()=>{let i;i="Tests";let o;return o="Specimens",[[3,"title","subtitle","menu"],[1,"sz-grid-card","tw-my-4"],["mat-stretch-tabs","false"],["label",i],["label",o],[3,"personId"]];},template:function(o,r){o&1&&(s(0,"sz-ui-header-info",0),d(1,"div",1),S(2,Re,3,0),c(),d(3,"mat-tab-group",2)(4,"mat-tab",3),S(5,be,1,0),A(6,5,Ee),y(),c(),d(8,"mat-tab",4),S(9,Ye,1,0),A(10,9,Te),y(),c()()),o&2&&(m("title",r.analysis.code)("subtitle",r.analysis.note)("menu",r.analysisMenu),u(2),G(2,r.analysis.personId?2:-1));},dependencies:[Me,Ce,N],encapsulation:2});let t=e;return t;})();var Ie=[{path:"",component:he},{path:"tests",loadComponent:()=>import("./chunk-7I5H3YV7.js").then(t=>t.AnalysisTestsComponent)},{path:"specimens",loadComponent:()=>import("./chunk-5HDOU4MN.js").then(t=>t.AnalysisSpecimensComponent)}];var Wo=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=j({type:e}),e.ɵinj=$({providers:[a],imports:[U,v.forChild(Ie),P,Z,g,ue,Ae,N,E,ae,O,L,R]});let t=e;return t;})();export{Wo as AnalysisModule};/**i18n:5ad987f33fb36a4bb6d53ec4372590584614aa13df9413297fdfa1032f98b4a2*/