import{a as ne}from"./chunk-3WOJVNNX.js";import{c as ae}from"./chunk-EC77XKO6.js";import{a as I}from"./chunk-RJBVUYI6.js";import{a as S,b as te,d as oe,e as ie,j as re,k as se}from"./chunk-RT2DOIX4.js";import"./chunk-FE7PUGPV.js";import"./chunk-WFQLTXIP.js";import"./chunk-FIFCAY3U.js";import{a as m}from"./chunk-D36Z2HMB.js";import"./chunk-OK2QS2H3.js";import{e as K,f as W,g as Z,i as x,j as G,k as ee}from"./chunk-CR4T7ICE.js";import"./chunk-JLE7ID76.js";import{a as C}from"./chunk-HCDVJ2I2.js";import{h as b,j as J}from"./chunk-DINSQL77.js";import{a as $,b as k,d as v,e as q,g}from"./chunk-XG5XEC3X.js";import"./chunk-VZOUZHWP.js";import{u as H,w as Q}from"./chunk-NP4UDNU2.js";import"./chunk-KGY6UELD.js";import"./chunk-QO44V4EG.js";import{c as X}from"./chunk-SXV3ZUGK.js";import"./chunk-DPTX3R7K.js";import{d as F,f as R,g as L,l as j,n as B,q as P,r as w,u as V}from"./chunk-5RALKHWD.js";import"./chunk-CDJ3WT4B.js";import{a as T,c as Y,e as h}from"./chunk-6KMSPDBU.js";import"./chunk-DC3E3YM6.js";import{ia as U,la as M}from"./chunk-EMK4LBFH.js";import"./chunk-PJSKJO6O.js";import{Fa as A,Jb as l,Kb as c,Lb as d,Wb as N,bb as p,cb as s,ea as D,na as u,nc as y,oa as E,oc as f,qb as O,zb as a}from"./chunk-34GBQTTX.js";import"./chunk-43YHV5VG.js";var de=(()=>{let t=class t extends K{constructor(o,e,i,n){super(i),this.mlabService=o,this.fb=e,this.dialog=i,this.data=n,this.testTypes=this.mlabService.testTypes.getAll({orderBy:["nameEn"]}),this.form=e.group({testTypeId:[n.testGroupTestType?.testTypeId,[F.required]]});}submit(){this.IsValid()&&(this.data.testGroupTestType?this.save(this.mlabService.testGroups.testTypes.update(this.data.testGroupId,this.data.testGroupTestType?.id,this.form.value)):this.save(this.mlabService.testGroups.testTypes.create(this.data.testGroupId,this.form.value)));}};t.ɵfac=function(e){return new(e||t)(s(m),s(w),s($),s(k));},t.ɵcmp=u({type:t,selectors:[["sz-medisy-laboratory-test-group-test-types-save"]],standalone:!0,features:[y([]),O,f],decls:5,vars:6,consts:()=>{let o;return o="Type",[[3,"title","subtitle","alert"],[1,"sz-form",3,"formGroup"],["formControlName","testTypeId","label",o,3,"source"],[3,"actions"]];},template:function(e,i){e&1&&(d(0,"sz-ui-dialog-header",0),l(1,"mat-dialog-content")(2,"form",1),d(3,"sz-ui-form-field-select",2),c()(),d(4,"sz-ui-dialog-actions",3)),e&2&&(a("title",i.title)("subtitle",i.subtitle)("alert",i.alert()),p(2),a("formGroup",i.form),p(),a("source",i.testTypes),p(),a("actions",i.actions));},dependencies:[V,j,R,L,B,P,g,q,H,G,W,Z,Q],encapsulation:2});let r=t;return r;})();var ue=(()=>{let t=class t{constructor(o,e,i){this.dialog=o,this.mlabService=e,this.route=i,this.dataSource=new oe(),this.testGroupId=A.required(),this.card={title:X.test_types,menu:J.more([b.add(()=>this.openSaveComponent())])},this.dataSource.columnDefs.push(S.uuid("id"),S.string("testType.nameEn"),S.date("createdAt").setVisible(!1),S.date("updatedAt").setVisible(!1),te.menu([b.edit(n=>this.openSaveComponent(n)),b.delete(n=>this.openTestTypeSpecimenTypeDeleteComponent(n))]));}ngOnInit(){this.get();}openSaveComponent(o){this.dialog.open(de,{data:{testGroupId:this.testGroupId(),testGroupTestType:o}}).afterClosed().subscribe(e=>{this.dataSource.addOrUpdateItem(e);});}openTestTypeSpecimenTypeDeleteComponent(o){this.dialog.open(x,{data:ee.delete(this.mlabService.testGroups.testTypes.delete(o.testGroupId,o.id),o)}).afterClosed().subscribe(e=>{this.dataSource.delete(e);});}updateItem(o){this.mlabService.testGroups.testTypes.update(o.testTypeId,o.id,o).subscribe(e=>{this.dataSource.update(e);});}get(){this.mlabService.testGroups.testTypes.get(this.testGroupId(),this.dataSource.getQuery()).pipe(ie(this.dataSource.state)).subscribe(o=>{this.dataSource.set(o.items,o.count);});}};t.ɵfac=function(e){return new(e||t)(s(v),s(m),s(T));},t.ɵcmp=u({type:t,selectors:[["sz-medisy-laboratory-test-group-test-types"]],inputs:{testGroupId:[1,"testGroupId"]},standalone:!0,features:[f],decls:2,vars:3,consts:[[3,"card"],["content","",3,"update","paginationEnabled","dataSource"]],template:function(e,i){e&1&&(l(0,"sz-ui-card",0)(1,"sz-ui-table",1),N("update",function(){return i.get();}),c()()),e&2&&(a("card",i.card),p(),a("paginationEnabled",!1)("dataSource",i.dataSource));},dependencies:[h,M,se,re,I],encapsulation:2});let r=t;return r;})();var z=(()=>{let t=class t{constructor(o,e,i,n){this.dialog=o,this.mlabService=e,this.route=i,this.router=n,this.tiles=[],this.testGroup=this.route.snapshot.data.testGroup;}};t.ɵfac=function(e){return new(e||t)(s(v),s(m),s(T),s(Y));},t.ɵcmp=u({type:t,selectors:[["sz-medisy-laboratory-test-group"]],standalone:!0,features:[y([]),f],decls:4,vars:5,consts:[[3,"title","subtitle","backEnabled"],[1,"tw-grid","lg:tw-grid-cols-2","tw-gap-2","tw-mb-2"],[3,"testGroupId"]],template:function(e,i){e&1&&(d(0,"sz-ui-app-bar",0),l(1,"div",1),d(2,"sz-medisy-laboratory-test-group-test-types",2)(3,"sz-medisy-laboratory-test-group-specimen-types",2),c()),e&2&&(a("title",i.testGroup.name)("subtitle",i.testGroup.description)("backEnabled",!0),p(2),a("testGroupId",i.testGroup.id),p(),a("testGroupId",i.testGroup.id));},dependencies:[ae,C,ue,ne],encapsulation:2});let r=t;return r;})();var le=[{path:"",component:z},{path:"specimen-types",loadComponent:()=>import("./chunk-U4H54VPI.js").then(r=>r.TestGroupSpecimenTypesComponent)}];var dt=(()=>{let t=class t{};t.ɵfac=function(e){return new(e||t)();},t.ɵmod=E({type:t}),t.ɵinj=D({providers:[m],imports:[h.forChild(le),g,U,M,C,G,I,z]});let r=t;return r;})();export{dt as TestGroupModule};/**i18n:2cc98dd3a3b5bc180bc78b3f1af50b699468d67591cd411b77ad1068c18b35e2*/