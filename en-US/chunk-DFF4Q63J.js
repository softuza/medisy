import{a as C}from"./chunk-DWZB3NYV.js";import{a as c}from"./chunk-65XTOA3R.js";import{a as b,b as $}from"./chunk-HQFUL5QB.js";import{a as l}from"./chunk-7W4DPCX5.js";import{a as s}from"./chunk-5TNDWLJL.js";import{a as m}from"./chunk-ZGUTF2MC.js";import{e as r}from"./chunk-53DZ6NLX.js";import{h as P}from"./chunk-ODIMT2GD.js";import{b as j}from"./chunk-NBE6QGAD.js";import{Y as t}from"./chunk-4QPQ7IQ3.js";import{c as B,d as I}from"./chunk-WMCOMOML.js";import{ia as w}from"./chunk-H2OL5IOU.js";import"./chunk-CYOOLWM5.js";import{Eb as T,Gb as f,Hb as g,Ib as h,Jb as _,Kb as v,Lb as S,Yb as y,bb as p,ea as k,gc as x,hc as A,ja as d,na as R,nc as N,oa as M,rb as G,yb as u}from"./chunk-6EDHPT3A.js";import"./chunk-NLUW4JS2.js";function E(o,i){if(o&1&&(_(0,"sz-ui-card",2)(1,"p",3),x(2),v()()),o&2){let a=i.$implicit;u("card",a),p(2),A(a.content)}}function L(o,i){if(o&1&&(S(0,"sz-ui-app-bar",0),_(1,"div",1),g(2,E,3,2,"sz-ui-card",2,f),v()),o&2){let a=y().$implicit,e=y();u("config",e.getGroupAppBarConfig(a)),p(2),h(a.cards)}}function U(o,i){if(o&1&&G(0,L,4,1),o&2){let a=i.$implicit;T(a.cards.length>0?0:-1)}}var F=(()=>{let i=class i{constructor(){this.router=d(B),this.identityService=d($),this.appBarConfig={title:t.settings},this.cardGroups=[{id:"admin",title:t.users,cards:[]}],this.identityService.hasResource("medisy-laboratory-api")&&this.cardGroups.push(...this.addMedisySettings()),this.identityService.hasResource("constr-construction-api")&&this.cardGroups.push(...this.AddConstrSettings()),this.identityService.hasResource("softuza-notification-api")&&this.cardGroups.push(...this.addSoftuzaNotificationSettings()),this.identityService.hasResource("softuza-reporting-api")&&this.cardGroups.push(...this.addSoftuzaReportingSettings()),this.setupAccessManagementSection()}getGroupAppBarConfig(e){return{title:e.title}}addMedisySettings(){let e=[],n=[{id:"mlab",title:t.laboratories,cards:e}];return e.push({icon:r.biotech,header:{title:t.laboratories,subtitle:t.manage_laboratories},clickFn:()=>this.router.navigate([s.Laboratories])},{icon:r.science,header:{title:t.test_types,subtitle:t.manage_test_types},clickFn:()=>this.router.navigate([s.TestTypes])},{icon:r.science,header:{title:t.test_groups,subtitle:t.manage_test_groups},clickFn:()=>this.router.navigate([s.TestGroups])},{icon:r.compare_arrows,header:{title:t.reference_values,subtitle:t.manage_reference_values},clickFn:()=>this.router.navigate([s.ReferenceValues])},{icon:r.type_specimen,header:{title:t.specimen_types,subtitle:t.view_specimen_types},clickFn:()=>this.router.navigate([s.SpecimenTypes])},{icon:r.people_outline,header:{title:t.referrers,subtitle:t.manage_referrers},clickFn:()=>this.router.navigate([s.Referrers])},{icon:r.local_offer,header:{title:t.price_profiles,subtitle:t.manage_price_profiles},clickFn:()=>this.router.navigate([s.PriceProfiles])}),n}AddConstrSettings(){let e=[];return[]}addSoftuzaNotificationSettings(){let e=[],n=[{id:"snti",title:t.notifications,cards:e}];return e.push({icon:r.notifications,header:{title:t.notifications,subtitle:t.manage_notifications},clickFn:()=>this.router.navigate([c.Notifications])},{icon:r.email,header:{title:t.email_notification,subtitle:t.manage_emails},clickFn:()=>this.router.navigate([c.NotificationEmails])},{icon:r.sms,header:{title:t.sms_notification,subtitle:t.manage_sms},clickFn:()=>this.router.navigate([c.NotificationSmses])},{icon:r.announcement,header:{title:t.push_notification,subtitle:t.manage_push},clickFn:()=>this.router.navigate([c.NotificationPushes])},{icon:r.messages,header:{title:t.messages,subtitle:t.manage_messages},clickFn:()=>this.router.navigate([c.Messages])}),n}addSoftuzaReportingSettings(){let e=[],n=[{id:"srpt",title:t.reporting,cards:e}];return e.push({icon:r.summarize,header:{title:t.templates,subtitle:t.manage_templates},clickFn:()=>this.router.navigate([`/${C.Templates}`])},{icon:r.printer,header:{title:t.printers,subtitle:t.manage_printers},clickFn:()=>this.router.navigate([`/${C.Printers}`])}),n}setupAccessManagementSection(){let e=this.cardGroups.find(n=>n.id==="admin");e&&this.identityService.hasResource("realm-management")&&(this.identityService.hasResouceRole("realm-management","manage-users")&&e.cards.push({icon:r.group,header:{title:t.users,subtitle:t.manage_users},clickFn:()=>this.router.navigate([b.Users])}),e.cards.push({icon:r.groups,header:{title:t.groups,subtitle:t.manage_groups},clickFn:()=>this.router.navigate([b.Groups])}))}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=R({type:i,selectors:[["portal-settings"]],standalone:!0,features:[N],decls:3,vars:1,consts:[[3,"config"],[1,"sz-grid-card"],[3,"card"],["title",""]],template:function(n,z){n&1&&(S(0,"sz-ui-app-bar",0),g(1,U,1,1,null,null,f)),n&2&&(u("config",z.appBarConfig),p(),h(z.cardGroups))},dependencies:[m,l],encapsulation:2});let o=i;return o})();var pt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=M({type:i}),i.\u0275inj=k({imports:[I.forChild([{path:"",component:F}]),P,w,l,j,m,F]});let o=i;return o})();export{pt as SettingsModule};
/**i18n:71c33448fc84035c6ee56f25f20b16a3c311d1f911de884d4bce9857c4574a16*/
