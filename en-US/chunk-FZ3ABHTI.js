import{b as ce,h as fe}from"./chunk-P6PL3SPN.js";import"./chunk-XOYEMSH2.js";import{b as I}from"./chunk-JLQHGMMO.js";import{b as Ee}from"./chunk-7X2RXSHX.js";import{a as N}from"./chunk-WMXJLFEK.js";import{a as O}from"./chunk-5LIBYWEP.js";import{h as ie}from"./chunk-WU2WMB3W.js";import"./chunk-HFJZSCN6.js";import"./chunk-XODLCFFB.js";import{a as g}from"./chunk-B67WZSUY.js";import"./chunk-SEOQS6VP.js";import{f as Se,g as _e,h as ue,k as P}from"./chunk-7NUFPHBI.js";import"./chunk-X72KAAKT.js";import{b as C}from"./chunk-YKGVVVX5.js";import{d as me,g as S,h as le,j as pe,l as de}from"./chunk-IWHXOZAZ.js";import{a as Q,b as W,d as Z,e as ee,g as M}from"./chunk-B75B3GWF.js";import{c as re,m as ne,q as ae,t as se}from"./chunk-H2TGRDS5.js";import"./chunk-XRLAKDN6.js";import"./chunk-I4OTRYP6.js";import"./chunk-2LPUO4OM.js";import{b as te,c as d}from"./chunk-4QAOLMRA.js";import"./chunk-IPR66Z7G.js";import{d as h,f as G,g as j,k as U,m as X,p as Y,q as x,s as k,t as w}from"./chunk-JMGGZD4A.js";import"./chunk-2L76HXS6.js";import{a as q,c as H,e as J}from"./chunk-7Q2XJCHR.js";import{c as oe}from"./chunk-6GM3YNBQ.js";import{ia as K}from"./chunk-RCWML6QJ.js";import"./chunk-LHVP4JEO.js";import{Eb as R,Fb as $,Gb as V,Hb as E,Ib as _,Jb as m,O as D,a as T,b as L,ha as y,ib as l,jb as a,jc as f,mc as F,pc as b,qa as c,qb as z,qc as B,ra as A,xb as s}from"./chunk-UMI4LSI3.js";var ge=(()=>{let e=class e extends Se{constructor(t,o,r,n){super(r),this.mpplService=t,this.fb=o,this.dialog=r,this.data=n,this.nationalities=this.mpplService.nationalities.getAll({orderBy:["name"]}),this.languages=this.mpplService.languages.getAll({orderBy:["name"]}),this.sexes=Object.keys(I).map(p=>I[p]),this.form=o.group({sex:[n.sex,[h.required]],languageId:[n.languageId,[h.required]],title:[n.title,[ce()]],ssn:[n.ssn,[]],nationalityId:[n.nationalityId,[]],birthDate:[n.birthDate,[]]});}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,L(T({},this.form.value),{titleId:this.form.value.title?.id})));}};e.ɵfac=function(o){return new(o||e)(a(N),a(x),a(Q),a(W));},e.ɵcmp=c({type:e,selectors:[["sz-medisy-people-person-save"]],standalone:!0,features:[f([]),z,F],decls:12,vars:7,consts:()=>{let t;t="Nationality";let o;o="SSN";let r;r="Language";let n;n="Sex";let p;p="Title";let v;return v="BirthDate",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId","label",t,3,"source"],["formControlName","ssn","label",o],["formControlName","languageId","label",r,3,"source"],["formControlName","sex","label",n,3,"source","localizedValue"],["formControlName","title","label",p],["formControlName","birthDate","label",v],[3,"actions"]];},template:function(o,r){o&1&&(m(0,"sz-ui-dialog-header",0),E(1,"mat-dialog-content")(2,"form",1)(3,"div",2),m(4,"sz-ui-form-field-select",3)(5,"sz-ui-form-field-input",4),_(),m(6,"sz-ui-form-field-select",5),E(7,"div",2),m(8,"sz-ui-form-field-select",6)(9,"sz-medisy-people-title-search",7),_(),m(10,"sz-ui-form-field-date",8),_()(),m(11,"sz-ui-dialog-actions",9)),o&2&&(s("header",r.header),l(2),s("formGroup",r.form),l(2),s("source",r.nationalities),l(2),s("source",r.languages),l(2),s("source",r.sexes)("localizedValue",!0),l(3),s("actions",r.actions));},dependencies:[w,U,G,j,X,Y,P,_e,ue,se,re,M,ee,ne,fe,ae],encapsulation:2});let i=e;return i;})();function he(i,e){if(i&1&&m(0,"sz-ui-card",2),i&2){let Oe=e.$implicit;s("card",Oe);}}var Ne=(()=>{let e=class e{constructor(t,o,r,n){this.dialog=t,this.mlabService=o,this.route=r,this.router=n,this.items=[],this.personMenu=de.more([pe.edit(()=>this.openSaveComponent()),S.divider(),S.item(d.names,"info",()=>this.navigate("names")),S.item(d.phones,"phone",()=>this.navigate("phones")),S.item(d.emails,"alternate_email",()=>this.navigate("emails")),S.item(d.addresses,"home",()=>this.navigate("addresses")),S.item(d.documents,"badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;let p={title:0,icon:"science",subtitle:d.analyses,indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(p),this.getAnalysisCount(p);}navigate(t){this.router.navigate([t],{relativeTo:this.route});}getAnalysisCount(t){this.mlabService.analyses.count().subscribe(o=>{t.title=o;});}openSaveComponent(){this.dialog.open(ge,{data:this.person}).afterClosed().pipe(D(1)).subscribe(t=>{t&&(this.person=t);});}};e.ɵfac=function(o){return new(o||e)(a(Z),a(g),a(q),a(H));},e.ɵcmp=c({type:e,selectors:[["sz-medisy-people-person"]],features:[f([g])],decls:5,vars:4,consts:[[3,"title","menu"],[1,"sz-grid-card"],[3,"card"]],template:function(o,r){o&1&&(m(0,"sz-ui-header-info",0),b(1,"personName"),E(2,"div",1),$(3,he,1,1,"sz-ui-card",2,R),_()),o&2&&(s("title",B(1,2,r.person))("menu",r.personMenu),l(3),V(r.items));},dependencies:[O,C,Ee],encapsulation:2});let i=e;return i;})();var Ce=[{path:"",component:Ne},{path:"names",loadComponent:()=>import("./chunk-56BNEMC7.js").then(i=>i.PersonNamesComponent)},{path:"documents",loadComponent:()=>import("./chunk-R33S7ZLL.js").then(i=>i.PersonDocumentsComponent)}];var Co=(()=>{let e=class e{};e.ɵfac=function(o){return new(o||e)();},e.ɵmod=A({type:e}),e.ɵinj=y({providers:[N],imports:[k,J.forChild(Ce),ie,K,O,P,C,me,te,M,oe,le]});let i=e;return i;})();export{Co as PersonModule};/**i18n:16c9224f5b668b40e6178402b9ae5cba52679b665b9b111ce72150c0a38fe8d5*/