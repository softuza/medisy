"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[197],{5197:(j,U,s)=>{s.r(U),s.d(U,{PersonModule:()=>vt});var S=s(6895),f=s(4512),M=s(5698),u=s(9293),P=s(2700),r=s(5412),i=s(4006),D=s(6656),G=s(6381),e=s(4650),d=s(9939),I=s(5237),R=s(3238),h=s(9549),A=s(4859),$=s(4385),L=s(4144),O=s(806);function p(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function T(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"emailTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let C=(()=>{class _ extends D.E{constructor(t,n,E,l){super(E,n.group({value:[l.value,[i.kI.required,i.kI.email]],emailType:[l.emailType,[i.kI.required]],description:[l.description,[]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=l,this.emailTypes=Object.keys(G.V).map(a=>G.V[a])}handleSubmit(){this.personService.updatePersonEmail(this.data.personId,this.data.id,this.form.value).pipe((0,u.sU)(this.indicator$)).pipe((0,u.S3)(this.alert$)).pipe((0,M.q)(1)).subscribe(n=>{this.close(n)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(i.qu),e.Y36(r.so),e.Y36(r.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-emails-person-email-edit"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,l,a;return o="Edit",t="Description",n="Email",E="Type",l="Close",a=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","emailType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],l,["mat-flat-button","","color","primary",3,"disabled","click"],a,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,p,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,T,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.emailTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[S.sg,S.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,I.w,r.uh,r.xY,r.H8,R.ey,h.KE,A.lW,$.gD,L.Nt,S.Ov,O.V],encapsulation:2}),_})();var Z=s(8823);function V(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function K(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"emailTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let W=(()=>{class _ extends D.E{constructor(t,n,E,l){super(E,n.group({value:[null,[i.kI.required,i.kI.email]],description:[null,[]],emailType:[G.V.Private,[i.kI.required]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=l,this.emailTypes=Object.keys(G.V).map(a=>G.V[a])}handleSubmit(){this.personService.createPersonEmail(this.data.id,this.form.value).pipe((0,u.sU)(this.indicator$)).pipe((0,u.S3)(this.alert$)).pipe((0,M.q)(1)).subscribe(t=>{this.close(t)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(i.qu),e.Y36(r.so),e.Y36(r.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-emails-create"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,l,a;return o="Create",t="Description",n="Email",E="Type",l="Close",a=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","emailType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],l,["mat-flat-button","","color","primary",3,"disabled","click"],a,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,V,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,K,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.emailTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[S.sg,S.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,I.w,r.uh,r.xY,r.H8,R.ey,h.KE,A.lW,$.gD,L.Nt,S.Ov,O.V],encapsulation:2}),_})();var Y=s(7392),g=s(8255),k=s(3104),H=s(7885),w=s(3748),c=s(7155),b=s(8739),y=s(6308),z=s(4850),q=s(6709);let J=(()=>{class _{transform(t){return t.names&&0!==t.names.length?`${t.names[0].firstName} ${t.names[0].lastName}`:`${t.id}`}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275pipe=e.Yjl({name:"personName",type:_,pure:!0}),_})();function ee(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-header-cell",28)(1,"mat-checkbox",29),e.NdJ("change",function(E){e.CHM(t);const l=e.oxw();return e.KtG(E?l.masterToggle():null)}),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function te(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",28)(1,"mat-checkbox",30),e.NdJ("click",function(E){return E.stopPropagation()})("change",function(E){const a=e.CHM(t).$implicit,N=e.oxw();return e.KtG(E?N.selection.toggle(a):null)}),e.qZA()()}if(2&_){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function _e(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&_){const t=o.$implicit,n=e.oxw();e.uIk("colspan",n.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",t===n.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",t.description," ")}}function ne(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," #"),e.qZA())}function oe(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ee(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,32),e.qZA())}function le(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div",33)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&_){const t=o.$implicit;e.xp6(4),e.hij(" ",t.description," ")}}function ae(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,34),e.qZA())}function ie(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function se(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,35),e.qZA())}function Ne(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function Pe(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,36),e.qZA())}function re(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"emailTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.emailType)," ")}}function Se(_,o){1&_&&e._UZ(0,"mat-header-cell",28)}function ce(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",37)(1,"button",38)(2,"mat-icon",7),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,39)(6,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openPersonEmailEditComponent(l))}),e.TgZ(7,"mat-icon",7),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,41),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openPersonEmailDeleteComponent(l))}),e.TgZ(13,"mat-icon",42),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,43),e.qZA()()()()}if(2&_){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function me(_,o){1&_&&e._UZ(0,"mat-header-row")}function Me(_,o){1&_&&e._UZ(0,"mat-row")}function Oe(_,o){if(1&_&&(e._UZ(0,"softuza-ui-table-state",44),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("loading",e.lcZ(1,1,t.indicator$))}}const Te=function(){return[10,25,50,100]};function ue(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-paginator",45),e.NdJ("page",function(E){e.CHM(t);const l=e.oxw();return e.KtG(l.onPageChange(E.pageIndex,E.pageSize))}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("length",t.count)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(3,Te))}}let pe=(()=>{class _ extends P.a{constructor(t,n,E){super(),this.dialog=t,this.personService=n,this.route=E,this.displayedColumns=["EmailType","Value","CreatedAt","menu"],this.person=this.route.snapshot.data.person,this.get()}openCreateComponent(){this.dialog.open(W,{autoFocus:!0,width:"480px",data:this.person}).afterClosed().pipe((0,M.q)(1)).subscribe(n=>{n&&this.add(n)})}openPersonEmailEditComponent(t){this.dialog.open(C,{autoFocus:!0,width:"480px",data:t}).afterClosed().pipe((0,M.q)(1)).subscribe(E=>{E&&this.update(E)})}openPersonEmailDeleteComponent(t){const n=this.personService.deletePersonEmail(t.personId,t.id),E=Z.Tb;E.data=t.id,E.submitEvent=n,this.dialog.open(Z.pg,{autoFocus:!0,width:"480px",data:E}).afterClosed().pipe((0,M.q)(1)).subscribe(a=>{a&&this.delete(a)})}get(){this.personService.getPersonEmails(this.person.id,{pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,query:this.filterValue}).pipe((0,u.sU)(this.indicator$)).pipe((0,M.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(r.uw),e.Y36(d.R),e.Y36(f.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-emails"]],features:[e.qOj],decls:46,vars:13,consts:function(){let o,t,n,E,l,a,N;return o="Add",t="Description",n="Email",E="Created Date",l="Type",a="Edit",N="Delete",[[1,"header-main"],[1,"title"],[1,"header-basic"],["mat-flat-button","","color","primary",3,"click"],o,[1,"spacer"],["mat-icon-button","",3,"click"],["fontSet","material-symbols-outlined"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Description"],["matColumnDef","Value"],["matColumnDef","CreatedAt"],["matColumnDef","EmailType"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],t,[1,"table-cell-stacked"],n,E,l,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],a,["color","warn"],N,[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.openCreateComponent()}),e.TgZ(7,"span"),e.SDv(8,4),e.qZA()(),e._UZ(9,"span",5),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.search=!0}),e.TgZ(11,"mat-icon",7),e._uU(12,"search"),e.qZA()(),e.TgZ(13,"softuza-ui-search-bar",8),e.NdJ("changed",function(l){return n.onSearch(l)})("closed",function(){return n.onSearchClose()}),e.qZA()(),e.TgZ(14,"softuza-ui-table-selection",9)(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"span",5),e.qZA(),e.TgZ(18,"mat-table",10),e.NdJ("matSortChange",function(l){return n.onSort(l.active,l.direction)}),e.ynx(19,11),e.YNc(20,ee,2,2,"mat-header-cell",12),e.YNc(21,te,2,1,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,_e,4,3,"mat-cell",15),e.BQk(),e.ynx(24,16),e.YNc(25,ne,2,0,"mat-header-cell",17),e.YNc(26,oe,2,1,"mat-cell",15),e.BQk(),e.ynx(27,18),e.YNc(28,Ee,2,0,"mat-header-cell",17),e.YNc(29,le,5,1,"mat-cell",15),e.BQk(),e.ynx(30,19),e.YNc(31,ae,2,0,"mat-header-cell",17),e.YNc(32,ie,2,1,"mat-cell",15),e.BQk(),e.ynx(33,20),e.YNc(34,se,2,0,"mat-header-cell",17),e.YNc(35,Ne,3,4,"mat-cell",15),e.BQk(),e.ynx(36,21),e.YNc(37,Pe,2,0,"mat-header-cell",17),e.YNc(38,re,3,3,"mat-cell",15),e.BQk(),e.ynx(39,22),e.YNc(40,Se,1,0,"mat-header-cell",12),e.YNc(41,ce,17,1,"mat-cell",23),e.BQk(),e.YNc(42,me,1,0,"mat-header-row",24),e.YNc(43,Me,1,0,"mat-row",25),e.qZA(),e.YNc(44,Oe,2,3,"softuza-ui-table-state",26),e.YNc(45,ue,1,4,"mat-paginator",27),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,n.person)),e.xp6(10),e.Q6J("visible",n.search),e.xp6(1),e.Q6J("visible",n.selection.hasValue()),e.xp6(2),e.hij("",n.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",n.sortBy),e.Q6J("dataSource",n.dataSource),e.xp6(24),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===n.count),e.xp6(1),e.Q6J("ngIf",n.count>0))},dependencies:[S.O5,Y.Hw,g.VK,g.OP,g.p6,k.R,H.H,w.N,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,b.NW,y.YE,y.nU,z.d,q.oG,A.lW,S.Ov,S.uU,J,O.V],encapsulation:2}),_})();var F=s(4004),X=s(4841);function de(_,o){1&_&&e._UZ(0,"softuza-ui-alert",17),2&_&&e.Q6J("alert",o.ngIf)}function Ae(_,o){if(1&_&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}let Ce=(()=>{class _ extends D.E{constructor(t,n,E,l,a){super(l,E.group({firstName:["",[i.kI.required,i.kI.minLength(1)]],lastName:[null,[]],middleName:[null,[]],languageId:[null,[i.kI.required]]})),this.personService=t,this.languageService=n,this.fb=E,this.dialog=l,this.data=a,this.languages$=null,this.languages$=this.languageService.getLanguages().pipe((0,F.U)(N=>N.items))}handleSubmit(){this.personService.createPersonName(this.data.id,this.form.value).pipe((0,u.sU)(this.indicator$)).pipe((0,u.S3)(this.alert$)).pipe((0,M.q)(1)).subscribe(t=>{this.close(t)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(X.T),e.Y36(i.qu),e.Y36(r.so),e.Y36(r.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-names-create"]],features:[e._Bn([X.T]),e.qOj],decls:28,vars:10,consts:function(){let o,t,n,E,l,a,N;return o="Create",t="First name",n="Last name",E="Middle name",l="Language",a="Close",N=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],[1,"tw-flex-1"],["autocomplete","off","formControlName","firstName","matInput","","placeholder",t],["autocomplete","off","formControlName","lastName","matInput","","placeholder",n],["autocomplete","off","formControlName","middleName","matInput","","placeholder",E],l,["formControlName","languageId"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],a,["mat-flat-button","","color","primary",3,"disabled","click"],N,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,de,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"label"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"mat-form-field",5)(11,"label"),e._UZ(12,"input",7),e.qZA()()(),e.TgZ(13,"mat-form-field",5)(14,"label"),e._UZ(15,"input",8),e.qZA()(),e.TgZ(16,"mat-form-field",5)(17,"label"),e.SDv(18,9),e.qZA(),e.TgZ(19,"mat-select",10),e.YNc(20,Ae,2,2,"mat-option",11),e.ALo(21,"async"),e.qZA()()()(),e.TgZ(22,"mat-dialog-actions",12)(23,"button",13),e.NdJ("click",function(){return n.close()}),e.SDv(24,14),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.submit()}),e.SDv(26,16),e.ALo(27,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(15),e.Q6J("ngForOf",e.lcZ(21,6,n.languages$)),e.xp6(5),e.Q6J("disabled",e.lcZ(27,8,n.indicator$)))},dependencies:[S.sg,S.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,I.w,r.uh,r.xY,r.H8,R.ey,h.KE,A.lW,$.gD,L.Nt,S.Ov],encapsulation:2}),_})();function ge(_,o){1&_&&e._UZ(0,"softuza-ui-alert",17),2&_&&e.Q6J("alert",o.ngIf)}function fe(_,o){if(1&_&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}let Re=(()=>{class _ extends D.E{constructor(t,n,E,l,a){super(l,E.group({firstName:[a.firstName,[i.kI.required,i.kI.minLength(1)]],lastName:[a.lastName,[]],middleName:[a.middleName,[]],languageId:[a.languageId,[i.kI.required]]})),this.personService=t,this.languageService=n,this.fb=E,this.dialog=l,this.data=a,this.languages$=null,this.languages$=this.languageService.getLanguages().pipe((0,F.U)(N=>N.items))}handleSubmit(){this.personService.updatePersonName(this.data.personId,this.data.id,this.form.value).pipe((0,u.sU)(this.indicator$)).pipe((0,u.S3)(this.alert$)).pipe((0,M.q)(1)).subscribe(n=>{this.close(n)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(X.T),e.Y36(i.qu),e.Y36(r.so),e.Y36(r.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-names-person-name-edit"]],features:[e._Bn([X.T]),e.qOj],decls:28,vars:10,consts:function(){let o,t,n,E,l,a,N;return o="Edit",t="First name",n="Last name",E="Middle name",l="Language",a="Close",N=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","md:tw-flex-row","md:tw-gap-4","tw-flex-col"],[1,"tw-flex-1"],["autocomplete","off","formControlName","firstName","matInput","","placeholder",t],["autocomplete","off","formControlName","lastName","matInput","","placeholder",n],["autocomplete","off","formControlName","middleName","matInput","","placeholder",E],l,["formControlName","languageId"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],a,["mat-flat-button","","color","primary",3,"disabled","click"],N,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,ge,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"label"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"mat-form-field",5)(11,"label"),e._UZ(12,"input",7),e.qZA()()(),e.TgZ(13,"mat-form-field",5)(14,"label"),e._UZ(15,"input",8),e.qZA()(),e.TgZ(16,"mat-form-field",5)(17,"label"),e.SDv(18,9),e.qZA(),e.TgZ(19,"mat-select",10),e.YNc(20,fe,2,2,"mat-option",11),e.ALo(21,"async"),e.qZA()()()(),e.TgZ(22,"mat-dialog-actions",12)(23,"button",13),e.NdJ("click",function(){return n.close()}),e.SDv(24,14),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.submit()}),e.SDv(26,16),e.ALo(27,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(15),e.Q6J("ngForOf",e.lcZ(21,6,n.languages$)),e.xp6(5),e.Q6J("disabled",e.lcZ(27,8,n.indicator$)))},dependencies:[S.sg,S.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,I.w,r.uh,r.xY,r.H8,R.ey,h.KE,A.lW,$.gD,L.Nt,S.Ov],encapsulation:2}),_})();function he(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-header-cell",29)(1,"mat-checkbox",30),e.NdJ("change",function(E){e.CHM(t);const l=e.oxw();return e.KtG(E?l.masterToggle():null)}),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function Le(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",29)(1,"mat-checkbox",31),e.NdJ("click",function(E){return E.stopPropagation()})("change",function(E){const a=e.CHM(t).$implicit,N=e.oxw();return e.KtG(E?N.selection.toggle(a):null)}),e.qZA()()}if(2&_){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function De(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e._uU(1," #"),e.qZA())}function Ie(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function $e(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,33),e.qZA())}function Ze(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"strong"),e._uU(2),e.qZA()()),2&_){const t=o.$implicit;e.xp6(2),e.hij(" ",t.firstName," ")}}function Ge(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,34),e.qZA())}function ye(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"strong"),e._uU(2),e.qZA()()),2&_){const t=o.$implicit;e.xp6(2),e.hij(" ",t.middleName," ")}}function ve(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,35),e.qZA())}function Ye(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"strong"),e._uU(2),e.qZA()()),2&_){const t=o.$implicit;e.xp6(2),e.hij(" ",t.lastName," ")}}function xe(_,o){1&_&&(e.TgZ(0,"mat-header-cell",32),e.SDv(1,36),e.qZA())}function Ue(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function be(_,o){1&_&&(e.TgZ(0,"mat-header-cell",37),e.SDv(1,38),e.qZA())}function ze(_,o){if(1&_&&(e.TgZ(0,"mat-cell",29),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function qe(_,o){1&_&&e._UZ(0,"mat-header-cell",29)}function Je(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",39)(1,"button",40)(2,"mat-icon",7),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,41)(6,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openPersonNameEditComponent(l))}),e.TgZ(7,"mat-icon",7),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,43),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openPersonNameDeleteComponent(l))}),e.TgZ(13,"mat-icon",44),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,45),e.qZA()()()()}if(2&_){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Xe(_,o){1&_&&e._UZ(0,"mat-header-row")}function ke(_,o){1&_&&e._UZ(0,"mat-row")}function He(_,o){if(1&_&&(e._UZ(0,"softuza-ui-table-state",46),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("loading",e.lcZ(1,1,t.indicator$))}}const we=function(){return[10,25,50,100]};function Qe(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-paginator",47),e.NdJ("page",function(E){e.CHM(t);const l=e.oxw();return e.KtG(l.onPageChange(E.pageIndex,E.pageSize))}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("length",t.count)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(3,we))}}let Fe=(()=>{class _ extends P.a{constructor(t,n,E){super(),this.dialog=t,this.personService=n,this.route=E,this.displayedColumns=["FirstName","MiddleName","LastName","CreatedAt","menu"],this.person=this.route.snapshot.data.person,this.get()}openCreateComponent(){this.dialog.open(Ce,{autoFocus:!0,width:"480px",data:this.person}).afterClosed().pipe((0,M.q)(1)).subscribe(n=>{n&&this.add(n)})}openPersonNameEditComponent(t){this.dialog.open(Re,{autoFocus:!0,width:"480px",data:t}).afterClosed().pipe((0,M.q)(1)).subscribe(E=>{E&&this.update(E)})}openPersonNameDeleteComponent(t){const n=this.personService.deletePersonName(t.personId,t.id),E=Z.Tb;E.data=t.id,E.submitEvent=n,this.dialog.open(Z.pg,{autoFocus:!0,width:"480px",data:E}).afterClosed().pipe((0,M.q)(1)).subscribe(a=>{a&&this.delete(a)})}get(){this.personService.getPersonNames(this.person.id,{pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,query:this.filterValue}).pipe((0,u.sU)(this.indicator$)).pipe((0,M.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(r.uw),e.Y36(d.R),e.Y36(f.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-names"]],features:[e.qOj],decls:47,vars:13,consts:function(){let o,t,n,E,l,a,N,m;return o="Add",t="First name",n="Middle name",E="Last name",l="Created Date",a="Code",N="Edit",m="Delete",[[1,"header-main"],[1,"title"],[1,"header-basic"],["mat-flat-button","","color","primary",3,"click"],o,[1,"spacer"],["mat-icon-button","",3,"click"],["fontSet","material-symbols-outlined"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","FirstName"],["matColumnDef","MiddleName"],["matColumnDef","LastName"],["matColumnDef","CreatedAt"],["matColumnDef","Code"],["mat-sort-header","","class","table-column-small",4,"matHeaderCellDef"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],t,n,E,l,["mat-sort-header","",1,"table-column-small"],a,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],N,["color","warn"],m,[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.openCreateComponent()}),e.TgZ(7,"span"),e.SDv(8,4),e.qZA()(),e._UZ(9,"span",5),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.search=!0}),e.TgZ(11,"mat-icon",7),e._uU(12,"search"),e.qZA()(),e.TgZ(13,"softuza-ui-search-bar",8),e.NdJ("changed",function(l){return n.onSearch(l)})("closed",function(){return n.onSearchClose()}),e.qZA()(),e.TgZ(14,"softuza-ui-table-selection",9)(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"span",5),e.qZA(),e.TgZ(18,"mat-table",10),e.NdJ("matSortChange",function(l){return n.onSort(l.active,l.direction)}),e.ynx(19,11),e.YNc(20,he,2,2,"mat-header-cell",12),e.YNc(21,Le,2,1,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,De,2,0,"mat-header-cell",15),e.YNc(24,Ie,2,1,"mat-cell",16),e.BQk(),e.ynx(25,17),e.YNc(26,$e,2,0,"mat-header-cell",15),e.YNc(27,Ze,3,1,"mat-cell",16),e.BQk(),e.ynx(28,18),e.YNc(29,Ge,2,0,"mat-header-cell",15),e.YNc(30,ye,3,1,"mat-cell",16),e.BQk(),e.ynx(31,19),e.YNc(32,ve,2,0,"mat-header-cell",15),e.YNc(33,Ye,3,1,"mat-cell",16),e.BQk(),e.ynx(34,20),e.YNc(35,xe,2,0,"mat-header-cell",15),e.YNc(36,Ue,3,4,"mat-cell",16),e.BQk(),e.ynx(37,21),e.YNc(38,be,2,0,"mat-header-cell",22),e.YNc(39,ze,2,1,"mat-cell",13),e.BQk(),e.ynx(40,23),e.YNc(41,qe,1,0,"mat-header-cell",12),e.YNc(42,Je,17,1,"mat-cell",24),e.BQk(),e.YNc(43,Xe,1,0,"mat-header-row",25),e.YNc(44,ke,1,0,"mat-row",26),e.qZA(),e.YNc(45,He,2,3,"softuza-ui-table-state",27),e.YNc(46,Qe,1,4,"mat-paginator",28),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,n.person)),e.xp6(10),e.Q6J("visible",n.search),e.xp6(1),e.Q6J("visible",n.selection.hasValue()),e.xp6(2),e.hij("",n.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",n.sortBy),e.Q6J("dataSource",n.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===n.count),e.xp6(1),e.Q6J("ngIf",n.count>0))},dependencies:[S.O5,Y.Hw,g.VK,g.OP,g.p6,k.R,H.H,w.N,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,b.NW,y.YE,y.nU,z.d,q.oG,A.lW,S.Ov,S.uU,J],encapsulation:2}),_})();var x=s(827),Q=s(2564);function Be(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function je(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"phoneTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let Ve=(()=>{class _ extends D.E{constructor(t,n,E,l){super(E,n.group({value:[l.value,[i.kI.required,i.kI.minLength(1)]],phoneType:[l.phoneType,[i.kI.required]],description:[l.description,[]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=l,this.phoneTypes=Object.keys(x.z).map(a=>x.z[a])}handleSubmit(){this.personService.updatePersonPhone(this.data.personId,this.data.id,this.form.value).pipe((0,u.sU)(this.indicator$)).pipe((0,u.S3)(this.alert$)).pipe((0,M.q)(1)).subscribe(n=>{this.close(n)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(i.qu),e.Y36(r.so),e.Y36(r.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-phones-person-phone-edit"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,l,a;return o="Edit",t="Description",n="Number",E="Type",l="Close",a=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","phoneType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],l,["mat-flat-button","","color","primary",3,"disabled","click"],a,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Be,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,je,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.phoneTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[S.sg,S.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,I.w,r.uh,r.xY,r.H8,R.ey,h.KE,A.lW,$.gD,L.Nt,S.Ov,Q.r],encapsulation:2}),_})();function Ke(_,o){1&_&&e._UZ(0,"softuza-ui-alert",14),2&_&&e.Q6J("alert",o.ngIf)}function We(_,o){if(1&_&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"phoneTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}let et=(()=>{class _ extends D.E{constructor(t,n,E,l){super(E,n.group({value:[null,[i.kI.required]],description:[null,[]],phoneType:[x.z.Mobile,[i.kI.required]]})),this.personService=t,this.fb=n,this.dialog=E,this.data=l,this.phoneTypes=Object.keys(x.z).map(a=>x.z[a])}handleSubmit(){this.personService.createPersonPhone(this.data.id,this.form.value).pipe((0,u.sU)(this.indicator$)).pipe((0,u.S3)(this.alert$)).pipe((0,M.q)(1)).subscribe(t=>{this.close(t)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(d.R),e.Y36(i.qu),e.Y36(r.so),e.Y36(r.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-phones-create"]],features:[e._Bn([]),e.qOj],decls:22,vars:8,consts:function(){let o,t,n,E,l,a;return o="Create",t="Description",n="Number",E="Type",l="Close",a=" Save ",[["mat-dialog-title",""],o,[3,"alert",4,"ngIf"],[1,"tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex-1"],["autocomplete","off","formControlName","description","matInput","","placeholder",t],["autocomplete","off","formControlName","value","matInput","","placeholder",n],["formControlName","phoneType","placeholder",E],[3,"value",4,"ngFor","ngForOf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],l,["mat-flat-button","","color","primary",3,"disabled","click"],a,[3,"alert"],[3,"value"]]},template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e.SDv(1,1),e.qZA(),e.YNc(2,Ke,1,1,"softuza-ui-alert",2),e.ALo(3,"async"),e.TgZ(4,"mat-dialog-content")(5,"form",3)(6,"mat-form-field",4)(7,"label")(8,"textarea",5),e._uU(9,"        "),e.qZA()()(),e.TgZ(10,"mat-form-field",4)(11,"label"),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"mat-form-field",4)(14,"mat-select",7),e.YNc(15,We,3,4,"mat-option",8),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",9)(17,"button",10),e.NdJ("click",function(){return n.close()}),e.SDv(18,11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.submit()}),e.SDv(20,13),e.ALo(21,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,n.alert$)),e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngForOf",n.phoneTypes),e.xp6(4),e.Q6J("disabled",e.lcZ(21,6,n.indicator$)))},dependencies:[S.sg,S.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,I.w,r.uh,r.xY,r.H8,R.ey,h.KE,A.lW,$.gD,L.Nt,S.Ov,Q.r],encapsulation:2}),_})();function tt(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-header-cell",28)(1,"mat-checkbox",29),e.NdJ("change",function(E){e.CHM(t);const l=e.oxw();return e.KtG(E?l.masterToggle():null)}),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function _t(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",28)(1,"mat-checkbox",30),e.NdJ("click",function(E){return E.stopPropagation()})("change",function(E){const a=e.CHM(t).$implicit,N=e.oxw();return e.KtG(E?N.selection.toggle(a):null)}),e.qZA()()}if(2&_){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))}}function nt(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div")(2,"div"),e._uU(3),e.qZA()()()),2&_){const t=o.$implicit,n=e.oxw();e.uIk("colspan",n.displayedColumns.length),e.xp6(1),e.Q6J("@detailExpand",t===n.expandedElement?"expanded":"collapsed"),e.xp6(2),e.hij(" ",t.description," ")}}function ot(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," #"),e.qZA())}function Et(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function lt(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,32),e.qZA())}function at(_,o){if(1&_&&(e.TgZ(0,"mat-cell")(1,"div",33)(2,"div")(3,"strong"),e._uU(4),e.qZA()()()()),2&_){const t=o.$implicit;e.xp6(4),e.hij(" ",t.description," ")}}function it(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,34),e.qZA())}function st(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function Nt(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,35),e.qZA())}function Pt(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function rt(_,o){1&_&&(e.TgZ(0,"mat-header-cell",31),e.SDv(1,36),e.qZA())}function St(_,o){if(1&_&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"phoneTypeI18n"),e.qZA()),2&_){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.phoneType)," ")}}function ct(_,o){1&_&&e._UZ(0,"mat-header-cell",28)}function mt(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-cell",37)(1,"button",38)(2,"mat-icon",7),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,39)(6,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openPersonPhoneEditComponent(l))}),e.TgZ(7,"mat-icon",7),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e.SDv(10,41),e.qZA()(),e._UZ(11,"mat-divider"),e.TgZ(12,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openPersonPhoneDeleteComponent(l))}),e.TgZ(13,"mat-icon",42),e._uU(14,"delete"),e.qZA(),e.TgZ(15,"span"),e.SDv(16,43),e.qZA()()()()}if(2&_){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Mt(_,o){1&_&&e._UZ(0,"mat-header-row")}function Ot(_,o){1&_&&e._UZ(0,"mat-row")}function Tt(_,o){if(1&_&&(e._UZ(0,"softuza-ui-table-state",44),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("loading",e.lcZ(1,1,t.indicator$))}}const ut=function(){return[10,25,50,100]};function pt(_,o){if(1&_){const t=e.EpF();e.TgZ(0,"mat-paginator",45),e.NdJ("page",function(E){e.CHM(t);const l=e.oxw();return e.KtG(l.onPageChange(E.pageIndex,E.pageSize))}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("length",t.count)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(3,ut))}}let dt=(()=>{class _ extends P.a{constructor(t,n,E){super(),this.dialog=t,this.personService=n,this.route=E,this.displayedColumns=["PhoneType","Value","CreatedAt","menu"],this.person=this.route.snapshot.data.person,this.get()}openCreateComponent(){this.dialog.open(et,{autoFocus:!0,width:"480px",data:this.person}).afterClosed().pipe((0,M.q)(1)).subscribe(n=>{n&&this.add(n)})}openPersonPhoneEditComponent(t){this.dialog.open(Ve,{autoFocus:!0,width:"480px",data:t}).afterClosed().pipe((0,M.q)(1)).subscribe(E=>{E&&this.update(E)})}openPersonPhoneDeleteComponent(t){const n=this.personService.deletePersonPhone(t.personId,t.id),E=Z.Tb;E.data=t.id,E.submitEvent=n,this.dialog.open(Z.pg,{autoFocus:!0,width:"480px",data:E}).afterClosed().pipe((0,M.q)(1)).subscribe(a=>{a&&this.delete(a)})}get(){this.personService.getPersonPhones(this.person.id,{pageIndex:this.pageIndex,pageSize:this.pageSize,sortBy:this.sortBy,sortDescending:this.sortDescending,query:this.filterValue}).pipe((0,u.sU)(this.indicator$)).pipe((0,M.q)(1)).subscribe(n=>{this.set(n.count,n.items)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(r.uw),e.Y36(d.R),e.Y36(f.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-person-phones"]],features:[e.qOj],decls:46,vars:13,consts:function(){let o,t,n,E,l,a,N;return o="Add",t="Description",n="Phone",E="Created Date",l="Type",a="Edit",N="Delete",[[1,"header-main"],[1,"title"],[1,"header-basic"],["mat-flat-button","","color","primary",3,"click"],o,[1,"spacer"],["mat-icon-button","",3,"click"],["fontSet","material-symbols-outlined"],[3,"visible","changed","closed"],[3,"visible"],["multiTemplateDataRows","","matSort","","matSortDisableClear","","matSortDirection","desc",3,"dataSource","matSortActive","matSortChange"],["matColumnDef","select"],["class","table-column-small",4,"matHeaderCellDef"],["class","table-column-small",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Description"],["matColumnDef","Value"],["matColumnDef","CreatedAt"],["matColumnDef","PhoneType"],["matColumnDef","menu"],["class","table-column-small table-column-end",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"loading",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"table-column-small"],[3,"checked","indeterminate","change"],[3,"checked","click","change"],["mat-sort-header",""],t,[1,"table-cell-stacked"],n,E,l,[1,"table-column-small","table-column-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["itemMenu","matMenu"],["mat-menu-item","",3,"click"],a,["color","warn"],N,[3,"loading"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]]},template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA()(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.openCreateComponent()}),e.TgZ(7,"span"),e.SDv(8,4),e.qZA()(),e._UZ(9,"span",5),e.TgZ(10,"button",6),e.NdJ("click",function(){return n.search=!0}),e.TgZ(11,"mat-icon",7),e._uU(12,"search"),e.qZA()(),e.TgZ(13,"softuza-ui-search-bar",8),e.NdJ("changed",function(l){return n.onSearch(l)})("closed",function(){return n.onSearchClose()}),e.qZA()(),e.TgZ(14,"softuza-ui-table-selection",9)(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"span",5),e.qZA(),e.TgZ(18,"mat-table",10),e.NdJ("matSortChange",function(l){return n.onSort(l.active,l.direction)}),e.ynx(19,11),e.YNc(20,tt,2,2,"mat-header-cell",12),e.YNc(21,_t,2,1,"mat-cell",13),e.BQk(),e.ynx(22,14),e.YNc(23,nt,4,3,"mat-cell",15),e.BQk(),e.ynx(24,16),e.YNc(25,ot,2,0,"mat-header-cell",17),e.YNc(26,Et,2,1,"mat-cell",15),e.BQk(),e.ynx(27,18),e.YNc(28,lt,2,0,"mat-header-cell",17),e.YNc(29,at,5,1,"mat-cell",15),e.BQk(),e.ynx(30,19),e.YNc(31,it,2,0,"mat-header-cell",17),e.YNc(32,st,2,1,"mat-cell",15),e.BQk(),e.ynx(33,20),e.YNc(34,Nt,2,0,"mat-header-cell",17),e.YNc(35,Pt,3,4,"mat-cell",15),e.BQk(),e.ynx(36,21),e.YNc(37,rt,2,0,"mat-header-cell",17),e.YNc(38,St,3,3,"mat-cell",15),e.BQk(),e.ynx(39,22),e.YNc(40,ct,1,0,"mat-header-cell",12),e.YNc(41,mt,17,1,"mat-cell",23),e.BQk(),e.YNc(42,Mt,1,0,"mat-header-row",24),e.YNc(43,Ot,1,0,"mat-row",25),e.qZA(),e.YNc(44,Tt,2,3,"softuza-ui-table-state",26),e.YNc(45,pt,1,4,"mat-paginator",27),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,n.person)),e.xp6(10),e.Q6J("visible",n.search),e.xp6(1),e.Q6J("visible",n.selection.hasValue()),e.xp6(2),e.hij("",n.selection.selected.length," selected"),e.xp6(2),e.s9C("matSortActive",n.sortBy),e.Q6J("dataSource",n.dataSource),e.xp6(24),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===n.count),e.xp6(1),e.Q6J("ngIf",n.count>0))},dependencies:[S.O5,Y.Hw,g.VK,g.OP,g.p6,k.R,H.H,w.N,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,b.NW,y.YE,y.nU,z.d,q.oG,A.lW,S.Ov,S.uU,J,Q.r],encapsulation:2}),_})();var B=s(9739),At=s(1219),Ct=s(4028);function gt(_,o){if(1&_&&(e.TgZ(0,"softuza-ui-card",14),e._UZ(1,"softuza-ui-counter",15),e.qZA()),2&_){const t=o.$implicit;e.Q6J("card",t),e.xp6(1),e.Q6J("value",null==t?null:t.counter)}}const ft=[{path:"",component:(()=>{class _{constructor(t,n,E){this.analysisService=t,this.route=n,this.router=E,this.items=[{counter:0,icon:"science",subtitle:"Analyses",loading:!0}],this.person=this.route.snapshot.data.person,this.getAnlysesCount()}getAnlysesCount(){this.analysisService.getAnalysesCount({personId:this.person.id}).subscribe(t=>{this.items[0].counter=t.count,this.items[0].loading=!1})}navigate(t){t&&t.url&&this.router.navigate([t.url])}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(B.K),e.Y36(f.gz),e.Y36(f.F0))},_.\u0275cmp=e.Xpm({type:_,selectors:[["softuza-medisy-peopel-management-person"]],features:[e._Bn([B.K])],decls:28,vars:5,consts:function(){let o,t,n;return o="Names",t="Phones",n="Emails",[[1,"header-main"],[1,"title"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["fontSet","material-symbols-outlined"],["itemMenu","matMenu"],["mat-menu-item","","routerLink","names"],o,["mat-menu-item","","routerLink","phones"],t,["mat-menu-item","","routerLink","emails"],n,[1,"tw-grid","lg:tw-grid-cols-4","tw-grid-rows-1","tw-gap-4"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],["title","",2,"font-size","24px",3,"value"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.ALo(4,"personName"),e.qZA(),e._UZ(5,"span",2),e.TgZ(6,"button",3)(7,"mat-icon",4),e._uU(8,"more_vert"),e.qZA()(),e.TgZ(9,"mat-menu",null,5)(11,"button",6)(12,"mat-icon",4),e._uU(13,"info"),e.qZA(),e.TgZ(14,"span"),e.SDv(15,7),e.qZA()(),e.TgZ(16,"button",8)(17,"mat-icon",4),e._uU(18,"phone"),e.qZA(),e.TgZ(19,"span"),e.SDv(20,9),e.qZA()(),e.TgZ(21,"button",10)(22,"mat-icon",4),e._uU(23,"email"),e.qZA(),e.TgZ(24,"span"),e.SDv(25,11),e.qZA()()()(),e.TgZ(26,"div",12),e.YNc(27,gt,2,2,"softuza-ui-card",13),e.qZA()()),2&t){const E=e.MAs(10);e.xp6(3),e.Oqu(e.lcZ(4,3,n.person)),e.xp6(3),e.Q6J("matMenuTriggerFor",E),e.xp6(21),e.Q6J("ngForOf",n.items)}},dependencies:[S.sg,f.rH,Y.Hw,g.VK,g.OP,g.p6,At.R,Ct.A,A.lW,J],encapsulation:2}),_})()},{path:"names",component:Fe},{path:"phones",component:dt},{path:"emails",component:pe}];let Rt=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[f.Bz.forChild(ft),f.Bz]}),_})();var ht=s(3546),Lt=s(7966),Dt=s(2597),It=s(4001),$t=s(2579),Zt=s(1143),Gt=s(4053),yt=s(6220);let vt=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({providers:[d.R],imports:[S.ez,i.u5,i.UX,Rt,ht.QW,Y.Ps,g.Tx,Dt.k,Lt.d,It.U,$t.B,Zt.n,c.p0,b.TU,y.JX,z.t,q.p9,r.Is,R.Ng,h.lN,A.ot,$.LD,L.c,yt.v,Gt.L]}),_})()},8823:(j,U,s)=>{s.d(U,{pg:()=>A,Tb:()=>L,Su:()=>r});var S=s(6895),f=s(4859),M=s(5412),u=s(1143),P=s(4650);let r=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=P.oAB({type:O}),O.\u0275inj=P.cJS({imports:[S.ez,M.Is,f.ot,u.n]}),O})();var i=s(4006),D=s(1135),G=s(7579),d=s(9293),I=s(5698),R=s(5237);function h(O,p){1&O&&P._UZ(0,"softuza-ui-alert",5),2&O&&P.Q6J("alert",p.ngIf)}let A=(()=>{class O extends class e{constructor(p){this.indicator$=new D.X(!1),this.alert$=new G.x,this.form=p}reset(){Object.keys(this.form.controls).forEach(p=>{this.form?.get(p)?.setValue(null)})}submit(){!this.form||this.form.valid?this.afterSubmit():Object.keys(this.form.controls).forEach(p=>{this.form?.get(p)?.markAsTouched({onlySelf:!0})})}afterSubmit(){}}{constructor(T,C){super(new i.cw({})),this.dialog=T,this.input=C,this.options=C}afterSubmit(){const T=this.options?.submitEvent;T?T.pipe((0,d.sU)(this.indicator$)).pipe((0,d.S3)(this.alert$)).pipe((0,I.q)(1)).subscribe(()=>{this.close(this.options.data)}):this.close(this.options.data)}close(T=null){this.dialog?.close(T)}}return O.\u0275fac=function(T){return new(T||O)(P.Y36(M.so),P.Y36(M.WI))},O.\u0275cmp=P.Xpm({type:O,selectors:[["softuza-ui-dialog-confirm"]],features:[P.qOj],decls:13,vars:10,consts:[["mat-dialog-title",""],[3,"alert",4,"ngIf"],[1,"mat-dialog-actions-end"],["mat-button","",3,"click"],["mat-flat-button","","color","warn",3,"disabled","click"],[3,"alert"]],template:function(T,C){1&T&&(P.TgZ(0,"h2",0),P._uU(1),P.qZA(),P.YNc(2,h,1,1,"softuza-ui-alert",1),P.ALo(3,"async"),P.TgZ(4,"mat-dialog-content")(5,"p"),P._uU(6),P.qZA()(),P.TgZ(7,"mat-dialog-actions",2)(8,"button",3),P.NdJ("click",function(){return C.close()}),P._uU(9),P.qZA(),P.TgZ(10,"button",4),P.NdJ("click",function(){return C.submit()}),P.ALo(11,"async"),P._uU(12),P.qZA()()),2&T&&(P.xp6(1),P.Oqu(C.options.title),P.xp6(1),P.Q6J("ngIf",P.lcZ(3,6,C.alert$)),P.xp6(4),P.Oqu(C.options.message),P.xp6(3),P.Oqu(C.options.cancelText),P.xp6(1),P.Q6J("disabled",P.lcZ(11,8,C.indicator$)),P.xp6(2),P.hij(" ",C.options.confirmText," "))},dependencies:[S.O5,M.uh,M.xY,M.H8,f.lW,R.w,S.Ov],encapsulation:2}),O})();"Confirm","Do you confirm this action?","Cancel","Confirm";const L={title:"Delete",message:"Are you sure to delete the selected element?",cancelText:"Close",confirmText:"Delete"}}}]);