"use strict";(self.webpackChunkmedisy=self.webpackChunkmedisy||[]).push([[977],{9977:(K,S,t)=>{t.r(S),t.d(S,{PersonModule:()=>j});var E=t(6814),l=t(6223),C=t(2296),N=t(5195),d=t(7700),c=t(6385),u=t(617),p=t(7988),h=t(8109),P=t(2393),M=t(758),O=t(2595),r=t(3576),A=t(5041),f=t(5807),v=t(6883),T=t(2430),y=t(5703),m=t(2764),I=t(9598),z=t(7398),D=t(8180),Y=t(2023),$=t(8210),L=t(2818),Z=t(9004),R=t(1122),o=t(5879),U=t(4622),V=t(6091),J=t(5974);let X=(()=>{class n extends r.Ku{constructor(e,s,i,a){super(i),this.mpplService=e,this.fb=s,this.dialog=i,this.data=a,this.form=s.group({sex:[a.sex,[l.kI.required]],languageId:[a.languageId,[l.kI.required]],title:[a.title,[]],ssn:[a.ssn,[]],nationalityId:[a.nationalityId,[]],birthDate:[a.birthDate,[]]})}submit(){this.IsValid()&&this.save(this.mpplService.persons.update(this.data.id,this.form.value))}static#t=this.\u0275fac=function(s){return new(s||n)(o.Y36(P.i),o.Y36(l.qu),o.Y36(d.so),o.Y36(d.WI))};static#o=this.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-people-person-save"]],standalone:!0,features:[o._Bn([]),o.qOj,o.jDz],decls:12,vars:3,consts:function(){let e,s,i;return e="SSN",s="Title",i="BirthDate",[[3,"header"],[1,"sz-form",3,"formGroup"],[1,"sz-form-row"],["formControlName","nationalityId"],["formControlName","ssn","label",e],["formControlName","languageId"],["formControlName","sex"],["formControlName","title","label",s],["formControlName","birthDate","label",i],[3,"actions"]]},template:function(s,i){1&s&&(o._UZ(0,"sz-ui-dialog-header",0),o.TgZ(1,"mat-dialog-content")(2,"form",1)(3,"div",2),o._UZ(4,"medisy-form-field-nationality",3)(5,"sz-ui-form-field-input",4),o.qZA(),o._UZ(6,"medisy-form-field-language",5),o.TgZ(7,"div",2),o._UZ(8,"medisy-form-field-sex",6)(9,"sz-ui-form-field-input",7),o.qZA(),o._UZ(10,"sz-ui-form-field-date",8),o.qZA()(),o._UZ(11,"sz-ui-dialog-actions",9)),2&s&&(o.Q6J("header",i.header),o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(9),o.Q6J("actions",i.actions))},dependencies:[l.UX,l._Y,l.JJ,l.JL,l.sg,l.u,r.su,U.Y,V.t,Z.g,J.g,d.Is,d.xY,$.V,R.L,L.t,Y.d],encapsulation:2})}return n})();var x=t(6128),F=t(2516),G=t(9060);function B(n,W){1&n&&o._UZ(0,"sz-ui-card",4),2&n&&o.Q6J("card",W.$implicit)}const Q=[{path:"",component:(()=>{class n{constructor(e,s,i,a){this.dialog=e,this.mlabService=s,this.route=i,this.router=a,this.items=[],this.personMenu=y.B.more([m.N.edit(()=>this.openSaveComponent()),m.N.divider(),m.N.custom("Names","info",()=>this.navigate("names")),m.N.custom("Phones","phone",()=>this.navigate("phones")),m.N.custom("Emails","alternate_email",()=>this.navigate("emails")),m.N.custom("Addresses","home",()=>this.navigate("addresses")),m.N.custom("Documents","badge",()=>this.navigate("documents"))]),this.person=this.route.snapshot.data.person;const g={title:0,type:T.k.Counter,icon:"science",subtitle:"Analyses",indicator:!0,clickFn:()=>this.router.navigate(["/mlab/analyses"],{queryParams:{personIds:[this.person.id]}})};this.items.push(g),this.getAnalysisCount(g)}navigate(e){this.router.navigate([e],{relativeTo:this.route})}getAnalysisCount(e){this.mlabService.analyses.get({...I.J.count(),personIds:[this.person.id]}).pipe((0,z.U)(s=>s.count)).subscribe(s=>{e.title=s})}openSaveComponent(){this.dialog.open(X,{data:this.person}).afterClosed().pipe((0,D.q)(1)).subscribe(s=>{s&&(this.person=s)})}static#t=this.\u0275fac=function(s){return new(s||n)(o.Y36(d.uw),o.Y36(v.t),o.Y36(h.gz),o.Y36(h.F0))};static#o=this.\u0275cmp=o.Xpm({type:n,selectors:[["medisy-peopel-person"]],features:[o._Bn([v.t])],decls:7,vars:5,consts:[["start","",1,"sz-h5"],["end","",3,"menu"],[1,"sz-grid-card"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]],template:function(s,i){1&s&&(o.TgZ(0,"sz-ui-header-basic")(1,"h5",0),o._uU(2),o.ALo(3,"personName"),o.qZA(),o._UZ(4,"sz-ui-menu",1),o.qZA(),o.TgZ(5,"div",2),o.YNc(6,B,1,1,"sz-ui-card",3),o.qZA()),2&s&&(o.xp6(2),o.Oqu(o.lcZ(3,3,i.person)),o.xp6(2),o.Q6J("menu",i.personMenu),o.xp6(2),o.Q6J("ngForOf",i.items))},dependencies:[E.sg,x.X,F.z,f.i,G.Y],encapsulation:2})}return n})()},{path:"names",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(247)]).then(t.bind(t,2247)).then(n=>n.PersonNamesComponent)},{path:"phones",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(961)]).then(t.bind(t,1961)).then(n=>n.PersonPhonesComponent)},{path:"emails",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(814)]).then(t.bind(t,1814)).then(n=>n.PersonEmailsComponent)},{path:"documents",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(994)]).then(t.bind(t,2994)).then(n=>n.PersonDocumentsComponent)},{path:"addresses",loadComponent:()=>Promise.all([t.e(572),t.e(986),t.e(592),t.e(396)]).then(t.bind(t,4396)).then(n=>n.PersonAddressesComponent)}];let j=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#o=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[P.i],imports:[E.ez,l.u5,h.Bz.forChild(Q),N.QW,u.Ps,O.V,M.E3,r.su,A.n,p.Tx,c.t,d.Is,C.ot,f.i]})}return n})()}}]);